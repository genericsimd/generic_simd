<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Generic SIMD Library: /gsa/yktgsa-h1/01/pengwu/Web20/SPMD_ON_SIMD/generic_simd.github/include/power_vsx4.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Generic SIMD Library
   &#160;<span id="projectnumber">0.4</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">/gsa/yktgsa-h1/01/pengwu/Web20/SPMD_ON_SIMD/generic_simd.github/include/power_vsx4.h</div>  </div>
</div>
<div class="contents">
<a href="power__vsx4_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00105"></a>00105 <span class="preprocessor">#ifndef POWER_VSX4_H_</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span><span class="preprocessor">#define POWER_VSX4_H_</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00108"></a>00108 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00109"></a>00109 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00110"></a>00110 <span class="preprocessor">#include &lt;altivec.h&gt;</span>
<a name="l00111"></a>00111 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00112"></a>00112 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="preprocessor">#include &quot;gsimd_utility.h&quot;</span>
<a name="l00115"></a>00115 <span class="preprocessor">#include &quot;platform_intrinsics.h&quot;</span>
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="namespacevsx.html">00117</a> <span class="keyword">namespace </span>vsx {
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">00119</a> <span class="preprocessor">#define LANES 4</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00122"></a>00122 <span class="comment">//</span>
<a name="l00123"></a>00123 <span class="comment">// Constructor Section</span>
<a name="l00124"></a>00124 <span class="comment">//</span>
<a name="l00126"></a>00126 <span class="comment"></span>
<a name="l00127"></a>00127 <span class="keyword">struct </span>svec4_ptr;
<a name="l00128"></a>00128 <span class="keyword">struct </span>svec4_i8;
<a name="l00129"></a>00129 <span class="keyword">struct </span>svec4_u8;
<a name="l00130"></a>00130 <span class="keyword">struct </span>svec4_i16;
<a name="l00131"></a>00131 <span class="keyword">struct </span>svec4_u16;
<a name="l00132"></a>00132 <span class="keyword">struct </span>svec4_i32;
<a name="l00133"></a>00133 <span class="keyword">struct </span>svec4_u32;
<a name="l00134"></a>00134 <span class="keyword">struct </span>svec4_i64;
<a name="l00135"></a>00135 <span class="keyword">struct </span>svec4_u64;
<a name="l00136"></a>00136 <span class="keyword">struct </span>svec4_f;
<a name="l00137"></a>00137 <span class="keyword">struct </span>svec4_d;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 
<a name="l00148"></a>00148 <span class="keyword">struct </span>svec4_i1 {
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5">00150</a>     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5" title="use __vector unsigned int v for storage">v</a>; 
<a name="l00151"></a>00151 
<a name="l00156"></a><a class="code" href="structvsx_1_1svec4__i1.html#a9acef77f34349281de48d0b65e3ac932">00156</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i1.html#a9acef77f34349281de48d0b65e3ac932" title="Default constructor.">svec4_i1</a>() { }
<a name="l00163"></a><a class="code" href="structvsx_1_1svec4__i1.html#a959231d7bb0a029f35242a96c8ad9e15">00163</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i1.html#a959231d7bb0a029f35242a96c8ad9e15" title="For internal use only.">svec4_i1</a>(__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv) : <a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5" title="use __vector unsigned int v for storage">v</a>(vv) { }
<a name="l00170"></a><a class="code" href="structvsx_1_1svec4__i1.html#adc0654f7b748ae05950c70132bb96cf7">00170</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i1.html#adc0654f7b748ae05950c70132bb96cf7" title="Constructor.">svec4_i1</a>(uint32_t a, uint32_t b, uint32_t c, uint32_t d) {
<a name="l00171"></a>00171         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t = { a ? -1 : 0, b ? -1 : 0, c ? -1 : 0, d ? -1 : 0 };
<a name="l00172"></a>00172         <a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5" title="use __vector unsigned int v for storage">v</a> = t;
<a name="l00173"></a>00173     }
<a name="l00180"></a><a class="code" href="structvsx_1_1svec4__i1.html#a585e30c5a8cd50568d8170ee6eeb7053">00180</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i1.html#a585e30c5a8cd50568d8170ee6eeb7053" title="Constructor.">svec4_i1</a>( uint32_t a) {
<a name="l00181"></a>00181       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00182"></a>00182         <a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5" title="use __vector unsigned int v for storage">v</a> = (a!=0) ? vec_splat_s32(-1) : vec_splat_s32(0);
<a name="l00183"></a>00183       } <span class="keywordflow">else</span> {
<a name="l00184"></a>00184         INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear i1&quot;</span>);
<a name="l00185"></a>00185         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t = { a ? -1 : 0, a ? -1 : 0, a ? -1 : 0, a ? -1 : 0 };
<a name="l00186"></a>00186         <a class="code" href="structvsx_1_1svec4__i1.html#af1233f15f1dd1efea52013b39fdf1ff5" title="use __vector unsigned int v for storage">v</a> = t;
<a name="l00187"></a>00187       }
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <a class="code" href="structvsx_1_1svec4__i1.html#a63f80704141ea3625d70ebdd0b586a53">SUBSCRIPT_FUNC_OPT_DECL</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l00191"></a>00191     <a class="code" href="structvsx_1_1svec4__i1.html#a738c77b3b6c94fee79822a630764b30e">COUT_FUNC_I1</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00192"></a>00192     <a class="code" href="structvsx_1_1svec4__i1.html#a4e0b07f59b88086520cf41ce8f25b6c2">MVEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l00193"></a>00193 };
<a name="l00194"></a>00194 
<a name="l00198"></a>00198 <span class="keyword">struct </span>svec4_i8 {
<a name="l00199"></a><a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">00199</a>     __vector <span class="keywordtype">signed</span> <span class="keywordtype">char</span> <a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">v</a>;
<a name="l00200"></a>00200 
<a name="l00205"></a><a class="code" href="structvsx_1_1svec4__i8.html#ab80014b37a0db21d4b087f95b5745d37">00205</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html#ab80014b37a0db21d4b087f95b5745d37" title="Default constructor.">svec4_i8</a>() { }
<a name="l00211"></a><a class="code" href="structvsx_1_1svec4__i8.html#a3cac2aca44bf88ddc0ba1cbe1e834b14">00211</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html#a3cac2aca44bf88ddc0ba1cbe1e834b14" title="For internal use only.">svec4_i8</a>(__vector <span class="keywordtype">signed</span> <span class="keywordtype">char</span> vv) : <a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">v</a>(vv) {  }
<a name="l00216"></a><a class="code" href="structvsx_1_1svec4__i8.html#ab24c0a40efc0df0d98a1d5f3cc047cbd">00216</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html#ab24c0a40efc0df0d98a1d5f3cc047cbd" title="Constructor.">svec4_i8</a>(int8_t a, int8_t b, int8_t c, int8_t d) {
<a name="l00217"></a>00217         __vector <span class="keywordtype">signed</span> <span class="keywordtype">char</span> t = {a,b,c,d,0,0,0,0,
<a name="l00218"></a>00218                                   0,0,0,0,0,0,0,0};
<a name="l00219"></a>00219         <a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">v</a> = t;
<a name="l00220"></a>00220     }
<a name="l00225"></a><a class="code" href="structvsx_1_1svec4__i8.html#a09e3869f79c8477800d753d39e816f3a">00225</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html#a09e3869f79c8477800d753d39e816f3a" title="Constructor.">svec4_i8</a>( int8_t a) {
<a name="l00226"></a>00226       <span class="keywordflow">if</span>(__builtin_constant_p(a) &amp;&amp; (a &lt;= 15) &amp;&amp; (a &gt;= -16)){
<a name="l00227"></a>00227          <a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">v</a> = vec_splat_s8(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00228"></a>00228       } <span class="keywordflow">else</span> {
<a name="l00229"></a>00229         INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear i8&quot;</span>);
<a name="l00230"></a>00230         __vector <span class="keywordtype">signed</span> <span class="keywordtype">char</span> t = {a,a,a,a,0,0,0,0,
<a name="l00231"></a>00231                                   0,0,0,0,0,0,0,0};
<a name="l00232"></a>00232         <a class="code" href="structvsx_1_1svec4__i8.html#abc09c93e3bc1e71aa6a3d74583794c32">v</a> = t;
<a name="l00233"></a>00233       }
<a name="l00234"></a>00234     }
<a name="l00239"></a>00239     <a class="code" href="structvsx_1_1svec4__i8.html#af26e02cb94740f4ebf135cb3300a72d0" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t);
<a name="l00240"></a>00240     <a class="code" href="structvsx_1_1svec4__i8.html#a336a5763872333360e43e66f3efb6a24">COUT_FUNC_I8</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242     <a class="code" href="structvsx_1_1svec4__i8.html#a53ee17e19c48bb8157604a12c2314ea9">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00243"></a>00243     <a class="code" href="structvsx_1_1svec4__i8.html#a0f044eedc08a9c9d0aa1ce89f589a2eb">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, int8_t);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 };
<a name="l00246"></a>00246 
<a name="l00250"></a>00250 <span class="keyword">struct </span>svec4_u8 {
<a name="l00251"></a><a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">00251</a>     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">v</a>;
<a name="l00256"></a><a class="code" href="structvsx_1_1svec4__u8.html#a862a581cdf42d609ff627e5380493d29">00256</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html#a862a581cdf42d609ff627e5380493d29" title="Default constructor.">svec4_u8</a>() { }
<a name="l00262"></a><a class="code" href="structvsx_1_1svec4__u8.html#ad62ad77fa3e30f6e2e35d8189fca588b">00262</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html#ad62ad77fa3e30f6e2e35d8189fca588b" title="For internal use only.">svec4_u8</a>(__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> vv) : <a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">v</a>(vv) {  }
<a name="l00267"></a><a class="code" href="structvsx_1_1svec4__u8.html#a5f448a15b822123e0c7e299ae8bbe790">00267</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html#a5f448a15b822123e0c7e299ae8bbe790" title="Constructor.">svec4_u8</a>(uint8_t a, uint8_t b, uint8_t c, uint8_t d) {
<a name="l00268"></a>00268         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> t = {a,b,c,d,0,0,0,0,
<a name="l00269"></a>00269                                     0,0,0,0,0,0,0,0};
<a name="l00270"></a>00270         <a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">v</a> = t;
<a name="l00271"></a>00271     }
<a name="l00277"></a><a class="code" href="structvsx_1_1svec4__u8.html#a04040e5682d29114103ad0bd7e5199db">00277</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html#a04040e5682d29114103ad0bd7e5199db" title="Constructor.">svec4_u8</a>(uint8_t a) {
<a name="l00278"></a>00278       <span class="keywordflow">if</span>(__builtin_constant_p(a) &amp;&amp; (a &lt;= 15)){
<a name="l00279"></a>00279          <a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">v</a> = vec_splat_u8(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00280"></a>00280       } <span class="keywordflow">else</span> {
<a name="l00281"></a>00281         INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear u8&quot;</span>);
<a name="l00282"></a>00282         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> t = {a,a,a,a,0,0,0,0,
<a name="l00283"></a>00283                                     0,0,0,0,0,0,0,0};
<a name="l00284"></a>00284         <a class="code" href="structvsx_1_1svec4__u8.html#ab7c6d74c52c9d95ebd245e35f80adca2">v</a> = t;
<a name="l00285"></a>00285       }
<a name="l00286"></a>00286     }
<a name="l00291"></a>00291     <a class="code" href="structvsx_1_1svec4__u8.html#aa2e23f2a02a1257f18ca24557eaa2fe5" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l00292"></a>00292     <a class="code" href="structvsx_1_1svec4__u8.html#a9f6c0ad9053d611b9632e79c0d7deaae">COUT_FUNC_I8</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <a class="code" href="structvsx_1_1svec4__u8.html#ac846dab129fc4fd1096129ce98e37bcf">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00295"></a>00295     <a class="code" href="structvsx_1_1svec4__u8.html#a390c43d54a48ad7bf4cc2ff7cfaa9a3f">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l00296"></a>00296 };
<a name="l00297"></a>00297 
<a name="l00301"></a>00301 <span class="keyword">struct </span>svec4_i16 {
<a name="l00302"></a><a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">00302</a>     __vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span> <a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">v</a>;
<a name="l00307"></a><a class="code" href="structvsx_1_1svec4__i16.html#adc8017ac38e1faedf1d68fbbe3f25a08">00307</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html#adc8017ac38e1faedf1d68fbbe3f25a08" title="Default constructor.">svec4_i16</a>() { }
<a name="l00313"></a><a class="code" href="structvsx_1_1svec4__i16.html#a3060554674a62a7c0c6f28ac9e683879">00313</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html#a3060554674a62a7c0c6f28ac9e683879" title="For internal use only.">svec4_i16</a>(__vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span> vv) : <a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">v</a>(vv) {  }
<a name="l00318"></a><a class="code" href="structvsx_1_1svec4__i16.html#a6c628b9908bd2a8faf4e3e53267dc130">00318</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html#a6c628b9908bd2a8faf4e3e53267dc130" title="Constructor.">svec4_i16</a>(int16_t a, int16_t b, int16_t c, int16_t d) {
<a name="l00319"></a>00319         __vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span> t = {a,b,c,d, 0,0,0,0};
<a name="l00320"></a>00320         <a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">v</a> = t;
<a name="l00321"></a>00321     }
<a name="l00327"></a><a class="code" href="structvsx_1_1svec4__i16.html#a9ace9745951b60ac28de29368ba3c143">00327</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html#a9ace9745951b60ac28de29368ba3c143" title="Constructor.">svec4_i16</a>( int16_t a) {
<a name="l00328"></a>00328       <span class="keywordflow">if</span>(__builtin_constant_p(a) &amp;&amp; (a &lt;= 15) &amp;&amp; (a &gt;= -16)){
<a name="l00329"></a>00329          <a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">v</a> = vec_splat_s16(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00330"></a>00330       } <span class="keywordflow">else</span> {
<a name="l00331"></a>00331         INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear i16&quot;</span>);
<a name="l00332"></a>00332         __vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span> t = {a,a,a,a, 0,0,0,0};
<a name="l00333"></a>00333         <a class="code" href="structvsx_1_1svec4__i16.html#a277a0280df4422b9865552b368588dd1">v</a> = t;
<a name="l00334"></a>00334       }
<a name="l00335"></a>00335     }
<a name="l00340"></a>00340     <a class="code" href="structvsx_1_1svec4__i16.html#adc569b4ffd463441f0f461377df8473a" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t);
<a name="l00341"></a>00341     <a class="code" href="structvsx_1_1svec4__i16.html#aa10c405c625d6846f5c467653d9e4b0a">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <a class="code" href="structvsx_1_1svec4__i16.html#a1c58fe068da10a517e59c52d1e98ac32">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00344"></a>00344     <a class="code" href="structvsx_1_1svec4__i16.html#afc209a5a4ba615153608ee30a2165c90">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, int16_t);
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 };
<a name="l00347"></a>00347 
<a name="l00351"></a>00351 <span class="keyword">struct </span>svec4_u16 {
<a name="l00352"></a><a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">00352</a>     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">v</a>;
<a name="l00357"></a><a class="code" href="structvsx_1_1svec4__u16.html#afd1aefd1d846eb123d6e1ad7f9b5fc34">00357</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html#afd1aefd1d846eb123d6e1ad7f9b5fc34" title="Default constructor.">svec4_u16</a>() { }
<a name="l00363"></a><a class="code" href="structvsx_1_1svec4__u16.html#adcb90e2791296d37b0f63afd97da880e">00363</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html#adcb90e2791296d37b0f63afd97da880e" title="For internal use only.">svec4_u16</a>(__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> vv) : <a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">v</a>(vv) {  }
<a name="l00368"></a><a class="code" href="structvsx_1_1svec4__u16.html#a1dfb348a002960acacfd4c4273eeefb5">00368</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html#a1dfb348a002960acacfd4c4273eeefb5" title="Constructor.">svec4_u16</a>(uint16_t a, uint16_t b, uint16_t c, uint16_t d) {
<a name="l00369"></a>00369         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> t = {a,b,c,d, 0,0,0,0};
<a name="l00370"></a>00370         <a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">v</a> = t;
<a name="l00371"></a>00371     }
<a name="l00377"></a><a class="code" href="structvsx_1_1svec4__u16.html#a10c1f4a49591cabde8bc0de50aeece42">00377</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html#a10c1f4a49591cabde8bc0de50aeece42" title="Constructor.">svec4_u16</a>( uint16_t a) {
<a name="l00378"></a>00378       <span class="keywordflow">if</span>(__builtin_constant_p(a) &amp;&amp; (a &lt;= 15)){
<a name="l00379"></a>00379          <a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">v</a> = vec_splat_u16(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00380"></a>00380       } <span class="keywordflow">else</span> {
<a name="l00381"></a>00381         INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear u16&quot;</span>);
<a name="l00382"></a>00382         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> t = {a,a,a,a, 0,0,0,0};
<a name="l00383"></a>00383         <a class="code" href="structvsx_1_1svec4__u16.html#aeb32a632325c86f75cad1dfdaa271c43">v</a> = t;
<a name="l00384"></a>00384       }
<a name="l00385"></a>00385     }
<a name="l00390"></a>00390     <a class="code" href="structvsx_1_1svec4__u16.html#a3a53f779c5889717cf01da1ed69f9d5b" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t);
<a name="l00391"></a>00391     <a class="code" href="structvsx_1_1svec4__u16.html#a651ce6987c98e60930a8db2229365515">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     <a class="code" href="structvsx_1_1svec4__u16.html#a05a7b71b1ef6be7cfdd27a61f64cb8d9">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00394"></a>00394     <a class="code" href="structvsx_1_1svec4__u16.html#a14b0e2624de05724ec12c927b66dbc1b">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t);
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 };
<a name="l00397"></a>00397 
<a name="l00401"></a>00401 <span class="keyword">struct </span>svec4_i32 {
<a name="l00402"></a><a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">00402</a>     __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a>;
<a name="l00407"></a><a class="code" href="structvsx_1_1svec4__i32.html#a6bb2e134b8979a44d3e7886d8d577c5e">00407</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html#a6bb2e134b8979a44d3e7886d8d577c5e" title="Default constructor.">svec4_i32</a>() { }
<a name="l00413"></a><a class="code" href="structvsx_1_1svec4__i32.html#a991f18e7d19958bc409c6d3e82f0c18b">00413</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html#a991f18e7d19958bc409c6d3e82f0c18b" title="For internal use only.">svec4_i32</a>(__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> vv) : <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a>(vv) {  }
<a name="l00418"></a><a class="code" href="structvsx_1_1svec4__i32.html#a2b36822e4c419ebc5fec45a802a7d388">00418</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html#a2b36822e4c419ebc5fec45a802a7d388" title="Constructor.">svec4_i32</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b, <span class="keywordtype">int</span> c, <span class="keywordtype">int</span> d) {
<a name="l00419"></a>00419       __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> t = {a,b,c,d};
<a name="l00420"></a>00420         <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a> = t;
<a name="l00421"></a>00421     }
<a name="l00427"></a><a class="code" href="structvsx_1_1svec4__i32.html#a482664ae179f678db619a314f46e8bf9">00427</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html#a482664ae179f678db619a314f46e8bf9" title="Constructor.">svec4_i32</a>(int32_t a) {
<a name="l00428"></a>00428       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00429"></a>00429         <span class="keywordflow">if</span>((a &lt;= 15) &amp;&amp; (a &gt;= -16)) {
<a name="l00430"></a>00430           <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a> = vec_splat_s32(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00431"></a>00431         } <span class="keywordflow">else</span> {
<a name="l00432"></a>00432           INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear i32&quot;</span>);
<a name="l00433"></a>00433           __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> t = {a,a,a,a};
<a name="l00434"></a>00434             <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a> = t;
<a name="l00435"></a>00435         }
<a name="l00436"></a>00436       } <span class="keywordflow">else</span> { <span class="comment">//non-const</span>
<a name="l00437"></a>00437 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00438"></a>00438 <span class="preprocessor"></span>        <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a> = vec_smear_p8(a);
<a name="l00439"></a>00439 <span class="preprocessor">#else</span>
<a name="l00440"></a>00440 <span class="preprocessor"></span>        int32_t* p = &amp;a;
<a name="l00441"></a>00441         __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l00442"></a>00442         <a class="code" href="structvsx_1_1svec4__i32.html#a8bd346b7d9e4cb6c3f7855311b32748a">v</a> = vec_splat_p7(x, 0);
<a name="l00443"></a>00443 <span class="preprocessor">#endif</span>
<a name="l00444"></a>00444 <span class="preprocessor"></span>      }
<a name="l00445"></a>00445     }
<a name="l00450"></a>00450     <a class="code" href="structvsx_1_1svec4__i32.html#a250dda21b15e1b8352f8c5aa8c765a25" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, int32_t);
<a name="l00451"></a>00451     <a class="code" href="structvsx_1_1svec4__i32.html#af610d5026625f3506ddb0e3abdbae37e">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     <a class="code" href="structvsx_1_1svec4__i32.html#af717a98154c16b1a713553cf2532ea94">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, int32_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00454"></a>00454     <a class="code" href="structvsx_1_1svec4__i32.html#a0f765e172e78e292cff07b1639099fa5">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, int32_t);
<a name="l00455"></a>00455 };
<a name="l00456"></a>00456 
<a name="l00460"></a>00460 <span class="keyword">struct </span>svec4_u32 {
<a name="l00461"></a><a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">00461</a>     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a>;
<a name="l00466"></a><a class="code" href="structvsx_1_1svec4__u32.html#a5a30e7ccda3daf0b8e14f10b64a85523">00466</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html#a5a30e7ccda3daf0b8e14f10b64a85523" title="Default constructor.">svec4_u32</a>() { }
<a name="l00472"></a><a class="code" href="structvsx_1_1svec4__u32.html#a6c1befe6624dd73e2ef98617b4feeff5">00472</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html#a6c1befe6624dd73e2ef98617b4feeff5" title="For internal use only.">svec4_u32</a>(__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vv) : <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a>(vv) {  }
<a name="l00477"></a><a class="code" href="structvsx_1_1svec4__u32.html#a456de8f77ca3a4f9b8ab672b6b62daf5">00477</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html#a456de8f77ca3a4f9b8ab672b6b62daf5" title="Constructor.">svec4_u32</a>(uint32_t a, uint32_t b, uint32_t c, uint32_t d) {
<a name="l00478"></a>00478       __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t = {a,b,c,d};
<a name="l00479"></a>00479         <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a> = t;
<a name="l00480"></a>00480     }
<a name="l00486"></a><a class="code" href="structvsx_1_1svec4__u32.html#a96a510c8df8269ccd043d31bfd91c449">00486</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html#a96a510c8df8269ccd043d31bfd91c449" title="Constructor.">svec4_u32</a>( uint32_t a) {
<a name="l00487"></a>00487       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00488"></a>00488         <span class="keywordflow">if</span>((a &lt;= 15)) {
<a name="l00489"></a>00489           <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a> = vec_splat_u32(a); <span class="comment">//will gen one instr.vspltisb</span>
<a name="l00490"></a>00490         } <span class="keywordflow">else</span> {
<a name="l00491"></a>00491           INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;smear u32&quot;</span>);
<a name="l00492"></a>00492           __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t = {a,a,a,a};
<a name="l00493"></a>00493           <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a> = t;
<a name="l00494"></a>00494         }
<a name="l00495"></a>00495       } <span class="keywordflow">else</span> { <span class="comment">//non-const</span>
<a name="l00496"></a>00496 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span>        <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a> = vec_smear_p8(a);
<a name="l00498"></a>00498 <span class="preprocessor">#else</span>
<a name="l00499"></a>00499 <span class="preprocessor"></span>        uint32_t* p = &amp;a;
<a name="l00500"></a>00500         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l00501"></a>00501         <a class="code" href="structvsx_1_1svec4__u32.html#a4095b25f92e269adca1973731e1b6c19">v</a> = vec_splat_p7((__vector <span class="keywordtype">signed</span>)x, 0);
<a name="l00502"></a>00502 <span class="preprocessor">#endif</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span>      }
<a name="l00504"></a>00504     }
<a name="l00509"></a>00509     <a class="code" href="structvsx_1_1svec4__u32.html#a2fc13b5592dcaa8753228894cfac7e91" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t);
<a name="l00510"></a>00510     <a class="code" href="structvsx_1_1svec4__u32.html#a7220e260ee05a099a32f0b5a3b9175b0">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00511"></a>00511 
<a name="l00512"></a>00512     <a class="code" href="structvsx_1_1svec4__u32.html#a3f43743d32a2c70f5a20ca216b9bb096">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00513"></a>00513     <a class="code" href="structvsx_1_1svec4__u32.html#a795b00744caef361e845aa357d604ad4">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t);
<a name="l00514"></a>00514 };
<a name="l00515"></a>00515 
<a name="l00519"></a>00519 <span class="keyword">struct </span>svec4_i64 {
<a name="l00520"></a><a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">00520</a>     __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[2];
<a name="l00525"></a><a class="code" href="structvsx_1_1svec4__i64.html#a8d5dbc9bc548ad38b7fbd71390fd06f2">00525</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html#a8d5dbc9bc548ad38b7fbd71390fd06f2" title="Default constructor,.">svec4_i64</a>() { }
<a name="l00530"></a><a class="code" href="structvsx_1_1svec4__i64.html#ac66036712297ba0af0c4ca559d0d1dfd">00530</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html#ac66036712297ba0af0c4ca559d0d1dfd" title="For internal use only. Construct svec4_i64 with two __vector signed long long values.">svec4_i64</a>(__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> a, __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> b){
<a name="l00531"></a>00531         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = a;
<a name="l00532"></a>00532         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = b;
<a name="l00533"></a>00533     }
<a name="l00538"></a><a class="code" href="structvsx_1_1svec4__i64.html#acdc64d529c03d67c8010bec075fb246f">00538</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html#acdc64d529c03d67c8010bec075fb246f" title="Constructor.">svec4_i64</a>(int64_t a, int64_t b, int64_t c, int64_t d) {
<a name="l00539"></a>00539       __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t1 = {a,b};
<a name="l00540"></a>00540       __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t2 = {c,d};
<a name="l00541"></a>00541         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = t1;
<a name="l00542"></a>00542         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = t2;
<a name="l00543"></a>00543     }
<a name="l00549"></a><a class="code" href="structvsx_1_1svec4__i64.html#af03023ec687e41e3a8897e775026c055">00549</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html#af03023ec687e41e3a8897e775026c055" title="Constructor.">svec4_i64</a>( int64_t a) {
<a name="l00550"></a>00550       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00551"></a>00551 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00552"></a>00552 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ((a &gt;= -16l) &amp;&amp; (a &lt;= 15l)) {
<a name="l00553"></a>00553           <span class="keyword">const</span> <span class="keywordtype">int</span> iv = (int)a;
<a name="l00554"></a>00554           __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> x = {iv,iv,iv,iv};
<a name="l00555"></a>00555           __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t = vec_unpackh_p8(x);
<a name="l00556"></a>00556           <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = t;
<a name="l00557"></a>00557         } <span class="keywordflow">else</span>
<a name="l00558"></a>00558 <span class="preprocessor">#endif</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(a == 0) {
<a name="l00560"></a>00560           __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r1 = (__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> long)vec_splat_s32(0);
<a name="l00561"></a>00561           <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = r1;
<a name="l00562"></a>00562         } <span class="keywordflow">else</span> {
<a name="l00563"></a>00563           __vector <span class="keywordtype">long</span> <span class="keywordtype">long</span> x = {a,a};
<a name="l00564"></a>00564           <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = x;
<a name="l00565"></a>00565         }
<a name="l00566"></a>00566       } <span class="keywordflow">else</span> {
<a name="l00567"></a>00567 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span>        __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p8(a);
<a name="l00569"></a>00569         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = r;
<a name="l00570"></a>00570 <span class="preprocessor">#else</span>
<a name="l00571"></a>00571 <span class="preprocessor"></span>        int64_t* p = &amp;a;
<a name="l00572"></a>00572         __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p7((<span class="keywordtype">long</span> <span class="keywordtype">long</span>*)p);
<a name="l00573"></a>00573         <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[0] = <a class="code" href="structvsx_1_1svec4__i64.html#a4d954a0c7de6c22db7a4c54a072eb7b5">v</a>[1] = r;
<a name="l00574"></a>00574 <span class="preprocessor">#endif // __POWER8</span>
<a name="l00575"></a>00575 <span class="preprocessor"></span>      } <span class="comment">//non const</span>
<a name="l00576"></a>00576     }
<a name="l00581"></a>00581     <a class="code" href="structvsx_1_1svec4__i64.html#a499c105b21756eb7920a39ef18f52772" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, int64_t);
<a name="l00582"></a>00582     <a class="code" href="structvsx_1_1svec4__i64.html#aaaa7d9a608cfdcab9612c50664eec61f">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584     <a class="code" href="structvsx_1_1svec4__i64.html#ac630c53019471e0a76a1dfe7886fc18d">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, int64_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00585"></a>00585     <a class="code" href="structvsx_1_1svec4__i64.html#a0de8d44bb94f40d4cfa554a9aaa722c0">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, int64_t);
<a name="l00586"></a>00586 };
<a name="l00587"></a>00587 
<a name="l00591"></a>00591 <span class="keyword">struct </span>svec4_u64 {
<a name="l00592"></a><a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">00592</a>     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[2];
<a name="l00597"></a><a class="code" href="structvsx_1_1svec4__u64.html#a9e92e14aa2b43e43b827aefeeca805c2">00597</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html#a9e92e14aa2b43e43b827aefeeca805c2" title="Default constructor.">svec4_u64</a>() { }
<a name="l00602"></a><a class="code" href="structvsx_1_1svec4__u64.html#ac91a75315408f5a9898bd9593e57acf5">00602</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html#ac91a75315408f5a9898bd9593e57acf5" title="For internal use only. Construct svec4_u64 with two __vector unsigned long long values.">svec4_u64</a>(__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> a, __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> b){
<a name="l00603"></a>00603         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = a;
<a name="l00604"></a>00604         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = b;
<a name="l00605"></a>00605     }
<a name="l00610"></a><a class="code" href="structvsx_1_1svec4__u64.html#a4f3c91c5f9b1c1d75b1424148abb988c">00610</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html#a4f3c91c5f9b1c1d75b1424148abb988c" title="Constructor.">svec4_u64</a>(uint64_t a, uint64_t b, uint64_t c, uint64_t d) {
<a name="l00611"></a>00611       __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t1 = {a,b};
<a name="l00612"></a>00612       __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t2 = {c,d};
<a name="l00613"></a>00613         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = t1;
<a name="l00614"></a>00614         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = t2;
<a name="l00615"></a>00615     }
<a name="l00621"></a><a class="code" href="structvsx_1_1svec4__u64.html#a153d136d7359276c045c65b0112dc6c7">00621</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html#a153d136d7359276c045c65b0112dc6c7" title="Constructor.">svec4_u64</a>( uint64_t a) {
<a name="l00622"></a>00622       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00623"></a>00623 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00624"></a>00624 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ((a &gt;= 0ul) &amp;&amp; (a &lt;= 31ul)) {
<a name="l00625"></a>00625           <span class="keyword">const</span> <span class="keywordtype">int</span> iv = (int)<a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>;
<a name="l00626"></a>00626           __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> x = {iv,iv,iv,iv};
<a name="l00627"></a>00627           __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t = vec_unpackh_p8(x);
<a name="l00628"></a>00628           <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = t;
<a name="l00629"></a>00629         } <span class="keywordflow">else</span>
<a name="l00630"></a>00630 <span class="preprocessor">#endif</span>
<a name="l00631"></a>00631 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(a == 0) {
<a name="l00632"></a>00632           __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r1 = (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)vec_splat_u32(0);
<a name="l00633"></a>00633           <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = r1, r1;
<a name="l00634"></a>00634         } <span class="keywordflow">else</span> {
<a name="l00635"></a>00635           __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> x = {a,a};
<a name="l00636"></a>00636           <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = x;
<a name="l00637"></a>00637         }
<a name="l00638"></a>00638       } <span class="keywordflow">else</span> {
<a name="l00639"></a>00639 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00640"></a>00640 <span class="preprocessor"></span>        __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p8(a);
<a name="l00641"></a>00641         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = r;
<a name="l00642"></a>00642 <span class="preprocessor">#else</span>
<a name="l00643"></a>00643 <span class="preprocessor"></span>        uint64_t* p = &amp;a;
<a name="l00644"></a>00644         __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p7((<span class="keywordtype">long</span> <span class="keywordtype">long</span>*)p);
<a name="l00645"></a>00645         <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[0] = <a class="code" href="structvsx_1_1svec4__u64.html#a9422a47def2f8f6f2019bedb816759fa">v</a>[1] = r;
<a name="l00646"></a>00646 <span class="preprocessor">#endif // __POWER8</span>
<a name="l00647"></a>00647 <span class="preprocessor"></span>      }
<a name="l00648"></a>00648     }
<a name="l00653"></a>00653     <a class="code" href="structvsx_1_1svec4__u64.html#a2e290aa067237ef24ec50f466b134d02" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, uint64_t);
<a name="l00654"></a>00654     <a class="code" href="structvsx_1_1svec4__u64.html#aa3d1da041541ab472ec3d530da6133d5">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00655"></a>00655 
<a name="l00656"></a>00656     <a class="code" href="structvsx_1_1svec4__u64.html#af847d1c4f49f1d64a697d2046885ae20">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, uint64_t, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00657"></a>00657     <a class="code" href="structvsx_1_1svec4__u64.html#ae42800676170389bbf066258dd0fa68d">VEC_INT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, uint64_t);
<a name="l00658"></a>00658 };
<a name="l00659"></a>00659 
<a name="l00663"></a>00663 <span class="keyword">struct </span>svec4_f {
<a name="l00664"></a><a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">00664</a>     __vector <span class="keywordtype">float</span> <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a>;
<a name="l00669"></a><a class="code" href="structvsx_1_1svec4__f.html#a6763410ada3d2f0bd2c6fa81c1b674cf">00669</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html#a6763410ada3d2f0bd2c6fa81c1b674cf" title="Default constructor.">svec4_f</a>() { }
<a name="l00675"></a><a class="code" href="structvsx_1_1svec4__f.html#ae9e8b0cea1b3f54d4e9d6ea6476ab5ef">00675</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html#ae9e8b0cea1b3f54d4e9d6ea6476ab5ef" title="For internal use only.">svec4_f</a>(__vector <span class="keywordtype">float</span> vv) : <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a>(vv) {  }
<a name="l00680"></a><a class="code" href="structvsx_1_1svec4__f.html#a75bb71b116236387295c67802b5a2655">00680</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html#a75bb71b116236387295c67802b5a2655" title="Constructor.">svec4_f</a>(<span class="keywordtype">float</span> a, <span class="keywordtype">float</span> b, <span class="keywordtype">float</span> c, <span class="keywordtype">float</span> d) {
<a name="l00681"></a>00681       __vector <span class="keywordtype">float</span> t = {a,b,c,d};
<a name="l00682"></a>00682         <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = t;
<a name="l00683"></a>00683     }
<a name="l00689"></a><a class="code" href="structvsx_1_1svec4__f.html#a5ba4ccf79735c3d714555b156fd0f14e">00689</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html#a5ba4ccf79735c3d714555b156fd0f14e" title="Constructor.">svec4_f</a>( <span class="keywordtype">float</span> a) {
<a name="l00690"></a>00690       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00691"></a>00691         <span class="keywordflow">if</span>(a == 0) {
<a name="l00692"></a>00692           <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = (__vector float) vec_splat_s32(0);
<a name="l00693"></a>00693         } <span class="keywordflow">else</span> {
<a name="l00694"></a>00694           <span class="keywordtype">float</span> p; <span class="keywordtype">int</span> iv;
<a name="l00695"></a>00695           p = 1.0; iv = (int)(p*a);
<a name="l00696"></a>00696           <span class="keywordflow">if</span> (( (((<span class="keywordtype">float</span>)iv)/p) == a ) &amp;&amp; (iv &gt;= -16) &amp;&amp; (iv &lt;= 15)) {
<a name="l00697"></a>00697             <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = vec_ctf(vec_splat_s32(iv),0);
<a name="l00698"></a>00698           } <span class="keywordflow">else</span> {
<a name="l00699"></a>00699             p = 2.0; iv = (int)(p*a);
<a name="l00700"></a>00700             <span class="keywordflow">if</span> (( (((<span class="keywordtype">float</span>)iv)/p) == a ) &amp;&amp; (iv &gt;= -16) &amp;&amp; (iv &lt;= 15)) {
<a name="l00701"></a>00701               <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = vec_ctf(vec_splat_s32(iv),1);
<a name="l00702"></a>00702             } <span class="keywordflow">else</span> {
<a name="l00703"></a>00703               p = 4.0; iv = (int)(p*a);
<a name="l00704"></a>00704               <span class="keywordflow">if</span> (( (((<span class="keywordtype">float</span>)iv)/p) == a ) &amp;&amp; (iv &gt;= -16) &amp;&amp; (iv &lt;= 15)) {
<a name="l00705"></a>00705                 <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = vec_ctf(vec_splat_s32(iv),2);
<a name="l00706"></a>00706               } <span class="keywordflow">else</span> {
<a name="l00707"></a>00707                 <span class="comment">//no one instr solution.</span>
<a name="l00708"></a>00708                 __vector <span class="keywordtype">float</span> t = {a,a,a,a};
<a name="l00709"></a>00709                 <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = t;
<a name="l00710"></a>00710               }
<a name="l00711"></a>00711             }
<a name="l00712"></a>00712           } <span class="comment">//non zero const</span>
<a name="l00713"></a>00713         }
<a name="l00714"></a>00714       } <span class="keywordflow">else</span> { <span class="comment">//none const</span>
<a name="l00715"></a>00715 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l00716"></a>00716 <span class="preprocessor"></span>        <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = vec_smear_p8(a);
<a name="l00717"></a>00717 <span class="preprocessor">#else</span>
<a name="l00718"></a>00718 <span class="preprocessor"></span>        <span class="keywordtype">float</span>* p = &amp;a;
<a name="l00719"></a>00719         __vector <span class="keywordtype">float</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l00720"></a>00720         <a class="code" href="structvsx_1_1svec4__f.html#a3beba503c270cee8f725dce41fac8510">v</a> = vec_splat_p7(x, 0);
<a name="l00721"></a>00721 <span class="preprocessor">#endif</span>
<a name="l00722"></a>00722 <span class="preprocessor"></span>      }
<a name="l00723"></a>00723     }
<a name="l00728"></a>00728     <a class="code" href="structvsx_1_1svec4__f.html#a42bfcd5bf6133c858f3813dd5f90fe93" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <span class="keywordtype">float</span>);
<a name="l00729"></a>00729     <a class="code" href="structvsx_1_1svec4__f.html#ae576c58bdfbb8ff6e96554ea6f51f141">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00730"></a>00730 
<a name="l00731"></a>00731     <a class="code" href="structvsx_1_1svec4__f.html#a9e0d8cade2b2acb6937e38f9af0386f3">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <span class="keywordtype">float</span>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00732"></a>00732     <a class="code" href="structvsx_1_1svec4__f.html#a1fa144f07b9722396c0eb52304c4e503">VEC_FLOAT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>);
<a name="l00733"></a>00733 };
<a name="l00734"></a>00734 
<a name="l00738"></a>00738 <span class="keyword">struct </span>svec4_d {
<a name="l00739"></a><a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">00739</a>     __vector <span class="keywordtype">double</span> <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[2];
<a name="l00744"></a><a class="code" href="structvsx_1_1svec4__d.html#a2ebd859b8c03a945eaeaa2d8501fd3b6">00744</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html#a2ebd859b8c03a945eaeaa2d8501fd3b6" title="Default constructor.">svec4_d</a>() { }
<a name="l00749"></a><a class="code" href="structvsx_1_1svec4__d.html#ab7b981927e655f4a6ae67bc9a12f4f08">00749</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html#ab7b981927e655f4a6ae67bc9a12f4f08" title="For internal use only. Construct svec4_d with two __vector double values.">svec4_d</a>(__vector <span class="keywordtype">double</span> a, __vector <span class="keywordtype">double</span> b){
<a name="l00750"></a>00750         <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[0] = a;
<a name="l00751"></a>00751         <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[1] = b;
<a name="l00752"></a>00752     }
<a name="l00757"></a><a class="code" href="structvsx_1_1svec4__d.html#a23021df276545327a5a1e68c5d567aea">00757</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html#a23021df276545327a5a1e68c5d567aea" title="Constructor.">svec4_d</a>(<span class="keywordtype">double</span> a, <span class="keywordtype">double</span> b, <span class="keywordtype">double</span> c, <span class="keywordtype">double</span> d) {
<a name="l00758"></a>00758       __vector <span class="keywordtype">double</span> t1 = {a,b};
<a name="l00759"></a>00759       __vector <span class="keywordtype">double</span> t2 = {c,d};
<a name="l00760"></a>00760         <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[0] = t1;
<a name="l00761"></a>00761         <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[1] = t2;
<a name="l00762"></a>00762     }
<a name="l00768"></a><a class="code" href="structvsx_1_1svec4__d.html#aa896bf68a8873b9c63177aa247dc978f">00768</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html#aa896bf68a8873b9c63177aa247dc978f" title="Constructor.">svec4_d</a>( <span class="keywordtype">double</span> a) {
<a name="l00769"></a>00769       <span class="keywordflow">if</span>(__builtin_constant_p(a)){
<a name="l00770"></a>00770         <span class="keywordflow">if</span>(a == 0) {
<a name="l00771"></a>00771           __vector <span class="keywordtype">double</span> r1 = (__vector double)vec_splat_s32(0);
<a name="l00772"></a>00772           <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[0] = <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[1] = r1;
<a name="l00773"></a>00773         } <span class="keywordflow">else</span> {
<a name="l00774"></a>00774           __vector <span class="keywordtype">double</span> t = vec_smear_p7(a);
<a name="l00775"></a>00775           <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[0] = <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[1] = t;
<a name="l00776"></a>00776         }
<a name="l00777"></a>00777       } <span class="keywordflow">else</span> {
<a name="l00778"></a>00778         __vector <span class="keywordtype">double</span> t = vec_smear_p7(a);
<a name="l00779"></a>00779         <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[0] = <a class="code" href="structvsx_1_1svec4__d.html#a100605fafbc2a7e15799969dbe07a679">v</a>[1] = t;
<a name="l00780"></a>00780       }
<a name="l00781"></a>00781     }
<a name="l00786"></a>00786     <a class="code" href="structvsx_1_1svec4__d.html#aa4580aa7274bef6cacca4117ec993000" title="operator [] to set or get the vector element specified by index.">SUBSCRIPT_FUNC_DECL</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>);
<a name="l00787"></a>00787     <a class="code" href="structvsx_1_1svec4__d.html#a084965315b56473ad969c217346eeca0">COUT_FUNC</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <a class="code" href="power__vsx4_8h.html#ac7c189caf55844fb7dc5bdbe1ccc8bc0">LANES</a>);
<a name="l00788"></a>00788 
<a name="l00789"></a>00789     <a class="code" href="structvsx_1_1svec4__d.html#a1f55e88ae071e9f850753fcb96c691a7">VEC_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__ptr.html" title="data representation and operations on a vector of 4 pointers. This is only used in gather and scatter...">svec4_ptr</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>);
<a name="l00790"></a>00790     <a class="code" href="structvsx_1_1svec4__d.html#aa7150433f2a3f2852bfee9528a275e5e">VEC_FLOAT_CLASS_METHOD_DECL</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>);
<a name="l00791"></a>00791 };
<a name="l00792"></a>00792 
<a name="l00793"></a>00793 
<a name="l00795"></a>00795 <span class="comment">//</span>
<a name="l00796"></a>00796 <span class="comment">// Data operation interfaces</span>
<a name="l00797"></a>00797 <span class="comment">//</span>
<a name="l00799"></a>00799 <span class="comment"></span>
<a name="l00800"></a>00800 <span class="comment">//</span>
<a name="l00802"></a>00802 <span class="comment"></span><span class="comment">//</span>
<a name="l00803"></a><a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">00803</a> <span class="preprocessor">#define INSERT_EXTRACT_OPT(VTYPE, STYPE)                                  \</span>
<a name="l00804"></a>00804 <span class="preprocessor">  static FORCEINLINE STYPE svec_extract(VTYPE v, int index) {    \</span>
<a name="l00805"></a>00805 <span class="preprocessor">    return vec_extract(v.v, index);                      \</span>
<a name="l00806"></a>00806 <span class="preprocessor">  }                                                                     \</span>
<a name="l00807"></a>00807 <span class="preprocessor">  static FORCEINLINE void svec_insert(VTYPE *v, int index, STYPE val) { \</span>
<a name="l00808"></a>00808 <span class="preprocessor">    (*v).v = vec_insert(val, v-&gt;v, index);                      \</span>
<a name="l00809"></a>00809 <span class="preprocessor">  }</span>
<a name="l00810"></a>00810 <span class="preprocessor"></span>
<a name="l00811"></a><a class="code" href="power__vsx4_8h.html#a5319671f2bbc1bb74777d82ebf55e4fb">00811</a> <span class="preprocessor">#define INSERT_EXTRACT_OPT64(VTYPE, STYPE)                                  \</span>
<a name="l00812"></a>00812 <span class="preprocessor">  static FORCEINLINE STYPE svec_extract(VTYPE v, int index) {    \</span>
<a name="l00813"></a>00813 <span class="preprocessor">    return vec_extract(v.v[index &gt;&gt; 1], index%2);                      \</span>
<a name="l00814"></a>00814 <span class="preprocessor">  }                                                                     \</span>
<a name="l00815"></a>00815 <span class="preprocessor">  static FORCEINLINE void svec_insert(VTYPE *v, int index, STYPE val) { \</span>
<a name="l00816"></a>00816 <span class="preprocessor">    (*v).v[index &gt;&gt; 1] = vec_insert(val, v-&gt;v[index&gt;&gt;1], index%2);                      \</span>
<a name="l00817"></a>00817 <span class="preprocessor">  }</span>
<a name="l00818"></a>00818 <span class="preprocessor"></span>
<a name="l00819"></a>00819 <span class="keyword">static</span> FORCEINLINE uint32_t svec_extract(svec4_i1 v, <span class="keywordtype">int</span> index) {
<a name="l00820"></a>00820     <span class="keywordflow">return</span> vec_extract(v.v, index);
<a name="l00821"></a>00821 }
<a name="l00822"></a>00822 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_insert(svec4_i1 *v, <span class="keywordtype">int</span> index, uint32_t val) {
<a name="l00823"></a>00823   (*v).v = vec_insert(val ? -1 : 0, (*v).v, index); <span class="comment">//special handle i1 type, use -1 to represent TRUE</span>
<a name="l00824"></a>00824 }
<a name="l00825"></a>00825 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_i8, int8_t);
<a name="l00826"></a>00826 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_u8, uint8_t);
<a name="l00827"></a>00827 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_i16, int16_t);
<a name="l00828"></a>00828 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_u16, uint16_t);
<a name="l00829"></a>00829 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_i32, int32_t);
<a name="l00830"></a>00830 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_u32, uint32_t);
<a name="l00831"></a>00831 <a class="code" href="power__vsx4_8h.html#a5319671f2bbc1bb74777d82ebf55e4fb">INSERT_EXTRACT_OPT64</a>(svec4_i64, int64_t);
<a name="l00832"></a>00832 <a class="code" href="power__vsx4_8h.html#a5319671f2bbc1bb74777d82ebf55e4fb">INSERT_EXTRACT_OPT64</a>(svec4_u64, uint64_t);
<a name="l00833"></a>00833 <a class="code" href="power__vsx4_8h.html#aa4ab32a627640296368744375800f36d">INSERT_EXTRACT_OPT</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l00834"></a>00834 <a class="code" href="power__vsx4_8h.html#a5319671f2bbc1bb74777d82ebf55e4fb">INSERT_EXTRACT_OPT64</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l00835"></a>00835 
<a name="l00836"></a>00836 
<a name="l00837"></a>00837 <span class="comment">//</span>
<a name="l00839"></a>00839 <span class="comment"></span><span class="comment">// * @brief macros for fixed index (0,1,2,3) insert extract method implementation</span>
<a name="l00840"></a>00840 <span class="comment">// */</span>
<a name="l00841"></a>00841 <span class="comment">//#define INSERT_EXTRACT_INDEX(VTYPE, STYPE)                \</span>
<a name="l00842"></a>00842 <span class="comment">//  static FORCEINLINE STYPE svec_extract_element0(VTYPE v) {          \</span>
<a name="l00843"></a>00843 <span class="comment">//    INC_STATS_NAME(STATS_EXTRACT, 1, &quot;extract0&quot;);                      \</span>
<a name="l00844"></a>00844 <span class="comment">//    return ((STYPE *)&amp;v)[0];                          \</span>
<a name="l00845"></a>00845 <span class="comment">//  }                                   \</span>
<a name="l00846"></a>00846 <span class="comment">//  static FORCEINLINE STYPE svec_extract_element1(VTYPE v) {          \</span>
<a name="l00847"></a>00847 <span class="comment">//    INC_STATS_NAME(STATS_EXTRACT, 1, &quot;extract1&quot;);                      \</span>
<a name="l00848"></a>00848 <span class="comment">//    return ((STYPE *)&amp;v)[1];                          \</span>
<a name="l00849"></a>00849 <span class="comment">//  }                                   \</span>
<a name="l00850"></a>00850 <span class="comment">//  static FORCEINLINE STYPE svec_extract_element2(VTYPE v) {          \</span>
<a name="l00851"></a>00851 <span class="comment">//    INC_STATS_NAME(STATS_EXTRACT, 1, &quot;extract2&quot;);                      \</span>
<a name="l00852"></a>00852 <span class="comment">//    return ((STYPE *)&amp;v)[2];                          \</span>
<a name="l00853"></a>00853 <span class="comment">//  }                                   \</span>
<a name="l00854"></a>00854 <span class="comment">//  static FORCEINLINE STYPE svec_extract_element3(VTYPE v) {          \</span>
<a name="l00855"></a>00855 <span class="comment">//    INC_STATS_NAME(STATS_EXTRACT, 1, &quot;extract3&quot;);                      \</span>
<a name="l00856"></a>00856 <span class="comment">//    return ((STYPE *)&amp;v)[3];                          \</span>
<a name="l00857"></a>00857 <span class="comment">//  }</span>
<a name="l00858"></a>00858 <span class="comment">//</span>
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="comment">// 1. Load / Store</span>
<a name="l00869"></a>00869 <span class="comment"></span><span class="keyword">static</span> FORCEINLINE svec4_i1 svec_load(<span class="keyword">const</span> svec4_i1 *p) {
<a name="l00870"></a>00870   <span class="keywordflow">return</span> *((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)p);
<a name="l00871"></a>00871 }
<a name="l00872"></a>00872 
<a name="l00879"></a>00879 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_i1 *p, svec4_i1 v) {
<a name="l00880"></a>00880   *((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)p) = v.v;
<a name="l00881"></a>00881 }
<a name="l00882"></a>00882 
<a name="l00889"></a>00889 <span class="keyword">static</span> FORCEINLINE svec4_i8 svec_load(<span class="keyword">const</span> svec4_i8 *p) {
<a name="l00890"></a>00890   <span class="keywordflow">return</span> vec_vsx_ld(0, (<span class="keywordtype">signed</span> <span class="keywordtype">int</span>*)p);
<a name="l00891"></a>00891 }
<a name="l00892"></a>00892 
<a name="l00899"></a>00899 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_i8 *p, svec4_i8 v) {
<a name="l00900"></a>00900   vec_vsx_st(v.v, 0, (<span class="keywordtype">signed</span> <span class="keywordtype">char</span>*)p);
<a name="l00901"></a>00901 }
<a name="l00902"></a>00902 
<a name="l00909"></a>00909 <span class="keyword">static</span> FORCEINLINE svec4_u8 svec_load(<span class="keyword">const</span> svec4_u8 *p) {
<a name="l00910"></a>00910   <span class="keywordflow">return</span> vec_vsx_ld(0, (<span class="keywordtype">signed</span> <span class="keywordtype">int</span>*)p);
<a name="l00911"></a>00911 }
<a name="l00912"></a>00912 
<a name="l00919"></a>00919 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_u8 *p, svec4_u8 v) {
<a name="l00920"></a>00920   vec_vsx_st(v.v, 0, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)p);
<a name="l00921"></a>00921 }
<a name="l00922"></a>00922 
<a name="l00927"></a>00927 <a class="code" href="namespacevsx.html#af6902e32895345e78391f340b320a584" title="load and store for svec4_i16/svec4_u16. Generic implementation. Should be slow">LOAD_STORE</a>(svec4_i16, int16_t);
<a name="l00928"></a>00928 
<a name="l00929"></a>00929 <a class="code" href="namespacevsx.html#af6902e32895345e78391f340b320a584" title="load and store for svec4_i16/svec4_u16. Generic implementation. Should be slow">LOAD_STORE</a>(svec4_u16, uint16_t);
<a name="l00930"></a>00930 
<a name="l00937"></a>00937 <span class="keyword">static</span> FORCEINLINE svec4_i32 svec_load(<span class="keyword">const</span> svec4_i32 *p) {
<a name="l00938"></a>00938   <span class="keywordflow">return</span> *((__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> *)p);
<a name="l00939"></a>00939 }
<a name="l00940"></a>00940 
<a name="l00947"></a>00947 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_i32 *p, svec4_i32 v) {
<a name="l00948"></a>00948   *((__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span>*)p) = v.v;
<a name="l00949"></a>00949 }
<a name="l00950"></a>00950 
<a name="l00957"></a>00957 <span class="keyword">static</span> FORCEINLINE svec4_u32 svec_load(<span class="keyword">const</span> svec4_u32 *p) {
<a name="l00958"></a>00958   <span class="keywordflow">return</span> *((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)p);
<a name="l00959"></a>00959 }
<a name="l00960"></a>00960 
<a name="l00967"></a>00967 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_u32 *p, svec4_u32 v) {
<a name="l00968"></a>00968   *((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)p) = v.v;
<a name="l00969"></a>00969 }
<a name="l00970"></a>00970 
<a name="l00977"></a>00977 <span class="keyword">static</span> FORCEINLINE svec4_i64 svec_load(<span class="keyword">const</span> svec4_i64 *p) {
<a name="l00978"></a>00978   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> v0 = *(((__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+0);
<a name="l00979"></a>00979   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> v1 = *(((__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+1);
<a name="l00980"></a>00980   <span class="keywordflow">return</span> svec4_i64(v0,v1);
<a name="l00981"></a>00981 }
<a name="l00982"></a>00982 
<a name="l00989"></a>00989 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_i64 *p, svec4_i64 v) {
<a name="l00990"></a>00990   *(((__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+0) = v.v[0];
<a name="l00991"></a>00991   *(((__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+1) = v.v[1];
<a name="l00992"></a>00992 }
<a name="l00993"></a>00993 
<a name="l01000"></a>01000 <span class="keyword">static</span> FORCEINLINE svec4_u64 svec_load(<span class="keyword">const</span> svec4_u64 *p) {
<a name="l01001"></a>01001   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> v0 = *(((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+0);
<a name="l01002"></a>01002   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> v1 = *(((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+1);
<a name="l01003"></a>01003   <span class="keywordflow">return</span> svec4_u64(v0,v1);
<a name="l01004"></a>01004 }
<a name="l01011"></a>01011 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_u64 *p, svec4_u64 v) {
<a name="l01012"></a>01012   *(((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+0) = v.v[0];
<a name="l01013"></a>01013   *(((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p)+1) = v.v[1];
<a name="l01014"></a>01014 }
<a name="l01015"></a>01015 
<a name="l01022"></a>01022 <span class="keyword">static</span> FORCEINLINE svec4_f svec_load(<span class="keyword">const</span> svec4_f *p) {
<a name="l01023"></a>01023   <span class="keywordflow">return</span> *((__vector <span class="keywordtype">float</span> *)p);
<a name="l01024"></a>01024 <span class="comment">//  return vec_ld(0, (__vector float*)p);</span>
<a name="l01025"></a>01025 }
<a name="l01026"></a>01026 
<a name="l01033"></a>01033 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_f *p, svec4_f v) {
<a name="l01034"></a>01034   *((__vector <span class="keywordtype">float</span>*)p) = v.v;
<a name="l01035"></a>01035 <span class="comment">//  vec_st(v.v, 0, (__vector float*)p);</span>
<a name="l01036"></a>01036 }
<a name="l01037"></a>01037 
<a name="l01044"></a>01044 <span class="keyword">static</span> FORCEINLINE svec4_d svec_load(<span class="keyword">const</span> svec4_d *p) {
<a name="l01045"></a>01045 <span class="comment">//  __vector double v0 = *(((__vector double *)p)+0);</span>
<a name="l01046"></a>01046 <span class="comment">//  __vector double v1 = *(((__vector double *)p)+1);</span>
<a name="l01047"></a>01047   __vector <span class="keywordtype">double</span> v0 = vec_vsx_ld(0, ((__vector <span class="keywordtype">double</span> *)p));
<a name="l01048"></a>01048   __vector <span class="keywordtype">double</span> v1 = vec_vsx_ld(0, ((__vector <span class="keywordtype">double</span> *)p)+1);
<a name="l01049"></a>01049 <span class="comment">//  __vector double v0 = vec_ld(0, ((__vector double *)p));</span>
<a name="l01050"></a>01050 <span class="comment">//  __vector double v1 = vec_ld(0, ((__vector double *)p)+1);</span>
<a name="l01051"></a>01051   <span class="keywordflow">return</span> svec4_d(v0,v1);
<a name="l01052"></a>01052 }
<a name="l01053"></a>01053 
<a name="l01060"></a>01060 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_store(svec4_d *p, svec4_d v) {
<a name="l01061"></a>01061 <span class="comment">//  *(((__vector double *)p)+0) = v.v[0];</span>
<a name="l01062"></a>01062 <span class="comment">//  *(((__vector double *)p)+1) = v.v[1];</span>
<a name="l01063"></a>01063   vec_vsx_st(v.v[0], 0, (__vector <span class="keywordtype">double</span> *)p);
<a name="l01064"></a>01064   vec_vsx_st(v.v[1], 0, (__vector <span class="keywordtype">double</span> *)p + 1);
<a name="l01065"></a>01065 <span class="comment">//  vec_st(v.v[0], 0, (__vector double *)p);</span>
<a name="l01066"></a>01066 <span class="comment">//  vec_st(v.v[1], 0, (__vector double *)p + 1);</span>
<a name="l01067"></a>01067 }
<a name="l01068"></a>01068 
<a name="l01069"></a>01069 <span class="comment">// 3. Select</span>
<a name="l01070"></a>01070 
<a name="l01078"></a><a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0">01078</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> a, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> b) {
<a name="l01079"></a>01079     <span class="keywordflow">return</span> vec_sel(b.v, a.v, mask.v);
<a name="l01080"></a>01080 }
<a name="l01081"></a>01081 
<a name="l01086"></a><a class="code" href="namespacevsx.html#a60026fdcf641ffeaefac8c70c6a8c52b">01086</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> a, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> b) {
<a name="l01087"></a>01087     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tsi=vec_splat_s32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l01088"></a>01088     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> t = vec_pack(vec_pack(mask.v,tsi),(vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)tsi);
<a name="l01089"></a>01089     <span class="keywordflow">return</span> vec_sel(b.v, a.v, t);
<a name="l01090"></a>01090 }
<a name="l01091"></a>01091 
<a name="l01096"></a><a class="code" href="namespacevsx.html#adc253c98982d5d845e4c6200f32bf181">01096</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> a, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> b) {
<a name="l01097"></a>01097     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tsi=vec_splat_u32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l01098"></a>01098     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> t = vec_pack(vec_pack(mask.v,tsi),(vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)tsi);
<a name="l01099"></a>01099     <span class="keywordflow">return</span> vec_sel(b.v, a.v, t);
<a name="l01100"></a>01100 }
<a name="l01101"></a>01101 
<a name="l01106"></a><a class="code" href="namespacevsx.html#aa7a16434b256ba68397b27bb8e3d198d">01106</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> a, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> b) {
<a name="l01107"></a>01107     INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;select i16&quot;</span>);
<a name="l01108"></a>01108     int16_t v0 = mask[0] ? a[0] : b[0];
<a name="l01109"></a>01109     int16_t v1 = mask[1] ? a[1] : b[1];
<a name="l01110"></a>01110     int16_t v2 = mask[2] ? a[2] : b[2];
<a name="l01111"></a>01111     int16_t v3 = mask[3] ? a[3] : b[3];
<a name="l01112"></a>01112     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>(v0, v1, v2, v3);
<a name="l01113"></a>01113 }
<a name="l01114"></a>01114 
<a name="l01119"></a><a class="code" href="namespacevsx.html#a2a7caea9f33e1b0c5b0c0b120117ae4c">01119</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> a, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> b) {
<a name="l01120"></a>01120     INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;select u16&quot;</span>);
<a name="l01121"></a>01121     uint16_t v0 = mask[0] ? a[0] : b[0];
<a name="l01122"></a>01122     uint16_t v1 = mask[1] ? a[1] : b[1];
<a name="l01123"></a>01123     uint16_t v2 = mask[2] ? a[2] : b[2];
<a name="l01124"></a>01124     uint16_t v3 = mask[3] ? a[3] : b[3];
<a name="l01125"></a>01125     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>(v0, v1, v2, v3);
<a name="l01126"></a>01126 }
<a name="l01127"></a>01127 
<a name="l01132"></a><a class="code" href="namespacevsx.html#a3d67fcfb8dcea35701c6907fbc2d48e4">01132</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> a, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> b) {
<a name="l01133"></a>01133     <span class="keywordflow">return</span> vec_sel(b.v, a.v, mask.v);
<a name="l01134"></a>01134 }
<a name="l01135"></a>01135 
<a name="l01140"></a><a class="code" href="namespacevsx.html#a6afbcadcc91488ab47b9f77616d4fb44">01140</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> a, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> b) {
<a name="l01141"></a>01141     <span class="keywordflow">return</span> vec_sel(b.v, a.v, mask.v);
<a name="l01142"></a>01142 }
<a name="l01143"></a>01143 
<a name="l01148"></a><a class="code" href="namespacevsx.html#a5b0b1d9baea8d0177e5fc6a60f5636c6">01148</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> a, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> b) {
<a name="l01149"></a>01149 
<a name="l01150"></a>01150 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01151"></a>01151 <span class="preprocessor"></span>   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t1 = vec_sel(b.v[0],a.v[0],vec_unpackh_p8(mask.v));
<a name="l01152"></a>01152    __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t2 = vec_sel(b.v[1],a.v[1],vec_unpackl_p8(mask.v));
<a name="l01153"></a>01153    <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> res2 = <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(t1,t2);
<a name="l01154"></a>01154   <span class="keywordflow">return</span> res2;
<a name="l01155"></a>01155 <span class="preprocessor">#else</span>
<a name="l01156"></a>01156 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;select i64&quot;</span>);
<a name="l01157"></a>01157   int64_t v0 = mask[0] ? a[0] : b[0];
<a name="l01158"></a>01158   int64_t v1 = mask[1] ? a[1] : b[1];
<a name="l01159"></a>01159   int64_t v2 = mask[2] ? a[2] : b[2];
<a name="l01160"></a>01160   int64_t v3 = mask[3] ? a[3] : b[3];
<a name="l01161"></a>01161   <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(v0,v1,v2,v3);
<a name="l01162"></a>01162 <span class="preprocessor">#endif</span>
<a name="l01163"></a>01163 <span class="preprocessor"></span>}
<a name="l01164"></a>01164 
<a name="l01169"></a><a class="code" href="namespacevsx.html#a61de85888da977636b8bba6c08f6999e">01169</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> a, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> b) {
<a name="l01170"></a>01170 
<a name="l01171"></a>01171 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01172"></a>01172 <span class="preprocessor"></span>   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t1 = vec_sel(b.v[0],a.v[0],vec_unpackh_p8(mask.v));
<a name="l01173"></a>01173    __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t2 = vec_sel(b.v[1],a.v[1],vec_unpackl_p8(mask.v));
<a name="l01174"></a>01174    <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> res2 = <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(t1,t2);
<a name="l01175"></a>01175   <span class="keywordflow">return</span> res2;
<a name="l01176"></a>01176 <span class="preprocessor">#else</span>
<a name="l01177"></a>01177 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;select u64&quot;</span>);
<a name="l01178"></a>01178   uint64_t v0 = mask[0] ? a[0] : b[0];
<a name="l01179"></a>01179   uint64_t v1 = mask[1] ? a[1] : b[1];
<a name="l01180"></a>01180   uint64_t v2 = mask[2] ? a[2] : b[2];
<a name="l01181"></a>01181   uint64_t v3 = mask[3] ? a[3] : b[3];
<a name="l01182"></a>01182   <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(v0,v1,v2,v3);
<a name="l01183"></a>01183 <span class="preprocessor">#endif</span>
<a name="l01184"></a>01184 <span class="preprocessor"></span>}
<a name="l01185"></a>01185 
<a name="l01190"></a><a class="code" href="namespacevsx.html#a072523d5a3af65ab46bc58c88f04e1aa">01190</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> a, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> b) {
<a name="l01191"></a>01191     <span class="keywordflow">return</span> vec_sel(b.v, a.v, mask.v);
<a name="l01192"></a>01192 }
<a name="l01193"></a>01193 
<a name="l01198"></a><a class="code" href="namespacevsx.html#a92e9ddbb03256fe5e2e72cd620f04a05">01198</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a> mask, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> a, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> b) {
<a name="l01199"></a>01199 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01200"></a>01200 <span class="preprocessor"></span>  __vector <span class="keywordtype">double</span> t1 = vec_sel(b.v[0],a.v[0],vec_unpackh_p8(mask.v));
<a name="l01201"></a>01201   __vector <span class="keywordtype">double</span> t2 = vec_sel(b.v[1],a.v[1],vec_unpackl_p8(mask.v));
<a name="l01202"></a>01202   <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> res2 = <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(t1,t2);
<a name="l01203"></a>01203   <span class="keywordflow">return</span> res2;
<a name="l01204"></a>01204 <span class="preprocessor">#else</span>
<a name="l01205"></a>01205 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;select_double&quot;</span>);
<a name="l01206"></a>01206   <span class="keywordtype">double</span> v0 = mask[0] ? a[0] : b[0];
<a name="l01207"></a>01207   <span class="keywordtype">double</span> v1 = mask[1] ? a[1] : b[1];
<a name="l01208"></a>01208   <span class="keywordtype">double</span> v2 = mask[2] ? a[2] : b[2];
<a name="l01209"></a>01209   <span class="keywordtype">double</span> v3 = mask[3] ? a[3] : b[3];
<a name="l01210"></a>01210   <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(v0,v1,v2,v3);
<a name="l01211"></a>01211 <span class="preprocessor">#endif</span>
<a name="l01212"></a>01212 <span class="preprocessor"></span>}
<a name="l01213"></a>01213 
<a name="l01214"></a>01214 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_i1);
<a name="l01215"></a>01215 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_i8);
<a name="l01216"></a>01216 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_u8);
<a name="l01217"></a>01217 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_i16);
<a name="l01218"></a>01218 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_u16);
<a name="l01219"></a>01219 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_i32);
<a name="l01220"></a>01220 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_u32);
<a name="l01221"></a>01221 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_i64);
<a name="l01222"></a>01222 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_u64);
<a name="l01223"></a>01223 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_f);
<a name="l01224"></a>01224 <a class="code" href="namespacevsx.html#abe8f725f726bc155dab011a438e1ae15">SELECT_BOOLCOND</a>(svec4_d);
<a name="l01225"></a>01225 
<a name="l01226"></a>01226 
<a name="l01227"></a>01227 <span class="comment">// 4. broadcast/rotate/shuffle/smear/setzero</span>
<a name="l01228"></a>01228 
<a name="l01229"></a>01229 
<a name="l01230"></a>01230 
<a name="l01231"></a>01231 
<a name="l01232"></a><a class="code" href="power__vsx4_8h.html#adb00bf5afa089e01cc2bd82e6a014ff8">01232</a> <span class="preprocessor">#define BROADCAST_OPT32(VTYPE, STYPE)                   \</span>
<a name="l01233"></a>01233 <span class="preprocessor">  static FORCEINLINE VTYPE svec_broadcast(VTYPE v, const int index) { \</span>
<a name="l01234"></a>01234 <span class="preprocessor">     if(__builtin_constant_p(index) &amp;&amp; index &gt;=0 &amp;&amp; index &lt; 4){ return VTYPE(vec_splat_p7(v.v, index)); }                 \</span>
<a name="l01235"></a>01235 <span class="preprocessor">     else { STYPE bval = v[index]; return VTYPE(bval, bval, bval, bval); }                            \</span>
<a name="l01236"></a>01236 <span class="preprocessor">  }</span>
<a name="l01237"></a>01237 <span class="preprocessor"></span>
<a name="l01238"></a><a class="code" href="power__vsx4_8h.html#a943c9ed015a38dfa60d28e319d01ba5e">01238</a> <span class="preprocessor">#define BROADCAST_OPT64(VTYPE, STYPE)                   \</span>
<a name="l01239"></a>01239 <span class="preprocessor">  static FORCEINLINE VTYPE svec_broadcast(VTYPE v, const int index) { \</span>
<a name="l01240"></a>01240 <span class="preprocessor">     if(__builtin_constant_p(index) &amp;&amp; index &gt;=0 &amp;&amp; index &lt; 4){ \</span>
<a name="l01241"></a>01241 <span class="preprocessor">        __vector STYPE r = vec_splat_p7(v.v[index &gt;&gt; 1], index %2);  \</span>
<a name="l01242"></a>01242 <span class="preprocessor">        return VTYPE(r, r); }                 \</span>
<a name="l01243"></a>01243 <span class="preprocessor">     else { STYPE bval = v[index]; return VTYPE(bval, bval, bval, bval); }                            \</span>
<a name="l01244"></a>01244 <span class="preprocessor">  }</span>
<a name="l01245"></a>01245 <span class="preprocessor"></span>
<a name="l01246"></a>01246 
<a name="l01247"></a>01247 <a class="code" href="namespacevsx.html#a0b528d5faf39aaeb64e57776f8a9d11f">BROADCAST_L4</a>(svec4_i8, int8_t);
<a name="l01248"></a>01248 <a class="code" href="namespacevsx.html#a0b528d5faf39aaeb64e57776f8a9d11f">BROADCAST_L4</a>(svec4_u8, uint8_t);
<a name="l01249"></a>01249 <a class="code" href="namespacevsx.html#a0b528d5faf39aaeb64e57776f8a9d11f">BROADCAST_L4</a>(svec4_i16, int16_t);
<a name="l01250"></a>01250 <a class="code" href="namespacevsx.html#a0b528d5faf39aaeb64e57776f8a9d11f">BROADCAST_L4</a>(svec4_u16, uint16_t);
<a name="l01251"></a>01251 <a class="code" href="power__vsx4_8h.html#adb00bf5afa089e01cc2bd82e6a014ff8">BROADCAST_OPT32</a>(svec4_i32, int32_t);
<a name="l01252"></a>01252 <a class="code" href="power__vsx4_8h.html#adb00bf5afa089e01cc2bd82e6a014ff8">BROADCAST_OPT32</a>(svec4_u32, uint32_t);
<a name="l01253"></a>01253 <a class="code" href="power__vsx4_8h.html#a943c9ed015a38dfa60d28e319d01ba5e">BROADCAST_OPT64</a>(svec4_i64, int64_t);
<a name="l01254"></a>01254 <a class="code" href="power__vsx4_8h.html#a943c9ed015a38dfa60d28e319d01ba5e">BROADCAST_OPT64</a>(svec4_u64, uint64_t);
<a name="l01255"></a>01255 <a class="code" href="power__vsx4_8h.html#adb00bf5afa089e01cc2bd82e6a014ff8">BROADCAST_OPT32</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l01256"></a>01256 <a class="code" href="power__vsx4_8h.html#a943c9ed015a38dfa60d28e319d01ba5e">BROADCAST_OPT64</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l01257"></a>01257 
<a name="l01258"></a>01258 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_i8, int8_t);
<a name="l01259"></a>01259 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_u8, uint8_t);
<a name="l01260"></a>01260 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_i16, int16_t);
<a name="l01261"></a>01261 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_u16, uint16_t);
<a name="l01262"></a>01262 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_i32, int32_t);
<a name="l01263"></a>01263 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_u32, uint32_t);
<a name="l01264"></a>01264 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_i64, int64_t);
<a name="l01265"></a>01265 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_u64, uint64_t);
<a name="l01266"></a>01266 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l01267"></a>01267 <a class="code" href="namespacevsx.html#a3fe9c8f7f1abb3e6909d385b0e39beba">ROTATE_L4</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l01268"></a>01268 
<a name="l01269"></a>01269 
<a name="l01270"></a>01270 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_i8, int8_t);
<a name="l01271"></a>01271 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_u8, uint8_t);
<a name="l01272"></a>01272 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_i16, int16_t);
<a name="l01273"></a>01273 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_u16, uint16_t);
<a name="l01274"></a>01274 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_i32, int32_t);
<a name="l01275"></a>01275 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_u32, uint32_t);
<a name="l01276"></a>01276 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_i64, int64_t);
<a name="l01277"></a>01277 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_u64, uint64_t);
<a name="l01278"></a>01278 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l01279"></a>01279 <a class="code" href="namespacevsx.html#a587876bece3040636e297d9db4d0a117">SHUFFLES_L4</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 
<a name="l01282"></a>01282 
<a name="l01283"></a>01283 <span class="comment">//load const and load and splats, need a template, other wise we cannot distinguish the LANES diff</span>
<a name="l01284"></a>01284 
<a name="l01285"></a>01285 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> int8_t* p);
<a name="l01286"></a>01286 <span class="keyword">template</span>&lt;&gt;
<a name="l01287"></a><a class="code" href="namespacevsx.html#a128e2f7d71f6629180ae783d05efa7e4">01287</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> <a class="code" href="namespacevsx.html#a128e2f7d71f6629180ae783d05efa7e4">svec_load_const&lt;svec4_i8&gt;</a>(<span class="keyword">const</span> int8_t* p) {
<a name="l01288"></a>01288     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>(p[0], p[0], p[0], p[0]);
<a name="l01289"></a>01289 }
<a name="l01290"></a>01290 
<a name="l01291"></a>01291 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> uint8_t* p);
<a name="l01292"></a>01292 <span class="keyword">template</span>&lt;&gt;
<a name="l01293"></a><a class="code" href="namespacevsx.html#a47428a02b3f27c69b25fae164e3c2c3b">01293</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> <a class="code" href="namespacevsx.html#a47428a02b3f27c69b25fae164e3c2c3b">svec_load_const&lt;svec4_u8&gt;</a>(<span class="keyword">const</span> uint8_t* p) {
<a name="l01294"></a>01294     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>(p[0], p[0], p[0], p[0]);
<a name="l01295"></a>01295 }
<a name="l01296"></a>01296 
<a name="l01297"></a>01297 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> int16_t* p);
<a name="l01298"></a>01298 <span class="keyword">template</span>&lt;&gt;
<a name="l01299"></a><a class="code" href="namespacevsx.html#afc04932b349942318600923adc68dc60">01299</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> <a class="code" href="namespacevsx.html#afc04932b349942318600923adc68dc60">svec_load_const&lt;svec4_i16&gt;</a>(<span class="keyword">const</span> int16_t* p) {
<a name="l01300"></a>01300     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>(p[0], p[0], p[0], p[0]);
<a name="l01301"></a>01301 }
<a name="l01302"></a>01302 
<a name="l01303"></a>01303 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> uint16_t* p);
<a name="l01304"></a>01304 <span class="keyword">template</span>&lt;&gt;
<a name="l01305"></a><a class="code" href="namespacevsx.html#aa0e3c6aaf9c66322cc9b5496fb32409d">01305</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> <a class="code" href="namespacevsx.html#aa0e3c6aaf9c66322cc9b5496fb32409d">svec_load_const&lt;svec4_u16&gt;</a>(<span class="keyword">const</span> uint16_t* p) {
<a name="l01306"></a>01306     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>(p[0], p[0], p[0], p[0]);
<a name="l01307"></a>01307 }
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> int32_t* p);
<a name="l01310"></a>01310 <span class="keyword">template</span>&lt;&gt;
<a name="l01311"></a><a class="code" href="namespacevsx.html#a7abcdf2656e6b2df9c0d9734eaa8cad1">01311</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> <a class="code" href="namespacevsx.html#a7abcdf2656e6b2df9c0d9734eaa8cad1">svec_load_const&lt;svec4_i32&gt;</a>(<span class="keyword">const</span> int32_t* p) {
<a name="l01312"></a>01312     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>(p[0], p[0], p[0], p[0]);
<a name="l01313"></a>01313 }
<a name="l01314"></a>01314 
<a name="l01315"></a>01315 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> uint32_t* p);
<a name="l01316"></a>01316 <span class="keyword">template</span>&lt;&gt;
<a name="l01317"></a><a class="code" href="namespacevsx.html#a42f3cbd5c06a4f58dc30fc3236008c1e">01317</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> <a class="code" href="namespacevsx.html#a42f3cbd5c06a4f58dc30fc3236008c1e">svec_load_const&lt;svec4_u32&gt;</a>(<span class="keyword">const</span> uint32_t* p) {
<a name="l01318"></a>01318     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>(p[0], p[0], p[0], p[0]);
<a name="l01319"></a>01319 }
<a name="l01320"></a>01320 
<a name="l01321"></a>01321 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> int64_t* p);
<a name="l01322"></a>01322 <span class="keyword">template</span>&lt;&gt;
<a name="l01323"></a><a class="code" href="namespacevsx.html#a33583de55438b30c15924e6af1aafe5b">01323</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> <a class="code" href="namespacevsx.html#a33583de55438b30c15924e6af1aafe5b">svec_load_const&lt;svec4_i64&gt;</a>(<span class="keyword">const</span> int64_t* p) {
<a name="l01324"></a>01324     __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t= vec_smear_const_i64_p7((<span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p);
<a name="l01325"></a>01325     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(t,t);
<a name="l01326"></a>01326 }
<a name="l01327"></a>01327 
<a name="l01328"></a>01328 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> uint64_t* p);
<a name="l01329"></a>01329 <span class="keyword">template</span>&lt;&gt;
<a name="l01330"></a><a class="code" href="namespacevsx.html#a3804a47ee0ef9c7ccfd6d0153c7a513f">01330</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> <a class="code" href="namespacevsx.html#a3804a47ee0ef9c7ccfd6d0153c7a513f">svec_load_const&lt;svec4_u64&gt;</a>(<span class="keyword">const</span> uint64_t* p) {
<a name="l01331"></a>01331     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> t= vec_smear_const_i64_p7((<span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)p);
<a name="l01332"></a>01332     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(t,t);
<a name="l01333"></a>01333 }
<a name="l01334"></a>01334 
<a name="l01335"></a>01335 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> <span class="keywordtype">float</span>* p);
<a name="l01336"></a>01336 <span class="keyword">template</span>&lt;&gt;
<a name="l01337"></a><a class="code" href="namespacevsx.html#af041fd9ef0931ebdac5e6e334c42107a">01337</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#af041fd9ef0931ebdac5e6e334c42107a">svec_load_const&lt;svec4_f&gt;</a>(<span class="keyword">const</span> <span class="keywordtype">float</span>* p) {
<a name="l01338"></a>01338   <span class="comment">//return vec_smear_const_float_p7((const __vector float *)p);</span>
<a name="l01339"></a>01339   <span class="keywordflow">return</span> vec_splat(*(__vector <span class="keywordtype">float</span>*)p, 0);
<a name="l01340"></a>01340 }
<a name="l01341"></a>01341 
<a name="l01342"></a>01342 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_const(<span class="keyword">const</span> <span class="keywordtype">double</span>* p);
<a name="l01343"></a>01343 <span class="keyword">template</span>&lt;&gt;
<a name="l01344"></a><a class="code" href="namespacevsx.html#a3c7a7071d79eabb8afc038deff54553f">01344</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#a3c7a7071d79eabb8afc038deff54553f">svec_load_const&lt;svec4_d&gt;</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>* p) {
<a name="l01345"></a>01345     __vector <span class="keywordtype">double</span> t= vec_smear_const_double_p7(p);
<a name="l01346"></a>01346     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(t,t);
<a name="l01347"></a>01347 }
<a name="l01348"></a>01348 
<a name="l01349"></a>01349 <span class="comment">//load and splat</span>
<a name="l01350"></a>01350 
<a name="l01351"></a>01351 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(int8_t* p);
<a name="l01352"></a>01352 <span class="keyword">template</span>&lt;&gt;
<a name="l01353"></a><a class="code" href="namespacevsx.html#a1ee5ec25d41217fdad3b097b300eba7f">01353</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> <a class="code" href="namespacevsx.html#a1ee5ec25d41217fdad3b097b300eba7f">svec_load_and_splat&lt;svec4_i8&gt;</a>(int8_t* p) {
<a name="l01354"></a>01354     INC_STATS_NAME(STATS_SMEAR_SLOW,1, <span class="stringliteral">&quot;load_and_splat i8&quot;</span>);
<a name="l01355"></a>01355     int8_t v = *p;
<a name="l01356"></a>01356     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>(v,v,v,v);
<a name="l01357"></a>01357 }
<a name="l01358"></a>01358 
<a name="l01359"></a>01359 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(uint8_t* p);
<a name="l01360"></a>01360 <span class="keyword">template</span>&lt;&gt;
<a name="l01361"></a><a class="code" href="namespacevsx.html#a40da20effbeb09191de19bd391ae627c">01361</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> <a class="code" href="namespacevsx.html#a40da20effbeb09191de19bd391ae627c">svec_load_and_splat&lt;svec4_u8&gt;</a>(uint8_t* p) {
<a name="l01362"></a>01362     INC_STATS_NAME(STATS_SMEAR_SLOW,1,<span class="stringliteral">&quot;load_and_splat u8&quot;</span>);
<a name="l01363"></a>01363     uint8_t v = *p;
<a name="l01364"></a>01364     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>(v,v,v,v);
<a name="l01365"></a>01365 }
<a name="l01366"></a>01366 
<a name="l01367"></a>01367 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(int16_t* p);
<a name="l01368"></a>01368 <span class="keyword">template</span>&lt;&gt;
<a name="l01369"></a><a class="code" href="namespacevsx.html#ac80d3c1b1389299788b1268e764a2b2a">01369</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> <a class="code" href="namespacevsx.html#ac80d3c1b1389299788b1268e764a2b2a">svec_load_and_splat&lt;svec4_i16&gt;</a>(int16_t* p) {
<a name="l01370"></a>01370     INC_STATS_NAME(STATS_SMEAR_SLOW,1,<span class="stringliteral">&quot;load_and_splat i16&quot;</span>);
<a name="l01371"></a>01371     int16_t v = *p;
<a name="l01372"></a>01372     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>(v,v,v,v);
<a name="l01373"></a>01373 }
<a name="l01374"></a>01374 
<a name="l01375"></a>01375 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(uint16_t* p);
<a name="l01376"></a>01376 <span class="keyword">template</span>&lt;&gt;
<a name="l01377"></a><a class="code" href="namespacevsx.html#ace57ea5c796956d385bf5894a41e7872">01377</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> <a class="code" href="namespacevsx.html#ace57ea5c796956d385bf5894a41e7872">svec_load_and_splat&lt;svec4_u16&gt;</a>(uint16_t* p) {
<a name="l01378"></a>01378     INC_STATS_NAME(STATS_SMEAR_SLOW,1,<span class="stringliteral">&quot;load_and_splat u16&quot;</span>);
<a name="l01379"></a>01379     uint16_t v = *p;
<a name="l01380"></a>01380     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>(v,v,v,v);
<a name="l01381"></a>01381 }
<a name="l01382"></a>01382 
<a name="l01383"></a>01383 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(int32_t* p);
<a name="l01384"></a>01384 <span class="keyword">template</span>&lt;&gt;
<a name="l01385"></a><a class="code" href="namespacevsx.html#a7c70e90b40e9a1b1908ce3424192e612">01385</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> <a class="code" href="namespacevsx.html#a7c70e90b40e9a1b1908ce3424192e612">svec_load_and_splat&lt;svec4_i32&gt;</a>(int32_t* p) {
<a name="l01386"></a>01386 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01387"></a>01387 <span class="preprocessor"></span>  <span class="keywordflow">return</span> vec_smear_i32_p8(p);
<a name="l01388"></a>01388 <span class="preprocessor">#else</span>
<a name="l01389"></a>01389 <span class="preprocessor"></span>  __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l01390"></a>01390    <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>(vec_splat_p7(x,0));
<a name="l01391"></a>01391 <span class="preprocessor">#endif //__POWER8</span>
<a name="l01392"></a>01392 <span class="preprocessor"></span>}
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(uint32_t* p);
<a name="l01395"></a>01395 <span class="keyword">template</span>&lt;&gt;
<a name="l01396"></a><a class="code" href="namespacevsx.html#a319739e7822ede9403d969b572c7c0c3">01396</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> <a class="code" href="namespacevsx.html#a319739e7822ede9403d969b572c7c0c3">svec_load_and_splat&lt;svec4_u32&gt;</a>(uint32_t* p) {
<a name="l01397"></a>01397 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01398"></a>01398 <span class="preprocessor"></span>  <span class="keywordflow">return</span> vec_smear_i32_p8(p);
<a name="l01399"></a>01399 <span class="preprocessor">#else</span>
<a name="l01400"></a>01400 <span class="preprocessor"></span>  __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l01401"></a>01401    <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>(vec_splat_p7((__vector <span class="keywordtype">signed</span>)x,0));
<a name="l01402"></a>01402 <span class="preprocessor">#endif //__POWER8</span>
<a name="l01403"></a>01403 <span class="preprocessor"></span>}
<a name="l01404"></a>01404 
<a name="l01405"></a>01405 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(int64_t* p);
<a name="l01406"></a>01406 <span class="keyword">template</span>&lt;&gt;
<a name="l01407"></a><a class="code" href="namespacevsx.html#aa1400fb845cf638275541cb0a9c88c9e">01407</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> <a class="code" href="namespacevsx.html#aa1400fb845cf638275541cb0a9c88c9e">svec_load_and_splat&lt;svec4_i64&gt;</a>(int64_t* p) {
<a name="l01408"></a>01408     __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p7((<span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>*)p);
<a name="l01409"></a>01409     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(r,r);
<a name="l01410"></a>01410 }
<a name="l01411"></a>01411 
<a name="l01412"></a>01412 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(uint64_t* p);
<a name="l01413"></a>01413 <span class="keyword">template</span>&lt;&gt;
<a name="l01414"></a><a class="code" href="namespacevsx.html#a4e5eee03ba7474ba4adecb708e32c0d6">01414</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> <a class="code" href="namespacevsx.html#a4e5eee03ba7474ba4adecb708e32c0d6">svec_load_and_splat&lt;svec4_u64&gt;</a>(uint64_t* p) {
<a name="l01415"></a>01415     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> r = vec_smear_i64_p7((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>*)p);
<a name="l01416"></a>01416     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(r,r);
<a name="l01417"></a>01417 }
<a name="l01418"></a>01418 
<a name="l01419"></a>01419 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(<span class="keywordtype">float</span>* p);
<a name="l01420"></a>01420 <span class="keyword">template</span>&lt;&gt;
<a name="l01421"></a><a class="code" href="namespacevsx.html#abe90bf1cd1c3b540db0ef528d151f11d">01421</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#abe90bf1cd1c3b540db0ef528d151f11d">svec_load_and_splat&lt;svec4_f&gt;</a>(<span class="keywordtype">float</span>* p) {
<a name="l01422"></a>01422 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01423"></a>01423 <span class="preprocessor"></span>  <span class="keywordflow">return</span> vec_smear_float_p8(p);
<a name="l01424"></a>01424 <span class="preprocessor">#else</span>
<a name="l01425"></a>01425 <span class="preprocessor"></span>   __vector <span class="keywordtype">float</span> <span class="keyword">register</span> x = vec_vsx_ld(0, p);
<a name="l01426"></a>01426   <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>(vec_splat_p7(x, 0));
<a name="l01427"></a>01427 <span class="preprocessor">#endif //__POWER8</span>
<a name="l01428"></a>01428 <span class="preprocessor"></span>}
<a name="l01429"></a>01429 
<a name="l01430"></a>01430 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_load_and_splat(<span class="keywordtype">double</span>* p);
<a name="l01431"></a>01431 <span class="keyword">template</span>&lt;&gt;
<a name="l01432"></a><a class="code" href="namespacevsx.html#ac69360c4335f0a6a6cbda0aea25126d8">01432</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#ac69360c4335f0a6a6cbda0aea25126d8">svec_load_and_splat&lt;svec4_d&gt;</a>(<span class="keywordtype">double</span>* p) {
<a name="l01433"></a>01433     __vector <span class="keywordtype">double</span> t= vec_smear_double_p7(p);
<a name="l01434"></a>01434     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(t,t);
<a name="l01435"></a>01435 }
<a name="l01436"></a>01436 
<a name="l01437"></a>01437 
<a name="l01438"></a>01438 <span class="comment">// 5. Gather / Scatter</span>
<a name="l01451"></a>01451 <span class="comment"></span><span class="preprocessor">#ifdef __PPC64__</span>
<a name="l01452"></a>01452 <span class="preprocessor"></span><span class="keyword">struct </span>svec4_ptr : <span class="keyword">public</span> svec4_u64{
<a name="l01457"></a>01457     FORCEINLINE <a class="code" href="structvsx_1_1svec4__ptr.html#a43c4cc7e293a25ccc8b66131c0a59fad" title="Constructor.">svec4_ptr</a>(<span class="keywordtype">void</span>* p0, <span class="keywordtype">void</span>* p1, <span class="keywordtype">void</span>* p2, <span class="keywordtype">void</span>* p3):
<a name="l01458"></a>01458         svec4_u64((uint64_t)(p0),(uint64_t)(p1),(uint64_t)(p2),(uint64_t)(p3)){}
<a name="l01459"></a>01459 };
<a name="l01460"></a>01460 <span class="preprocessor">#else // 32-bit</span>
<a name="l01461"></a>01461 <span class="preprocessor"></span><span class="keyword">struct </span>svec4_ptr: <span class="keyword">public</span> svec4_u32{
<a name="l01466"></a><a class="code" href="structvsx_1_1svec4__ptr.html#a43c4cc7e293a25ccc8b66131c0a59fad">01466</a>     FORCEINLINE <a class="code" href="structvsx_1_1svec4__ptr.html#a43c4cc7e293a25ccc8b66131c0a59fad" title="Constructor.">svec4_ptr</a>(<span class="keywordtype">void</span>* p0, <span class="keywordtype">void</span>* p1, <span class="keywordtype">void</span>* p2, <span class="keywordtype">void</span>* p3):
<a name="l01467"></a>01467         <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>((uint32_t)(p0),(uint32_t)(p1),(uint32_t)(p2),(uint32_t)(p3)){}
<a name="l01468"></a>01468 };
<a name="l01469"></a>01469 <span class="preprocessor">#endif // __PPC64__</span>
<a name="l01470"></a>01470 <span class="preprocessor"></span>
<a name="l01471"></a>01471 <span class="preprocessor">#ifndef DOXYGEN_SHOULD_SKIP_THIS //not want generate svec_gather*/svec_scatter methods</span>
<a name="l01472"></a>01472 <span class="preprocessor"></span>
<a name="l01473"></a>01473 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_gather(svec4_u32 ptrs, svec4_i1 mask);
<a name="l01474"></a>01474 <span class="keyword">template</span> &lt;<span class="keyword">class</span> RetVecType&gt; <span class="keyword">static</span> RetVecType svec_gather(svec4_u64 ptrs, svec4_i1 mask);
<a name="l01475"></a>01475 
<a name="l01476"></a>01476 <span class="comment">//There is a fast impl for gather addr64 on i8/u8 types</span>
<a name="l01477"></a>01477 <span class="comment">//But it is commented out. So I didn&#39;t move the code to here</span>
<a name="l01478"></a>01478 <span class="comment">//Please see vsx4.h __gather64_i8</span>
<a name="l01479"></a>01479 GATHER_GENERAL_L4(svec4_i8, int8_t, svec4_u32, svec4_i1);
<a name="l01480"></a>01480 GATHER_GENERAL_L4(svec4_i8, int8_t, svec4_u64, svec4_i1);
<a name="l01481"></a>01481 GATHER_GENERAL_L4(svec4_u8, uint8_t, svec4_u32, svec4_i1);
<a name="l01482"></a>01482 GATHER_GENERAL_L4(svec4_u8, uint8_t, svec4_u64, svec4_i1);
<a name="l01483"></a>01483 GATHER_GENERAL_L4(svec4_i16, int16_t, svec4_u32, svec4_i1);
<a name="l01484"></a>01484 GATHER_GENERAL_L4(svec4_i16, int16_t, svec4_u64, svec4_i1);
<a name="l01485"></a>01485 GATHER_GENERAL_L4(svec4_u16, uint16_t, svec4_u32, svec4_i1);
<a name="l01486"></a>01486 GATHER_GENERAL_L4(svec4_u16, uint16_t, svec4_u64, svec4_i1);
<a name="l01487"></a>01487 GATHER_GENERAL_L4(svec4_i32, int32_t, svec4_u32, svec4_i1);
<a name="l01488"></a>01488 
<a name="l01489"></a>01489 <span class="comment">//GATHER_GENERAL_L4(svec4_i32, int32_t, svec4_u64, svec4_i1);</span>
<a name="l01490"></a>01490 <span class="keyword">template</span>&lt;&gt;
<a name="l01491"></a>01491 FORCEINLINE svec4_i32 svec_gather&lt;svec4_i32&gt;(svec4_u64 ptrs, svec4_i1 mask) {
<a name="l01492"></a>01492   <span class="keyword">typedef</span> svec4_i32 RetVec;
<a name="l01493"></a>01493   <span class="keywordflow">return</span> lGatherGeneral&lt;RetVec,int32_t,svec4_u64,svec4_i1&gt;(ptrs,mask);
<a name="l01494"></a>01494 }
<a name="l01495"></a>01495 
<a name="l01496"></a>01496 GATHER_GENERAL_L4(svec4_u32, uint32_t, svec4_u32, svec4_i1);
<a name="l01497"></a>01497 
<a name="l01498"></a>01498 <span class="comment">//GATHER_GENERAL_L4(svec4_u32, uint32_t, svec4_u64, svec4_i1);</span>
<a name="l01499"></a>01499 <span class="keyword">template</span>&lt;&gt;
<a name="l01500"></a>01500 FORCEINLINE svec4_u32 svec_gather&lt;svec4_u32&gt;(svec4_u64 ptrs, svec4_i1 mask) {
<a name="l01501"></a>01501   <span class="keyword">typedef</span> svec4_u32 RetVec;
<a name="l01502"></a>01502   <span class="keywordflow">return</span> lGatherGeneral&lt;RetVec,uint32_t,svec4_u64,svec4_i1&gt;(ptrs,mask);
<a name="l01503"></a>01503 }
<a name="l01504"></a>01504 
<a name="l01505"></a>01505 
<a name="l01506"></a>01506 
<a name="l01507"></a>01507 
<a name="l01508"></a>01508 GATHER_GENERAL_L4(svec4_i64, int64_t, svec4_u32, svec4_i1);
<a name="l01509"></a>01509 
<a name="l01510"></a>01510 <span class="comment">//GATHER_GENERAL_L4(svec4_i64, int64_t, svec4_u64, svec4_i1);</span>
<a name="l01511"></a>01511 <span class="keyword">template</span>&lt;&gt;
<a name="l01512"></a>01512 FORCEINLINE svec4_i64 svec_gather&lt;svec4_i64&gt;(svec4_u64 ptrs, svec4_i1 mask) {
<a name="l01513"></a>01513   <span class="keyword">typedef</span> svec4_i64 RetVec;
<a name="l01514"></a>01514   <span class="keywordflow">return</span> lGatherGeneral&lt;RetVec,int64_t, svec4_u64,svec4_i1&gt;(ptrs,mask);
<a name="l01515"></a>01515 }
<a name="l01516"></a>01516 
<a name="l01517"></a>01517 GATHER_GENERAL_L4(svec4_u64, uint64_t, svec4_u32, svec4_i1);
<a name="l01518"></a>01518 
<a name="l01519"></a>01519 <span class="comment">//GATHER_GENERAL_L4(svec4_u64, uint64_t, svec4_u64, svec4_i1);</span>
<a name="l01520"></a>01520 <span class="keyword">template</span>&lt;&gt;
<a name="l01521"></a>01521 FORCEINLINE svec4_u64 svec_gather&lt;svec4_u64&gt;(svec4_u64 ptrs, svec4_i1 mask) {
<a name="l01522"></a>01522   <span class="keyword">typedef</span> svec4_u64 RetVec;
<a name="l01523"></a>01523   <span class="keywordflow">return</span> lGatherGeneral&lt;RetVec,uint64_t, svec4_u64,svec4_i1&gt;(ptrs,mask);
<a name="l01524"></a>01524 }
<a name="l01525"></a>01525 
<a name="l01526"></a>01526 
<a name="l01527"></a>01527 GATHER_GENERAL_L4(svec4_f, <span class="keywordtype">float</span>, svec4_u32, svec4_i1);
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 <span class="comment">//GATHER_GENERAL_L4(svec4_f, float, svec4_u64, svec4_i1);</span>
<a name="l01530"></a>01530 <span class="keyword">template</span>&lt;&gt;
<a name="l01531"></a>01531 FORCEINLINE svec4_f svec_gather&lt;svec4_f&gt;(svec4_u64 ptrs, svec4_i1 mask) {
<a name="l01532"></a>01532   <span class="keyword">typedef</span> svec4_f RetVec;
<a name="l01533"></a>01533   <span class="keywordflow">return</span> lGatherGeneral&lt;RetVec,float,svec4_u64,svec4_i1&gt;(ptrs,mask);
<a name="l01534"></a>01534 }
<a name="l01535"></a>01535 
<a name="l01536"></a>01536 GATHER_GENERAL_L4(svec4_d, <span class="keywordtype">double</span>, svec4_u32, svec4_i1);
<a name="l01537"></a>01537 GATHER_GENERAL_L4(svec4_d, <span class="keywordtype">double</span>, svec4_u64, svec4_i1);
<a name="l01538"></a>01538 
<a name="l01539"></a>01539 <span class="comment">//Utility functions for gather base off sets</span>
<a name="l01540"></a>01540 
<a name="l01541"></a>01541 
<a name="l01543"></a>01543 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01544"></a>01544 <span class="preprocessor"></span>
<a name="l01545"></a>01545 <span class="comment">//                 Gather 32 bit data with 32 bit offset</span>
<a name="l01546"></a>01546 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> RetVec, <span class="keyword">typename</span> RetScalar, <span class="keyword">typename</span> OFF, <span class="keyword">typename</span> MSK&gt;
<a name="l01547"></a>01547 <span class="keyword">static</span> FORCEINLINE RetVec
<a name="l01548"></a>01548 lGatherBaseOffsets32_32P8(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p, uint32_t scale,
<a name="l01549"></a>01549                      OFF offsets, MSK mask) {
<a name="l01550"></a>01550     RetScalar r[4];
<a name="l01551"></a>01551     OFF vzero(0,0,0,0);
<a name="l01552"></a>01552     <span class="comment">//if mask is not set we still read from p+0 to avoid the if</span>
<a name="l01553"></a>01553     offsets = <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(mask, offsets, vzero);
<a name="l01554"></a>01554     <span class="keywordtype">int</span> offset;
<a name="l01555"></a>01555     RetScalar *ptr;
<a name="l01556"></a>01556     <span class="comment">//extract individual offsets</span>
<a name="l01557"></a>01557     uint64_t doff1 = vec_extract_l(offsets.v);
<a name="l01558"></a>01558     uint64_t doff2 = vec_extract_r(offsets.v);
<a name="l01559"></a>01559     <span class="comment">//split them in two</span>
<a name="l01560"></a>01560     uint32_t o1=(uint32_t) doff1;
<a name="l01561"></a>01561     uint32_t o0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l01562"></a>01562     uint32_t o3=(uint32_t) doff2;
<a name="l01563"></a>01563     uint32_t o2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l01564"></a>01564 <span class="preprocessor">#ifdef CORRECTNESS_CHECK</span>
<a name="l01565"></a>01565 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(o0 != offsets[0] ||
<a name="l01566"></a>01566        o1 != offsets[1] ||
<a name="l01567"></a>01567        o2 != offsets[2] ||
<a name="l01568"></a>01568        o3 != offsets[3]) {
<a name="l01569"></a>01569       printf(<span class="stringliteral">&quot;Error while extracting for gather\n&quot;</span>);
<a name="l01570"></a>01570     }
<a name="l01571"></a>01571 <span class="preprocessor">#endif</span>
<a name="l01572"></a>01572 <span class="preprocessor"></span>    <span class="keywordflow">return</span> vec_gather_p8((RetScalar*)(p + (scale*o0)),
<a name="l01573"></a>01573              (RetScalar*)(p+(scale*o1)),
<a name="l01574"></a>01574              (RetScalar*)(p+(scale*o2)),
<a name="l01575"></a>01575              (RetScalar*)(p+(scale*o3)) );
<a name="l01576"></a>01576 }
<a name="l01577"></a>01577 
<a name="l01578"></a>01578 <span class="comment">//                 Gather 64 bit data with 32 bit offset</span>
<a name="l01579"></a>01579 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> RetVec, <span class="keyword">typename</span> RetScalar, <span class="keyword">typename</span> OFF, <span class="keyword">typename</span> MSK&gt;
<a name="l01580"></a>01580 <span class="keyword">static</span> FORCEINLINE RetVec
<a name="l01581"></a>01581 lGatherBaseOffsets32_64P8(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p, uint32_t scale,
<a name="l01582"></a>01582                      OFF offsets, MSK mask) {
<a name="l01583"></a>01583     RetScalar r[4];
<a name="l01584"></a>01584     OFF vzero(0,0,0,0);
<a name="l01585"></a>01585     <span class="comment">//if mask is not set we still read from p+0 to avoid the if</span>
<a name="l01586"></a>01586     offsets = <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(mask, offsets, vzero);
<a name="l01587"></a>01587     <span class="keywordtype">int</span> offset;
<a name="l01588"></a>01588     RetScalar *ptr;
<a name="l01589"></a>01589     <span class="comment">//extract individual offsets</span>
<a name="l01590"></a>01590     uint64_t doff1 = vec_extract_l(offsets.v);
<a name="l01591"></a>01591     uint64_t doff2 = vec_extract_r(offsets.v);
<a name="l01592"></a>01592     <span class="comment">//split them in two</span>
<a name="l01593"></a>01593     uint32_t o1=(uint32_t) doff1;
<a name="l01594"></a>01594     uint32_t o0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l01595"></a>01595     uint32_t o3=(uint32_t) doff2;
<a name="l01596"></a>01596     uint32_t o2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l01597"></a>01597 <span class="preprocessor">#ifdef CORRECTNESS_CHECK</span>
<a name="l01598"></a>01598 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(o0 != offsets[0] ||
<a name="l01599"></a>01599        o1 != offsets[1] ||
<a name="l01600"></a>01600        o2 != offsets[2] ||
<a name="l01601"></a>01601        o3 != offsets[3]) {
<a name="l01602"></a>01602       printf(<span class="stringliteral">&quot;Error while extracting for gather\n&quot;</span>);
<a name="l01603"></a>01603     }
<a name="l01604"></a>01604 <span class="preprocessor">#endif</span>
<a name="l01605"></a>01605 <span class="preprocessor"></span>    <span class="keywordflow">return</span> RetVec(vec_gather_p8((RetScalar*)(p + (scale*o0)),
<a name="l01606"></a>01606                 (RetScalar*)(p+(scale*o1)))  ,
<a name="l01607"></a>01607           vec_gather_p8((RetScalar*)(p+(scale*o2)),
<a name="l01608"></a>01608                 (RetScalar*)(p+(scale*o3))) );
<a name="l01609"></a>01609 }
<a name="l01610"></a>01610 
<a name="l01611"></a>01611 
<a name="l01612"></a>01612 <span class="comment">//                 Gather 32 bit data with 64 bit offset</span>
<a name="l01613"></a>01613 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> RetVec, <span class="keyword">typename</span> RetScalar, <span class="keyword">typename</span> OFF, <span class="keyword">typename</span> MSK&gt;
<a name="l01614"></a>01614 <span class="keyword">static</span> FORCEINLINE RetVec
<a name="l01615"></a>01615 lGatherBaseOffsets64_32P8(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p, uint32_t scale,
<a name="l01616"></a>01616                      OFF offsets, MSK mask) {
<a name="l01617"></a>01617     RetScalar r[4];
<a name="l01618"></a>01618     OFF vzero(0,0,0,0);
<a name="l01619"></a>01619     <span class="comment">//if mask is not set we still read from p+0 to avoid the if</span>
<a name="l01620"></a>01620     offsets = <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(mask, offsets, vzero);
<a name="l01621"></a>01621     <span class="keywordtype">int</span> offset;
<a name="l01622"></a>01622     RetScalar *ptr;
<a name="l01623"></a>01623     <span class="comment">//extract individual offsets</span>
<a name="l01624"></a>01624     uint64_t o0 = vec_extract_l(offsets.v[0]);
<a name="l01625"></a>01625     uint64_t o1 = vec_extract_r(offsets.v[0]);
<a name="l01626"></a>01626     uint64_t o2 = vec_extract_l(offsets.v[1]);
<a name="l01627"></a>01627     uint64_t o3 = vec_extract_r(offsets.v[1]);
<a name="l01628"></a>01628 
<a name="l01629"></a>01629 <span class="preprocessor">#ifdef CORRECTNESS_CHECK</span>
<a name="l01630"></a>01630 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(o0 != offsets[0] ||
<a name="l01631"></a>01631        o1 != offsets[1] ||
<a name="l01632"></a>01632        o2 != offsets[2] ||
<a name="l01633"></a>01633        o3 != offsets[3]) {
<a name="l01634"></a>01634       printf(<span class="stringliteral">&quot;Error while extracting for gather\n&quot;</span>);
<a name="l01635"></a>01635     }
<a name="l01636"></a>01636 <span class="preprocessor">#endif</span>
<a name="l01637"></a>01637 <span class="preprocessor"></span>    <span class="keywordflow">return</span> vec_gather_p8((RetScalar*)(p+(scale*o0)),
<a name="l01638"></a>01638              (RetScalar*)(p+(scale*o1)),
<a name="l01639"></a>01639              (RetScalar*)(p+(scale*o2)),
<a name="l01640"></a>01640              (RetScalar*)(p+(scale*o3)) );
<a name="l01641"></a>01641 }
<a name="l01642"></a>01642 
<a name="l01643"></a>01643 <span class="comment">//                 Gather 64 bit data with 64 bit offset</span>
<a name="l01644"></a>01644 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> RetVec, <span class="keyword">typename</span> RetScalar, <span class="keyword">typename</span> OFF, <span class="keyword">typename</span> MSK&gt;
<a name="l01645"></a>01645 <span class="keyword">static</span> FORCEINLINE RetVec
<a name="l01646"></a>01646 lGatherBaseOffsets64_64P8(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p, uint32_t scale,
<a name="l01647"></a>01647                      OFF offsets, MSK mask) {
<a name="l01648"></a>01648     RetScalar r[4];
<a name="l01649"></a>01649     OFF vzero(0,0,0,0);
<a name="l01650"></a>01650     <span class="comment">//if mask is not set we still read from p+0 to avoid the if</span>
<a name="l01651"></a>01651     offsets = <a class="code" href="namespacevsx.html#af026add605931f855f5f253c13c5e8e0" title="construct c by selecting elements from two input vectors according to the mask">svec_select</a>(mask.v, offsets, vzero);
<a name="l01652"></a>01652     <span class="keywordtype">int</span> offset;
<a name="l01653"></a>01653     RetScalar *ptr;
<a name="l01654"></a>01654     <span class="comment">//extract individual offsets</span>
<a name="l01655"></a>01655     uint64_t o0 = vec_extract_l(offsets.v[0]);
<a name="l01656"></a>01656     uint64_t o1 = vec_extract_r(offsets.v[0]);
<a name="l01657"></a>01657     uint64_t o2 = vec_extract_l(offsets.v[1]);
<a name="l01658"></a>01658     uint64_t o3 = vec_extract_r(offsets.v[1]);
<a name="l01659"></a>01659 
<a name="l01660"></a>01660 <span class="preprocessor">#ifdef CORRECTNESS_CHECK</span>
<a name="l01661"></a>01661 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(o0 != offsets[0] ||
<a name="l01662"></a>01662        o1 != offsets[1] ||
<a name="l01663"></a>01663        o2 != offsets[2] ||
<a name="l01664"></a>01664        o3 != offsets[3]) {
<a name="l01665"></a>01665       printf(<span class="stringliteral">&quot;Error while extracting for gather\n&quot;</span>);
<a name="l01666"></a>01666     }
<a name="l01667"></a>01667 <span class="preprocessor">#endif</span>
<a name="l01668"></a>01668 <span class="preprocessor"></span>    <span class="keywordflow">return</span> RetVec(vec_gather_p8((RetScalar*)(p + (scale*o0)),
<a name="l01669"></a>01669                 (RetScalar*)(p+(scale*o1)))  ,
<a name="l01670"></a>01670           vec_gather_p8((RetScalar*)(p+(scale*o2)),
<a name="l01671"></a>01671                 (RetScalar*)(p+(scale*o3))) );
<a name="l01672"></a>01672 }
<a name="l01673"></a>01673 
<a name="l01675"></a>01675 <span class="preprocessor">#endif //endif __POWER8</span>
<a name="l01676"></a>01676 <span class="preprocessor"></span>
<a name="l01677"></a>01677 
<a name="l01678"></a>01678 GATHER_BASE_OFFSETS_L4(svec4_i8, int8_t, svec4_i32, svec4_i1);
<a name="l01679"></a>01679 GATHER_BASE_OFFSETS_L4(svec4_i8, int8_t, svec4_i64, svec4_i1);
<a name="l01680"></a>01680 GATHER_BASE_OFFSETS_L4(svec4_u8, uint8_t, svec4_i32, svec4_i1);
<a name="l01681"></a>01681 GATHER_BASE_OFFSETS_L4(svec4_u8, uint8_t, svec4_i64, svec4_i1);
<a name="l01682"></a>01682 GATHER_BASE_OFFSETS_L4(svec4_i16, int16_t, svec4_i32, svec4_i1);
<a name="l01683"></a>01683 GATHER_BASE_OFFSETS_L4(svec4_i16, int16_t, svec4_i64, svec4_i1);
<a name="l01684"></a>01684 GATHER_BASE_OFFSETS_L4(svec4_u16, uint16_t, svec4_i32, svec4_i1);
<a name="l01685"></a>01685 GATHER_BASE_OFFSETS_L4(svec4_u16, uint16_t, svec4_i64, svec4_i1);
<a name="l01686"></a>01686 
<a name="l01687"></a>01687 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_i32, int32_t, svec4_i32, svec4_i1);</span>
<a name="l01688"></a>01688 <span class="keyword">static</span> FORCEINLINE svec4_i32
<a name="l01689"></a>01689 svec_gather_base_offsets(int32_t *b, uint32_t scale, svec4_i32 offsets, svec4_i1 mask){
<a name="l01690"></a>01690 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01691"></a>01691 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets32_32P8&lt;svec4_i32,int32_t,svec4_i32,svec4_i1&gt;((uint8_t*)b,scale,offsets,mask);
<a name="l01692"></a>01692 <span class="preprocessor">  #else</span>
<a name="l01693"></a>01693 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_i32, int32_t, svec4_i32,svec4_i1&gt;((uint8_t*)b,scale,offsets,mask);
<a name="l01694"></a>01694 <span class="preprocessor">  #endif</span>
<a name="l01695"></a>01695 <span class="preprocessor"></span>}
<a name="l01696"></a>01696 
<a name="l01697"></a>01697 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_i32, int32_t, svec4_i64, svec4_i1);</span>
<a name="l01698"></a>01698 <span class="keyword">static</span> FORCEINLINE svec4_i32
<a name="l01699"></a>01699 svec_gather_base_offsets(int32_t* b, uint32_t scale, svec4_i64 offsets, svec4_i1 mask){
<a name="l01700"></a>01700     uint8_t *p = (uint8_t*)b;
<a name="l01701"></a>01701     <span class="keyword">typedef</span> svec4_i32 RetVec;
<a name="l01702"></a>01702 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01703"></a>01703 <span class="preprocessor"></span>  RetVec r1=lGatherBaseOffsets64_32P8&lt;svec4_i32,int32_t,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01704"></a>01704   <span class="keywordflow">return</span> r1;
<a name="l01705"></a>01705 <span class="preprocessor">  #else</span>
<a name="l01706"></a>01706 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_i32, int32_t,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01707"></a>01707 <span class="preprocessor">  #endif</span>
<a name="l01708"></a>01708 <span class="preprocessor"></span>}
<a name="l01709"></a>01709 
<a name="l01710"></a>01710 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_u32, uint32_t, svec4_i32, svec4_i1);</span>
<a name="l01711"></a>01711 <span class="keyword">static</span> FORCEINLINE svec4_u32
<a name="l01712"></a>01712 svec_gather_base_offsets(uint32_t *b, uint32_t scale, svec4_i32 offsets, svec4_i1 mask){
<a name="l01713"></a>01713 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01714"></a>01714 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets32_32P8&lt;svec4_u32,uint32_t,svec4_i32,svec4_i1&gt;((uint8_t*)b,scale,offsets,mask);
<a name="l01715"></a>01715 <span class="preprocessor">  #else</span>
<a name="l01716"></a>01716 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_u32, uint32_t, svec4_i32,svec4_i1&gt;((uint8_t*)b,scale,offsets,mask);
<a name="l01717"></a>01717 <span class="preprocessor">  #endif</span>
<a name="l01718"></a>01718 <span class="preprocessor"></span>}
<a name="l01719"></a>01719 
<a name="l01720"></a>01720 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_u32, uint32_t, svec4_i64, svec4_i1);</span>
<a name="l01721"></a>01721 <span class="keyword">static</span> FORCEINLINE svec4_u32
<a name="l01722"></a>01722 svec_gather_base_offsets(uint32_t* b, uint32_t scale, svec4_i64 offsets, svec4_i1 mask){
<a name="l01723"></a>01723     uint8_t *p = (uint8_t*)b;
<a name="l01724"></a>01724     <span class="keyword">typedef</span> svec4_u32 RetVec;
<a name="l01725"></a>01725 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01726"></a>01726 <span class="preprocessor"></span>  RetVec r1=lGatherBaseOffsets64_32P8&lt;svec4_u32,uint32_t,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01727"></a>01727   <span class="keywordflow">return</span> r1;
<a name="l01728"></a>01728 <span class="preprocessor">  #else</span>
<a name="l01729"></a>01729 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_u32, uint32_t,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01730"></a>01730 <span class="preprocessor">  #endif</span>
<a name="l01731"></a>01731 <span class="preprocessor"></span>}
<a name="l01732"></a>01732 
<a name="l01733"></a>01733 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_i64, int64_t, svec4_i32, svec4_i1);</span>
<a name="l01734"></a>01734 <span class="keyword">static</span> FORCEINLINE svec4_i64
<a name="l01735"></a>01735 svec_gather_base_offsets(int64_t *b, uint32_t scale, svec4_i32 offsets,svec4_i1 mask){
<a name="l01736"></a>01736   uint8_t *p = (uint8_t *)b;
<a name="l01737"></a>01737   <span class="keyword">typedef</span> svec4_i64 RetVec;
<a name="l01738"></a>01738 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01739"></a>01739 <span class="preprocessor"></span>    svec4_i64 r2 = lGatherBaseOffsets32_64P8&lt;RetVec,int64_t,svec4_i32,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01740"></a>01740     <span class="keywordflow">return</span> r2;
<a name="l01741"></a>01741 <span class="preprocessor">  #else</span>
<a name="l01742"></a>01742 <span class="preprocessor"></span>    <span class="keywordflow">return</span> lGatherBaseOffsets&lt;RetVec,int64_t, svec4_i32,svec4_i1&gt;((uint8_t*)p,scale,offsets,mask);
<a name="l01743"></a>01743 <span class="preprocessor">  #endif</span>
<a name="l01744"></a>01744 <span class="preprocessor"></span>}
<a name="l01745"></a>01745 
<a name="l01746"></a>01746 GATHER_BASE_OFFSETS_L4(svec4_i64, int64_t, svec4_i64, svec4_i1);
<a name="l01747"></a>01747 
<a name="l01748"></a>01748 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_u64, uint64_t, svec4_i32, svec4_i1);</span>
<a name="l01749"></a>01749 <span class="keyword">static</span> FORCEINLINE svec4_u64
<a name="l01750"></a>01750 svec_gather_base_offsets(uint64_t *b, uint32_t scale, svec4_i32 offsets,svec4_i1 mask){
<a name="l01751"></a>01751   uint8_t *p = (uint8_t *)b;
<a name="l01752"></a>01752   <span class="keyword">typedef</span> svec4_u64 RetVec;
<a name="l01753"></a>01753 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01754"></a>01754 <span class="preprocessor"></span>    svec4_u64 r2 = lGatherBaseOffsets32_64P8&lt;RetVec,uint64_t,svec4_i32,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01755"></a>01755     <span class="keywordflow">return</span> r2;
<a name="l01756"></a>01756 <span class="preprocessor">  #else</span>
<a name="l01757"></a>01757 <span class="preprocessor"></span>    <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_u64,uint64_t, svec4_i32,svec4_i1&gt;((uint8_t*)p,scale,offsets,mask);
<a name="l01758"></a>01758 <span class="preprocessor">  #endif</span>
<a name="l01759"></a>01759 <span class="preprocessor"></span>}
<a name="l01760"></a>01760 
<a name="l01761"></a>01761 GATHER_BASE_OFFSETS_L4(svec4_u64, uint64_t, svec4_i64, svec4_i1);
<a name="l01762"></a>01762 
<a name="l01763"></a>01763 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_f, float, svec4_i32, svec4_i1);</span>
<a name="l01764"></a>01764 <span class="keyword">static</span> FORCEINLINE svec4_f
<a name="l01765"></a>01765 svec_gather_base_offsets(<span class="keywordtype">float</span> *b, uint32_t scale, svec4_i32 offsets, svec4_i1 mask){
<a name="l01766"></a>01766     uint8_t *p = (uint8_t*)b;
<a name="l01767"></a>01767 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01768"></a>01768 <span class="preprocessor"></span>  <span class="keywordflow">return</span>  lGatherBaseOffsets32_32P8&lt;svec4_f,float,svec4_i32,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01769"></a>01769 <span class="preprocessor">  #else</span>
<a name="l01770"></a>01770 <span class="preprocessor"></span>  <span class="keywordflow">return</span>  lGatherBaseOffsets&lt;svec4_f,float, svec4_i32,svec4_i1&gt;((uint8_t*)p,scale,offsets,mask);
<a name="l01771"></a>01771 <span class="preprocessor">  #endif</span>
<a name="l01772"></a>01772 <span class="preprocessor"></span>}
<a name="l01773"></a>01773 
<a name="l01774"></a>01774 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_f, float, svec4_i64, svec4_i1);</span>
<a name="l01775"></a>01775 <span class="keyword">static</span> FORCEINLINE svec4_f
<a name="l01776"></a>01776 svec_gather_base_offsets(<span class="keywordtype">float</span>* b, uint32_t scale, svec4_i64 offsets, svec4_i1 mask){
<a name="l01777"></a>01777   uint8_t *p = (uint8_t*)b;
<a name="l01778"></a>01778 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01779"></a>01779 <span class="preprocessor"></span>  <span class="keyword">typedef</span> svec4_f RetVec;
<a name="l01780"></a>01780   RetVec r1=lGatherBaseOffsets64_32P8&lt;RetVec,float,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01781"></a>01781   <span class="keywordflow">return</span> r1;
<a name="l01782"></a>01782 <span class="preprocessor">  #else</span>
<a name="l01783"></a>01783 <span class="preprocessor"></span>  <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_f,float,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01784"></a>01784 <span class="preprocessor">  #endif</span>
<a name="l01785"></a>01785 <span class="preprocessor"></span>}
<a name="l01786"></a>01786 
<a name="l01787"></a>01787 
<a name="l01788"></a>01788 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_d, double, svec4_i32, svec4_i1);</span>
<a name="l01789"></a>01789 <span class="keyword">static</span> FORCEINLINE svec4_d
<a name="l01790"></a>01790 svec_gather_base_offsets(<span class="keywordtype">double</span>* b, uint32_t scale, svec4_i32 offsets, svec4_i1 mask){
<a name="l01791"></a>01791   <span class="keyword">typedef</span> svec4_d RetVec;
<a name="l01792"></a>01792   uint8_t* p = (uint8_t*)b;
<a name="l01793"></a>01793 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01794"></a>01794 <span class="preprocessor"></span>    svec4_d r2 = lGatherBaseOffsets32_64P8&lt;RetVec,double,svec4_i32,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01795"></a>01795     <span class="keywordflow">return</span> r2;
<a name="l01796"></a>01796 <span class="preprocessor">  #else</span>
<a name="l01797"></a>01797 <span class="preprocessor"></span>    <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_d,double,svec4_i32,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01798"></a>01798 <span class="preprocessor">  #endif</span>
<a name="l01799"></a>01799 <span class="preprocessor"></span>}
<a name="l01800"></a>01800 
<a name="l01801"></a>01801 <span class="comment">//GATHER_BASE_OFFSETS_L4(svec4_d, double, svec4_i64, svec4_i1);</span>
<a name="l01802"></a>01802 <span class="keyword">static</span> FORCEINLINE svec4_d
<a name="l01803"></a>01803 svec_gather_base_offsets(<span class="keywordtype">double</span>* b, uint32_t scale, svec4_i64 offsets, svec4_i1 mask){
<a name="l01804"></a>01804     uint8_t *p = (uint8_t*)b;
<a name="l01805"></a>01805     <span class="keyword">typedef</span> svec4_d RetVec;
<a name="l01806"></a>01806 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l01807"></a>01807 <span class="preprocessor"></span>    RetVec r1=lGatherBaseOffsets64_64P8&lt;RetVec,double,svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01808"></a>01808     <span class="keywordflow">return</span> r1;
<a name="l01809"></a>01809 <span class="preprocessor">  #else</span>
<a name="l01810"></a>01810 <span class="preprocessor"></span>    <span class="keywordflow">return</span> lGatherBaseOffsets&lt;svec4_d, double, svec4_i64,svec4_i1&gt;(p,scale,offsets,mask);
<a name="l01811"></a>01811 <span class="preprocessor">  #endif</span>
<a name="l01812"></a>01812 <span class="preprocessor"></span>}
<a name="l01813"></a>01813 
<a name="l01814"></a>01814 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01815"></a>01815 <span class="preprocessor"></span>
<a name="l01816"></a>01816 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> STYPE, <span class="keyword">typename</span> PTRTYPE, <span class="keyword">typename</span> VTYPE&gt;
<a name="l01817"></a>01817 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> lScatter64_32(PTRTYPE ptrs,
<a name="l01818"></a>01818                       VTYPE val, svec4_i1 mask) {
<a name="l01819"></a>01819 
<a name="l01820"></a>01820   uint64_t p0 = vec_extract_l(ptrs.v[0]);
<a name="l01821"></a>01821   uint64_t p1 = vec_extract_r(ptrs.v[0]);
<a name="l01822"></a>01822   uint64_t p2 = vec_extract_l(ptrs.v[1]);
<a name="l01823"></a>01823   uint64_t p3 = vec_extract_r(ptrs.v[1]);
<a name="l01824"></a>01824 
<a name="l01825"></a>01825   <span class="comment">//extract mask</span>
<a name="l01826"></a>01826   uint64_t doff1 = vec_extract_l(mask.v);
<a name="l01827"></a>01827   uint64_t doff2 = vec_extract_r(mask.v);
<a name="l01828"></a>01828   <span class="comment">//split them in four</span>
<a name="l01829"></a>01829   uint32_t m1=(uint32_t) doff1;
<a name="l01830"></a>01830   uint32_t m0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l01831"></a>01831   uint32_t m3=(uint32_t) doff2;
<a name="l01832"></a>01832   uint32_t m2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l01833"></a>01833 
<a name="l01834"></a>01834   <span class="comment">//check correctness</span>
<a name="l01835"></a>01835   <span class="comment">/*</span>
<a name="l01836"></a>01836 <span class="comment">  if(p0 != __extract_element(ptrs,0) ||</span>
<a name="l01837"></a>01837 <span class="comment">     p1 != __extract_element(ptrs,1) ||</span>
<a name="l01838"></a>01838 <span class="comment">     p2 != __extract_element(ptrs,2) ||</span>
<a name="l01839"></a>01839 <span class="comment">     p3 != __extract_element(ptrs,3)) {</span>
<a name="l01840"></a>01840 <span class="comment">    printf(&quot;Error while extracting ptrs for scatter\n&quot;);</span>
<a name="l01841"></a>01841 <span class="comment">  }</span>
<a name="l01842"></a>01842 <span class="comment"></span>
<a name="l01843"></a>01843 <span class="comment">  if(m0 != __extract_element(mask,0) ||</span>
<a name="l01844"></a>01844 <span class="comment">     m1 != __extract_element(mask,1) ||</span>
<a name="l01845"></a>01845 <span class="comment">     m2 != __extract_element(mask,2) ||</span>
<a name="l01846"></a>01846 <span class="comment">     m3 != __extract_element(mask,3)) {</span>
<a name="l01847"></a>01847 <span class="comment">    printf(&quot;Error while extracting mask for scatter\n&quot;);</span>
<a name="l01848"></a>01848 <span class="comment">  }</span>
<a name="l01849"></a>01849 <span class="comment">  */</span>
<a name="l01850"></a>01850 
<a name="l01851"></a>01851   <span class="keywordflow">if</span>(m0)
<a name="l01852"></a>01852     vec_scatter_step_12((STYPE*)p0, val.v);
<a name="l01853"></a>01853   <span class="keywordflow">if</span>(m1)
<a name="l01854"></a>01854     vec_scatter_step_0((STYPE*)p1, val.v);
<a name="l01855"></a>01855   <span class="keywordflow">if</span>(m2)
<a name="l01856"></a>01856     vec_scatter_step_4((STYPE*)p2, val.v);
<a name="l01857"></a>01857   <span class="keywordflow">if</span>(m3)
<a name="l01858"></a>01858     vec_scatter_step_8((STYPE*)p3, val.v);
<a name="l01859"></a>01859 }
<a name="l01860"></a>01860 <span class="preprocessor">#endif</span>
<a name="l01861"></a>01861 <span class="preprocessor"></span>
<a name="l01862"></a>01862 GATHER_STRIDE_L4(svec4_i8, int8_t, int32_t, svec4_i1);
<a name="l01863"></a>01863 GATHER_STRIDE_L4(svec4_i8, int8_t, int64_t, svec4_i1);
<a name="l01864"></a>01864 GATHER_STRIDE_L4(svec4_u8, uint8_t, int32_t, svec4_i1);
<a name="l01865"></a>01865 GATHER_STRIDE_L4(svec4_u8, uint8_t, int64_t, svec4_i1);
<a name="l01866"></a>01866 GATHER_STRIDE_L4(svec4_i16, int16_t, int32_t, svec4_i1);
<a name="l01867"></a>01867 GATHER_STRIDE_L4(svec4_i16, int16_t, int64_t, svec4_i1);
<a name="l01868"></a>01868 GATHER_STRIDE_L4(svec4_u16, uint16_t, int32_t, svec4_i1);
<a name="l01869"></a>01869 GATHER_STRIDE_L4(svec4_u16, uint16_t, int64_t, svec4_i1);
<a name="l01870"></a>01870 GATHER_STRIDE_L4(svec4_i32, int32_t, int32_t, svec4_i1);
<a name="l01871"></a>01871 GATHER_STRIDE_L4(svec4_i32, int32_t, int64_t, svec4_i1);
<a name="l01872"></a>01872 GATHER_STRIDE_L4(svec4_u32, uint32_t, int32_t, svec4_i1);
<a name="l01873"></a>01873 GATHER_STRIDE_L4(svec4_u32, uint32_t, int64_t, svec4_i1);
<a name="l01874"></a>01874 GATHER_STRIDE_L4(svec4_i64, int64_t, int32_t, svec4_i1);
<a name="l01875"></a>01875 GATHER_STRIDE_L4(svec4_i64, int64_t, int64_t, svec4_i1);
<a name="l01876"></a>01876 GATHER_STRIDE_L4(svec4_u64, uint64_t, int32_t, svec4_i1);
<a name="l01877"></a>01877 GATHER_STRIDE_L4(svec4_u64, uint64_t, int64_t, svec4_i1);
<a name="l01878"></a>01878 GATHER_STRIDE_L4(svec4_f, <span class="keywordtype">float</span>, int32_t, svec4_i1);
<a name="l01879"></a>01879 GATHER_STRIDE_L4(svec4_f, <span class="keywordtype">float</span>, int64_t, svec4_i1);
<a name="l01880"></a>01880 GATHER_STRIDE_L4(svec4_d, <span class="keywordtype">double</span>, int32_t, svec4_i1);
<a name="l01881"></a>01881 <span class="comment">//FORCEINLINE svec4_d svec_gather_STRIDE(double* b, int32_t step) {</span>
<a name="l01882"></a>01882 <span class="comment">//  __vector double v0 = vec_splats(*b);</span>
<a name="l01883"></a>01883 <span class="comment">//  b += step;</span>
<a name="l01884"></a>01884 <span class="comment">//  __vector double v1 = vec_splats(*b);</span>
<a name="l01885"></a>01885 <span class="comment">//  __vector double v01 = vec_mergeh(v0, v1);</span>
<a name="l01886"></a>01886 <span class="comment">//  b += step;</span>
<a name="l01887"></a>01887 <span class="comment">//  __vector double v2 = vec_splats(*b);</span>
<a name="l01888"></a>01888 <span class="comment">//  b += step;</span>
<a name="l01889"></a>01889 <span class="comment">//  __vector double v3 = vec_splats(*b);</span>
<a name="l01890"></a>01890 <span class="comment">//  __vector double v23 = vec_mergeh(v2, v3);</span>
<a name="l01891"></a>01891 <span class="comment">//  return svec4_d(v01, v23);</span>
<a name="l01892"></a>01892 <span class="comment">//}</span>
<a name="l01893"></a>01893 GATHER_STRIDE_L4(svec4_d, <span class="keywordtype">double</span>, int64_t, svec4_i1);
<a name="l01894"></a>01894 
<a name="l01895"></a>01895 
<a name="l01896"></a>01896 
<a name="l01897"></a>01897 
<a name="l01898"></a>01898 SCATTER_GENERAL_L4(svec4_i8, int8_t, svec4_u32, svec4_i1);
<a name="l01899"></a>01899 SCATTER_GENERAL_L4(svec4_i8, int8_t, svec4_u64, svec4_i1);
<a name="l01900"></a>01900 SCATTER_GENERAL_L4(svec4_u8, uint8_t, svec4_u32, svec4_i1);
<a name="l01901"></a>01901 SCATTER_GENERAL_L4(svec4_u8, uint8_t, svec4_u64, svec4_i1);
<a name="l01902"></a>01902 SCATTER_GENERAL_L4(svec4_i16, int16_t, svec4_u32, svec4_i1);
<a name="l01903"></a>01903 SCATTER_GENERAL_L4(svec4_i16, int16_t, svec4_u64, svec4_i1);
<a name="l01904"></a>01904 SCATTER_GENERAL_L4(svec4_u16, uint16_t, svec4_u32, svec4_i1);
<a name="l01905"></a>01905 SCATTER_GENERAL_L4(svec4_u16, uint16_t, svec4_u64, svec4_i1);
<a name="l01906"></a>01906 SCATTER_GENERAL_L4(svec4_i32, int32_t, svec4_u32, svec4_i1);
<a name="l01907"></a>01907 
<a name="l01908"></a>01908 <span class="comment">//SCATTER_GENERAL_L4(svec4_i32, int32_t, svec4_u64, svec4_i1);</span>
<a name="l01909"></a>01909 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_scatter(svec4_u64 ptrs, svec4_i32 val, svec4_i1 mask) {
<a name="l01910"></a>01910 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l01911"></a>01911 <span class="preprocessor"></span>  lScatter64_32&lt;int32_t, svec4_u64, svec4_i32&gt;(ptrs,val,mask);
<a name="l01912"></a>01912 <span class="preprocessor"> #else</span>
<a name="l01913"></a>01913 <span class="preprocessor"></span>  lScatterGeneral&lt;int32_t, svec4_u64, svec4_i32, svec4_i1&gt;(ptrs,val,mask);
<a name="l01914"></a>01914 <span class="preprocessor"> #endif</span>
<a name="l01915"></a>01915 <span class="preprocessor"></span>}
<a name="l01916"></a>01916 
<a name="l01917"></a>01917 SCATTER_GENERAL_L4(svec4_u32, uint32_t, svec4_u32, svec4_i1);
<a name="l01918"></a>01918 
<a name="l01919"></a>01919 <span class="comment">//SCATTER_GENERAL_L4(svec4_u32, uint32_t, svec4_u64, svec4_i1);</span>
<a name="l01920"></a>01920 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_scatter(svec4_u64 ptrs, svec4_u32 val, svec4_i1 mask) {
<a name="l01921"></a>01921 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l01922"></a>01922 <span class="preprocessor"></span>  lScatter64_32&lt;uint32_t, svec4_u64, svec4_u32&gt;(ptrs,val,mask);
<a name="l01923"></a>01923 <span class="preprocessor"> #else</span>
<a name="l01924"></a>01924 <span class="preprocessor"></span>  lScatterGeneral&lt;uint32_t, svec4_u64, svec4_u32, svec4_i1&gt;(ptrs,val,mask);
<a name="l01925"></a>01925 <span class="preprocessor"> #endif</span>
<a name="l01926"></a>01926 <span class="preprocessor"></span>}
<a name="l01927"></a>01927 
<a name="l01928"></a>01928 SCATTER_GENERAL_L4(svec4_i64, int64_t, svec4_u32, svec4_i1);
<a name="l01929"></a>01929 SCATTER_GENERAL_L4(svec4_i64, int64_t, svec4_u64, svec4_i1);
<a name="l01930"></a>01930 SCATTER_GENERAL_L4(svec4_u64, uint64_t, svec4_u32, svec4_i1);
<a name="l01931"></a>01931 SCATTER_GENERAL_L4(svec4_u64, uint64_t, svec4_u64, svec4_i1);
<a name="l01932"></a>01932 SCATTER_GENERAL_L4(svec4_f, <span class="keywordtype">float</span>, svec4_u32, svec4_i1);
<a name="l01933"></a>01933 
<a name="l01934"></a>01934 <span class="comment">//SCATTER_GENERAL_L4(svec4_f, float, svec4_u64, svec4_i1);</span>
<a name="l01935"></a>01935 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> svec_scatter (svec4_u64 ptrs,svec4_f val,svec4_i1 mask) {
<a name="l01936"></a>01936 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l01937"></a>01937 <span class="preprocessor"></span>  lScatter64_32&lt;float, svec4_u64, svec4_f&gt;(ptrs,val,mask);
<a name="l01938"></a>01938 <span class="preprocessor"> #else</span>
<a name="l01939"></a>01939 <span class="preprocessor"></span>  lScatterGeneral&lt;float, svec4_u64, svec4_f, svec4_i1&gt;(ptrs,val,mask);
<a name="l01940"></a>01940 <span class="preprocessor"> #endif</span>
<a name="l01941"></a>01941 <span class="preprocessor"></span>}
<a name="l01942"></a>01942 
<a name="l01943"></a>01943 SCATTER_GENERAL_L4(svec4_d, <span class="keywordtype">double</span>, svec4_u32, svec4_i1);
<a name="l01944"></a>01944 SCATTER_GENERAL_L4(svec4_d, <span class="keywordtype">double</span>, svec4_u64, svec4_i1);
<a name="l01945"></a>01945 
<a name="l01946"></a>01946 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l01947"></a>01947 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> STYPE, <span class="keyword">typename</span> OTYPE, <span class="keyword">typename</span> VTYPE&gt;
<a name="l01948"></a>01948 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> lScatterBaseOffsets32_32(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *b,
<a name="l01949"></a>01949                         uint32_t scale, OTYPE offsets,
<a name="l01950"></a>01950                         VTYPE val, svec4_i1 mask) {
<a name="l01951"></a>01951   <span class="comment">//data is 32; offset is 32</span>
<a name="l01952"></a>01952   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *base = b;
<a name="l01953"></a>01953   <span class="comment">//extract offsets</span>
<a name="l01954"></a>01954   uint64_t doff1 = vec_extract_l(offsets.v);
<a name="l01955"></a>01955   uint64_t doff2 = vec_extract_r(offsets.v);
<a name="l01956"></a>01956   <span class="comment">//split them in four</span>
<a name="l01957"></a>01957   uint32_t o1=(uint32_t) doff1;
<a name="l01958"></a>01958   uint32_t o0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l01959"></a>01959   uint32_t o3=(uint32_t) doff2;
<a name="l01960"></a>01960   uint32_t o2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l01961"></a>01961 
<a name="l01962"></a>01962   <span class="comment">//extract mask</span>
<a name="l01963"></a>01963   doff1 = vec_extract_l(mask.v);
<a name="l01964"></a>01964   doff2 = vec_extract_r(mask.v);
<a name="l01965"></a>01965   <span class="comment">//split them in four</span>
<a name="l01966"></a>01966   uint32_t m1=(uint32_t) doff1;
<a name="l01967"></a>01967   uint32_t m0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l01968"></a>01968   uint32_t m3=(uint32_t) doff2;
<a name="l01969"></a>01969   uint32_t m2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l01970"></a>01970 
<a name="l01971"></a>01971   <span class="comment">//check correctness</span>
<a name="l01972"></a>01972   <span class="comment">/*</span>
<a name="l01973"></a>01973 <span class="comment">  if(o0 != __extract_element(offsets,0) ||</span>
<a name="l01974"></a>01974 <span class="comment">     o1 != __extract_element(offsets,1) ||</span>
<a name="l01975"></a>01975 <span class="comment">     o2 != __extract_element(offsets,2) ||</span>
<a name="l01976"></a>01976 <span class="comment">     o3 != __extract_element(offsets,3)) {</span>
<a name="l01977"></a>01977 <span class="comment">    printf(&quot;Error while extracting offsets for scatter\n&quot;);</span>
<a name="l01978"></a>01978 <span class="comment">  }</span>
<a name="l01979"></a>01979 <span class="comment"></span>
<a name="l01980"></a>01980 <span class="comment">  if(m0 != __extract_element(mask,0) ||</span>
<a name="l01981"></a>01981 <span class="comment">     m1 != __extract_element(mask,1) ||</span>
<a name="l01982"></a>01982 <span class="comment">     m2 != __extract_element(mask,2) ||</span>
<a name="l01983"></a>01983 <span class="comment">     m3 != __extract_element(mask,3)) {</span>
<a name="l01984"></a>01984 <span class="comment">    printf(&quot;Error while extracting mask for scatter\n&quot;);</span>
<a name="l01985"></a>01985 <span class="comment">  }</span>
<a name="l01986"></a>01986 <span class="comment">  */</span>
<a name="l01987"></a>01987 
<a name="l01988"></a>01988   STYPE *ptr0 = (STYPE *)(base + scale * o0);
<a name="l01989"></a>01989   STYPE *ptr1 = (STYPE *)(base + scale * o1);
<a name="l01990"></a>01990   STYPE *ptr2 = (STYPE *)(base + scale * o2);
<a name="l01991"></a>01991   STYPE *ptr3 = (STYPE *)(base + scale * o3);
<a name="l01992"></a>01992 
<a name="l01993"></a>01993   <span class="keywordflow">if</span>(m0)
<a name="l01994"></a>01994     vec_scatter_step_12(ptr0, val.v);
<a name="l01995"></a>01995   <span class="keywordflow">if</span>(m1)
<a name="l01996"></a>01996     vec_scatter_step_0(ptr1, val.v);
<a name="l01997"></a>01997   <span class="keywordflow">if</span>(m2)
<a name="l01998"></a>01998     vec_scatter_step_4(ptr2, val.v);
<a name="l01999"></a>01999   <span class="keywordflow">if</span>(m3)
<a name="l02000"></a>02000     vec_scatter_step_8(ptr3, val.v);
<a name="l02001"></a>02001 }
<a name="l02002"></a>02002 
<a name="l02003"></a>02003 
<a name="l02004"></a>02004 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> STYPE, <span class="keyword">typename</span> OTYPE, <span class="keyword">typename</span> VTYPE&gt;
<a name="l02005"></a>02005 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span> lScatterBaseOffsets64_32(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *b,
<a name="l02006"></a>02006                         uint32_t scale, OTYPE offsets,
<a name="l02007"></a>02007                         VTYPE val, svec4_i1 mask) {
<a name="l02008"></a>02008   <span class="comment">//data is 32; offset is 64</span>
<a name="l02009"></a>02009   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *base = b;
<a name="l02010"></a>02010 
<a name="l02011"></a>02011   uint64_t o0 = vec_extract_l(offsets.v[0]);
<a name="l02012"></a>02012   uint64_t o1 = vec_extract_r(offsets.v[0]);
<a name="l02013"></a>02013   uint64_t o2 = vec_extract_l(offsets.v[1]);
<a name="l02014"></a>02014   uint64_t o3 = vec_extract_r(offsets.v[1]);
<a name="l02015"></a>02015 
<a name="l02016"></a>02016   <span class="comment">//extract mask</span>
<a name="l02017"></a>02017   uint64_t doff1 = vec_extract_l(mask.v);
<a name="l02018"></a>02018   uint64_t doff2 = vec_extract_r(mask.v);
<a name="l02019"></a>02019   <span class="comment">//split them in four</span>
<a name="l02020"></a>02020   uint32_t m1=(uint32_t) doff1;
<a name="l02021"></a>02021   uint32_t m0=(uint32_t)(doff1 &gt;&gt; 32);
<a name="l02022"></a>02022   uint32_t m3=(uint32_t) doff2;
<a name="l02023"></a>02023   uint32_t m2=(uint32_t)(doff2 &gt;&gt; 32);
<a name="l02024"></a>02024 
<a name="l02025"></a>02025   <span class="comment">//check correctness</span>
<a name="l02026"></a>02026   <span class="comment">/*</span>
<a name="l02027"></a>02027 <span class="comment">  if(o0 != __extract_element(offsets,0) ||</span>
<a name="l02028"></a>02028 <span class="comment">     o1 != __extract_element(offsets,1) ||</span>
<a name="l02029"></a>02029 <span class="comment">     o2 != __extract_element(offsets,2) ||</span>
<a name="l02030"></a>02030 <span class="comment">     o3 != __extract_element(offsets,3)) {</span>
<a name="l02031"></a>02031 <span class="comment">    printf(&quot;Error while extracting offsets for scatter\n&quot;);</span>
<a name="l02032"></a>02032 <span class="comment">  }</span>
<a name="l02033"></a>02033 <span class="comment"></span>
<a name="l02034"></a>02034 <span class="comment">  if(m0 != __extract_element(mask,0) ||</span>
<a name="l02035"></a>02035 <span class="comment">     m1 != __extract_element(mask,1) ||</span>
<a name="l02036"></a>02036 <span class="comment">     m2 != __extract_element(mask,2) ||</span>
<a name="l02037"></a>02037 <span class="comment">     m3 != __extract_element(mask,3)) {</span>
<a name="l02038"></a>02038 <span class="comment">    printf(&quot;Error while extracting mask for scatter\n&quot;);</span>
<a name="l02039"></a>02039 <span class="comment">  }</span>
<a name="l02040"></a>02040 <span class="comment">  */</span>
<a name="l02041"></a>02041 
<a name="l02042"></a>02042   STYPE *ptr0 = (STYPE *)(base + scale * o0);
<a name="l02043"></a>02043   STYPE *ptr1 = (STYPE *)(base + scale * o1);
<a name="l02044"></a>02044   STYPE *ptr2 = (STYPE *)(base + scale * o2);
<a name="l02045"></a>02045   STYPE *ptr3 = (STYPE *)(base + scale * o3);
<a name="l02046"></a>02046 
<a name="l02047"></a>02047   <span class="keywordflow">if</span>(m0)
<a name="l02048"></a>02048     vec_scatter_step_12(ptr0, val.v);
<a name="l02049"></a>02049   <span class="keywordflow">if</span>(m1)
<a name="l02050"></a>02050     vec_scatter_step_0(ptr1, val.v);
<a name="l02051"></a>02051   <span class="keywordflow">if</span>(m2)
<a name="l02052"></a>02052     vec_scatter_step_4(ptr2, val.v);
<a name="l02053"></a>02053   <span class="keywordflow">if</span>(m3)
<a name="l02054"></a>02054     vec_scatter_step_8(ptr3, val.v);
<a name="l02055"></a>02055 }
<a name="l02056"></a>02056 <span class="preprocessor">#endif</span>
<a name="l02057"></a>02057 <span class="preprocessor"></span>
<a name="l02058"></a>02058 
<a name="l02059"></a>02059 
<a name="l02060"></a>02060 SCATTER_BASE_OFFSETS_L4(svec4_i8, int8_t, svec4_i32, svec4_i1);
<a name="l02061"></a>02061 SCATTER_BASE_OFFSETS_L4(svec4_i8, int8_t, svec4_i64, svec4_i1);
<a name="l02062"></a>02062 SCATTER_BASE_OFFSETS_L4(svec4_u8, uint8_t, svec4_i32, svec4_i1);
<a name="l02063"></a>02063 SCATTER_BASE_OFFSETS_L4(svec4_u8, uint8_t, svec4_i64, svec4_i1);
<a name="l02064"></a>02064 SCATTER_BASE_OFFSETS_L4(svec4_i16, int16_t, svec4_i32, svec4_i1);
<a name="l02065"></a>02065 SCATTER_BASE_OFFSETS_L4(svec4_i16, int16_t, svec4_i64, svec4_i1);
<a name="l02066"></a>02066 SCATTER_BASE_OFFSETS_L4(svec4_u16, uint16_t, svec4_i32, svec4_i1);
<a name="l02067"></a>02067 SCATTER_BASE_OFFSETS_L4(svec4_u16, uint16_t, svec4_i64, svec4_i1);
<a name="l02068"></a>02068 
<a name="l02069"></a>02069 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_i32, int32_t, svec4_i32, svec4_i1);</span>
<a name="l02070"></a>02070 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02071"></a>02071 svec_scatter_base_offsets(int32_t* p, uint32_t scale, svec4_i32 offsets,
<a name="l02072"></a>02072                           svec4_i32 val, svec4_i1 mask){
<a name="l02073"></a>02073     uint8_t* b = (uint8_t*) p;
<a name="l02074"></a>02074 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l02075"></a>02075 <span class="preprocessor"></span>    lScatterBaseOffsets32_32&lt;int32_t, svec4_i32, svec4_i32&gt;(b,scale,offsets,val,mask);
<a name="l02076"></a>02076 <span class="preprocessor"> #else</span>
<a name="l02077"></a>02077 <span class="preprocessor"></span>    lScatterBaseOffsets&lt;int32_t, svec4_i32, svec4_i32&gt;(b,scale,offsets,val,mask);
<a name="l02078"></a>02078 <span class="preprocessor"> #endif</span>
<a name="l02079"></a>02079 <span class="preprocessor"></span>}
<a name="l02080"></a>02080 
<a name="l02081"></a>02081 
<a name="l02082"></a>02082 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_i32, int32_t, svec4_i64, svec4_i1);</span>
<a name="l02083"></a>02083 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02084"></a>02084 svec_scatter_base_offsets(int32_t* p, uint32_t scale, svec4_i64 offsets,
<a name="l02085"></a>02085                           svec4_i32 val, svec4_i1 mask){
<a name="l02086"></a>02086     uint8_t* b = (uint8_t*) p;
<a name="l02087"></a>02087 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l02088"></a>02088 <span class="preprocessor"></span>   lScatterBaseOffsets64_32&lt;int32_t, svec4_i64, svec4_i32&gt;(b,scale,offsets,val,mask);
<a name="l02089"></a>02089 <span class="preprocessor">  #else</span>
<a name="l02090"></a>02090 <span class="preprocessor"></span>   lScatterBaseOffsets&lt;int32_t,svec4_i64, svec4_i32&gt;(b,scale,offsets,val,mask);
<a name="l02091"></a>02091 <span class="preprocessor">  #endif</span>
<a name="l02092"></a>02092 <span class="preprocessor"></span>}
<a name="l02093"></a>02093 
<a name="l02094"></a>02094 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_u32, uint32_t, svec4_i32, svec4_i1);</span>
<a name="l02095"></a>02095 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02096"></a>02096 svec_scatter_base_offsets(uint32_t* p, uint32_t scale, svec4_i32 offsets,
<a name="l02097"></a>02097                           svec4_u32 val, svec4_i1 mask){
<a name="l02098"></a>02098     uint8_t* b = (uint8_t*) p;
<a name="l02099"></a>02099 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l02100"></a>02100 <span class="preprocessor"></span>    lScatterBaseOffsets32_32&lt;uint32_t, svec4_i32, svec4_u32&gt;(b,scale,offsets,val,mask);
<a name="l02101"></a>02101 <span class="preprocessor"> #else</span>
<a name="l02102"></a>02102 <span class="preprocessor"></span>    lScatterBaseOffsets&lt;uint32_t, svec4_i32, svec4_u32&gt;(b,scale,offsets,val,mask);
<a name="l02103"></a>02103 <span class="preprocessor"> #endif</span>
<a name="l02104"></a>02104 <span class="preprocessor"></span>}
<a name="l02105"></a>02105 
<a name="l02106"></a>02106 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_u32, uint32_t, svec4_i64, svec4_i1);</span>
<a name="l02107"></a>02107 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02108"></a>02108 svec_scatter_base_offsets(uint32_t* p, uint32_t scale, svec4_i64 offsets,
<a name="l02109"></a>02109                           svec4_u32 val, svec4_i1 mask){
<a name="l02110"></a>02110     uint8_t* b = (uint8_t*) p;
<a name="l02111"></a>02111 <span class="preprocessor">  #ifdef __POWER8</span>
<a name="l02112"></a>02112 <span class="preprocessor"></span>   lScatterBaseOffsets64_32&lt;uint32_t, svec4_i64, svec4_u32&gt;(b,scale,offsets,val,mask);
<a name="l02113"></a>02113 <span class="preprocessor">  #else</span>
<a name="l02114"></a>02114 <span class="preprocessor"></span>   lScatterBaseOffsets&lt;uint32_t,svec4_i64, svec4_u32&gt;(b,scale,offsets,val,mask);
<a name="l02115"></a>02115 <span class="preprocessor">  #endif</span>
<a name="l02116"></a>02116 <span class="preprocessor"></span>}
<a name="l02117"></a>02117 
<a name="l02118"></a>02118 SCATTER_BASE_OFFSETS_L4(svec4_i64, int64_t, svec4_i32, svec4_i1);
<a name="l02119"></a>02119 SCATTER_BASE_OFFSETS_L4(svec4_i64, int64_t, svec4_i64, svec4_i1);
<a name="l02120"></a>02120 SCATTER_BASE_OFFSETS_L4(svec4_u64, uint64_t, svec4_i32, svec4_i1);
<a name="l02121"></a>02121 SCATTER_BASE_OFFSETS_L4(svec4_u64, uint64_t, svec4_i64, svec4_i1);
<a name="l02122"></a>02122 
<a name="l02123"></a>02123 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_f, float, svec4_i32, svec4_i1);</span>
<a name="l02124"></a>02124 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02125"></a>02125 svec_scatter_base_offsets(<span class="keywordtype">float</span>* p, uint32_t scale, svec4_i32 offsets,
<a name="l02126"></a>02126                                   svec4_f val,svec4_i1 mask){
<a name="l02127"></a>02127     uint8_t* b = (uint8_t*)p;
<a name="l02128"></a>02128 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l02129"></a>02129 <span class="preprocessor"></span>    lScatterBaseOffsets32_32&lt;float, svec4_i32, svec4_f&gt;(b,scale,offsets,val,mask);
<a name="l02130"></a>02130 <span class="preprocessor"> #else</span>
<a name="l02131"></a>02131 <span class="preprocessor"></span>    lScatterBaseOffsets&lt;float, svec4_i32, svec4_f&gt;(b,scale,offsets,val,mask);
<a name="l02132"></a>02132 <span class="preprocessor"> #endif</span>
<a name="l02133"></a>02133 <span class="preprocessor"></span>}
<a name="l02134"></a>02134 
<a name="l02135"></a>02135 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_f, float, svec4_i64, svec4_i1);</span>
<a name="l02136"></a>02136 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02137"></a>02137 svec_scatter_base_offsets(<span class="keywordtype">float</span>* p,uint32_t scale, svec4_i64 offsets,
<a name="l02138"></a>02138                           svec4_f val, svec4_i1 mask){
<a name="l02139"></a>02139     uint8_t* b = (uint8_t*)p;
<a name="l02140"></a>02140 <span class="preprocessor"> #ifdef __POWER8</span>
<a name="l02141"></a>02141 <span class="preprocessor"></span>  lScatterBaseOffsets64_32&lt;float, svec4_i64, svec4_f&gt;(b,scale,offsets,val,mask);
<a name="l02142"></a>02142 <span class="preprocessor"> #else</span>
<a name="l02143"></a>02143 <span class="preprocessor"></span>  lScatterBaseOffsets&lt;float, svec4_i64, svec4_f&gt;(b,scale,offsets,val,mask);
<a name="l02144"></a>02144 <span class="preprocessor"> #endif</span>
<a name="l02145"></a>02145 <span class="preprocessor"></span>}
<a name="l02146"></a>02146 
<a name="l02147"></a>02147 
<a name="l02148"></a>02148 SCATTER_BASE_OFFSETS_L4(svec4_d, <span class="keywordtype">double</span>, svec4_i32, svec4_i1);
<a name="l02149"></a>02149 
<a name="l02150"></a>02150 <span class="comment">//SCATTER_BASE_OFFSETS_L4(svec4_d, double, svec4_i64, svec4_i1);</span>
<a name="l02151"></a>02151 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">void</span>
<a name="l02152"></a>02152 svec_scatter_base_offsets(<span class="keywordtype">double</span>* p, uint32_t scale, svec4_i64 offsets,
<a name="l02153"></a>02153                                svec4_d val, svec4_i1 mask){
<a name="l02154"></a>02154     uint8_t* b = (uint8_t*)p;
<a name="l02155"></a>02155   lScatterBaseOffsets&lt;double, svec4_i64, svec4_d&gt;(b,scale,offsets,val,mask);
<a name="l02156"></a>02156 }
<a name="l02157"></a>02157 
<a name="l02158"></a>02158 SCATTER_STRIDE_L4(svec4_i8, int8_t, int32_t, svec4_i1);
<a name="l02159"></a>02159 SCATTER_STRIDE_L4(svec4_i8, int8_t, int64_t, svec4_i1);
<a name="l02160"></a>02160 SCATTER_STRIDE_L4(svec4_u8, uint8_t, int32_t, svec4_i1);
<a name="l02161"></a>02161 SCATTER_STRIDE_L4(svec4_u8, uint8_t, int64_t, svec4_i1);
<a name="l02162"></a>02162 SCATTER_STRIDE_L4(svec4_i16, int16_t, int32_t, svec4_i1);
<a name="l02163"></a>02163 SCATTER_STRIDE_L4(svec4_i16, int16_t, int64_t, svec4_i1);
<a name="l02164"></a>02164 SCATTER_STRIDE_L4(svec4_u16, uint16_t, int32_t, svec4_i1);
<a name="l02165"></a>02165 SCATTER_STRIDE_L4(svec4_u16, uint16_t, int64_t, svec4_i1);
<a name="l02166"></a>02166 SCATTER_STRIDE_L4(svec4_i32, int32_t, int32_t, svec4_i1);
<a name="l02167"></a>02167 SCATTER_STRIDE_L4(svec4_i32, int32_t, int64_t, svec4_i1);
<a name="l02168"></a>02168 SCATTER_STRIDE_L4(svec4_u32, uint32_t, int32_t, svec4_i1);
<a name="l02169"></a>02169 SCATTER_STRIDE_L4(svec4_u32, uint32_t, int64_t, svec4_i1);
<a name="l02170"></a>02170 SCATTER_STRIDE_L4(svec4_i64, int64_t, int32_t, svec4_i1);
<a name="l02171"></a>02171 SCATTER_STRIDE_L4(svec4_i64, int64_t, int64_t, svec4_i1);
<a name="l02172"></a>02172 SCATTER_STRIDE_L4(svec4_u64, uint64_t, int32_t, svec4_i1);
<a name="l02173"></a>02173 SCATTER_STRIDE_L4(svec4_u64, uint64_t, int64_t, svec4_i1);
<a name="l02174"></a>02174 SCATTER_STRIDE_L4(svec4_f, <span class="keywordtype">float</span>, int32_t, svec4_i1);
<a name="l02175"></a>02175 SCATTER_STRIDE_L4(svec4_f, <span class="keywordtype">float</span>, int64_t, svec4_i1);
<a name="l02176"></a>02176 SCATTER_STRIDE_L4(svec4_d, <span class="keywordtype">double</span>, int32_t, svec4_i1);
<a name="l02177"></a>02177 SCATTER_STRIDE_L4(svec4_d, <span class="keywordtype">double</span>, int64_t, svec4_i1);
<a name="l02178"></a>02178 
<a name="l02179"></a>02179 <span class="preprocessor">#endif //DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l02180"></a>02180 <span class="preprocessor"></span>
<a name="l02181"></a>02181 
<a name="l02182"></a>02182 <span class="comment">//  5. masked load/masked store</span>
<a name="l02183"></a>02183 
<a name="l02184"></a>02184 <span class="comment">//Masked load/store is implemented based on gather_base_offsets/scatter_base_offsets</span>
<a name="l02185"></a>02185 <span class="comment">//Here we only use offsets with 32bit</span>
<a name="l02186"></a>02186 
<a name="l02187"></a>02187 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_i8, int8_t, svec4_i1);
<a name="l02188"></a>02188 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_u8, uint8_t,svec4_i1);
<a name="l02189"></a>02189 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_i16, int16_t, svec4_i1);
<a name="l02190"></a>02190 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_u16, uint16_t, svec4_i1);
<a name="l02191"></a>02191 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_i32, int32_t, svec4_i1);
<a name="l02192"></a>02192 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_u32, uint32_t, svec4_i1);
<a name="l02193"></a>02193 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_i64, int64_t, svec4_i1);
<a name="l02194"></a>02194 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_u64, uint64_t, svec4_i1);
<a name="l02195"></a>02195 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_f, <span class="keywordtype">float</span>, svec4_i1);
<a name="l02196"></a>02196 <a class="code" href="namespacevsx.html#ab22b92a43d94faeee6d415d544aa8fab">MASKED_LOAD_STORE</a>(svec4_d, <span class="keywordtype">double</span>, svec4_i1);
<a name="l02197"></a>02197 
<a name="l02199"></a>02199 <span class="comment">//</span>
<a name="l02200"></a>02200 <span class="comment">// Mask type (i1) interfaces</span>
<a name="l02201"></a>02201 <span class="comment">//</span>
<a name="l02203"></a>02203 <span class="comment"></span>
<a name="l02204"></a>02204 <span class="comment">// 1. mask construction</span>
<a name="l02210"></a>02210 <span class="comment"></span><span class="keyword">static</span> FORCEINLINE <span class="keywordtype">bool</span> svec_any_true(<span class="keyword">const</span> svec4_i1&amp; mask) {
<a name="l02211"></a>02211     <span class="keywordflow">return</span> vec_any_ne(mask.v, vec_splat_u32(0));
<a name="l02212"></a>02212 }
<a name="l02213"></a>02213 
<a name="l02219"></a>02219 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">bool</span> svec_all_true(<span class="keyword">const</span> svec4_i1&amp; mask) {
<a name="l02220"></a>02220     <span class="keywordflow">return</span> vec_all_ne(mask.v, vec_splat_u32(0));
<a name="l02221"></a>02221 }
<a name="l02222"></a>02222 
<a name="l02223"></a>02223 
<a name="l02229"></a>02229 <span class="keyword">static</span> FORCEINLINE <span class="keywordtype">bool</span> svec_none_true(<span class="keyword">const</span> svec4_i1&amp; mask) {
<a name="l02230"></a>02230     <span class="keywordflow">return</span> vec_all_eq(mask.v, vec_splat_u32(0));
<a name="l02231"></a>02231 }
<a name="l02232"></a>02232 
<a name="l02233"></a>02233 <span class="comment">// 2. bit operations</span>
<a name="l02234"></a>02234 
<a name="l02238"></a>02238 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_and(svec4_i1 a, svec4_i1 b) {
<a name="l02239"></a>02239   <span class="keywordflow">return</span> a.v &amp; b.v;
<a name="l02240"></a>02240 }
<a name="l02241"></a>02241 
<a name="l02242"></a>02242 
<a name="l02246"></a>02246 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_or(svec4_i1 a, svec4_i1 b) {
<a name="l02247"></a>02247   <span class="keywordflow">return</span> a.v | b.v;
<a name="l02248"></a>02248 }
<a name="l02249"></a>02249 
<a name="l02253"></a>02253 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_xor(svec4_i1 a, svec4_i1 b) {
<a name="l02254"></a>02254   <span class="keywordflow">return</span> a.v ^ b.v;
<a name="l02255"></a>02255 }
<a name="l02256"></a>02256 
<a name="l02260"></a>02260 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not(svec4_i1 a) {
<a name="l02261"></a>02261   <span class="keywordflow">return</span> ~a.v;
<a name="l02262"></a>02262 }
<a name="l02263"></a>02263 
<a name="l02264"></a>02264 
<a name="l02266"></a>02266 <span class="comment">//</span>
<a name="l02267"></a>02267 <span class="comment">// General data operation interfaces</span>
<a name="l02268"></a>02268 <span class="comment">//</span>
<a name="l02270"></a>02270 <span class="comment"></span>
<a name="l02271"></a>02271 
<a name="l02272"></a>02272 <span class="comment">// 1. Unary</span>
<a name="l02273"></a><a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">02273</a> <span class="preprocessor">#define UNARY_OP_OPT(TYPE, NAME, OP)\</span>
<a name="l02274"></a>02274 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a) { \</span>
<a name="l02275"></a>02275 <span class="preprocessor">  return OP(a.v); \</span>
<a name="l02276"></a>02276 <span class="preprocessor">}</span>
<a name="l02277"></a>02277 <span class="preprocessor"></span>
<a name="l02281"></a><a class="code" href="power__vsx4_8h.html#afd55dc60a52198d903168148da20ea62">02281</a> <span class="preprocessor">#define UNARY_OP_OPT64(TYPE, NAME, OP)\</span>
<a name="l02282"></a>02282 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a) { \</span>
<a name="l02283"></a>02283 <span class="preprocessor">  return  TYPE(OP(a.v[0]), OP(a.v[1]));  \</span>
<a name="l02284"></a>02284 <span class="preprocessor">}</span>
<a name="l02285"></a>02285 <span class="preprocessor"></span>
<a name="l02286"></a>02286 <span class="comment">// neg operation</span>
<a name="l02287"></a>02287 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i8, svec_neg, -);
<a name="l02288"></a>02288 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_u8, svec_neg, -);
<a name="l02289"></a>02289 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i16, svec_neg, -);
<a name="l02290"></a>02290 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_u16, svec_neg, -);
<a name="l02291"></a>02291 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i32, svec_neg, -);
<a name="l02292"></a>02292 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_u32, svec_neg, -);
<a name="l02293"></a>02293 <a class="code" href="power__vsx4_8h.html#afd55dc60a52198d903168148da20ea62" title="macros for 64bit object, i64/u64/double">UNARY_OP_OPT64</a>(svec4_i64, svec_neg, -);
<a name="l02294"></a>02294 <a class="code" href="power__vsx4_8h.html#afd55dc60a52198d903168148da20ea62" title="macros for 64bit object, i64/u64/double">UNARY_OP_OPT64</a>(svec4_u64, svec_neg, -);
<a name="l02295"></a>02295 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_f, svec_neg, -);
<a name="l02296"></a>02296 <a class="code" href="power__vsx4_8h.html#afd55dc60a52198d903168148da20ea62" title="macros for 64bit object, i64/u64/double">UNARY_OP_OPT64</a>(svec4_d, svec_neg, -);
<a name="l02297"></a>02297 
<a name="l02298"></a>02298 <span class="comment">//  2. Math unary</span>
<a name="l02299"></a>02299 <span class="comment">//round</span>
<a name="l02300"></a>02300 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_f, svec_round, roundf);
<a name="l02301"></a>02301 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_round, round);
<a name="l02302"></a>02302 <span class="comment">//floor</span>
<a name="l02303"></a>02303 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_f, svec_floor, vec_floor);
<a name="l02304"></a>02304 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_floor, floor);
<a name="l02305"></a>02305 <span class="comment">//ceil</span>
<a name="l02306"></a>02306 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_f, svec_ceil, vec_ceil);
<a name="l02307"></a>02307 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_ceil, ceil);
<a name="l02308"></a>02308 <span class="comment">//reverse 1/</span>
<a name="l02309"></a>02309 <span class="keyword">static</span> FORCEINLINE svec4_f svec_rcp(svec4_f v) {
<a name="l02310"></a>02310   <span class="comment">//return vec_re(v);//Get the reciprocal estimate</span>
<a name="l02311"></a>02311   __vector <span class="keywordtype">float</span> estimate = vec_re( v.v );
<a name="l02312"></a>02312   <span class="comment">//One round of Newton-Raphson refinement</span>
<a name="l02313"></a>02313   __vector <span class="keywordtype">float</span> r = vec_madd( vec_nmsub(estimate, v.v, (__vector <span class="keywordtype">float</span>){1.0,1.0,1.0,1.0} ), estimate, estimate);
<a name="l02314"></a>02314   <span class="keywordflow">return</span> svec4_f(r);
<a name="l02315"></a>02315 }
<a name="l02316"></a>02316 
<a name="l02317"></a>02317 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_rcp, 1.0/);
<a name="l02318"></a>02318 <span class="comment">//reverse sqrt</span>
<a name="l02319"></a>02319 <span class="keyword">static</span> FORCEINLINE svec4_f svec_rsqrt(svec4_f v) {
<a name="l02320"></a>02320     <span class="comment">//return vec_rsqrte(v);</span>
<a name="l02321"></a>02321     <span class="comment">//Get the square root reciprocal estimate</span>
<a name="l02322"></a>02322     __vector <span class="keywordtype">float</span> zero = (__vector float){0,0,0,0};
<a name="l02323"></a>02323     __vector <span class="keywordtype">float</span> oneHalf = (__vector float){0.5,0.5,0.5,0.5};
<a name="l02324"></a>02324     __vector <span class="keywordtype">float</span> one = (__vector float){1.0,1.0,1.0,1.0};
<a name="l02325"></a>02325     __vector <span class="keywordtype">float</span> estimate = vec_rsqrte( v.v );
<a name="l02326"></a>02326     <span class="comment">//One round of Newton-Raphson refinement</span>
<a name="l02327"></a>02327     __vector <span class="keywordtype">float</span> estimateSquared = vec_madd( estimate, estimate, zero );
<a name="l02328"></a>02328     __vector <span class="keywordtype">float</span> halfEstimate = vec_madd( estimate, oneHalf, zero );
<a name="l02329"></a>02329     __vector <span class="keywordtype">float</span> r = vec_madd( vec_nmsub( v.v, estimateSquared, one ), halfEstimate, estimate );
<a name="l02330"></a>02330     <span class="keywordflow">return</span> svec4_f(r);
<a name="l02331"></a>02331 
<a name="l02332"></a>02332 }
<a name="l02333"></a>02333 
<a name="l02334"></a>02334 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_rsqrt, 1.0/sqrt);
<a name="l02335"></a>02335 <span class="comment">//sqrt</span>
<a name="l02336"></a>02336 <span class="keyword">static</span> FORCEINLINE svec4_f svec_sqrt(svec4_f v) {
<a name="l02337"></a>02337     __vector <span class="keywordtype">float</span> r = vec_madd( v.v, svec_rsqrt(v).v, (__vector <span class="keywordtype">float</span>){0,0,0,0} );
<a name="l02338"></a>02338     <span class="keywordflow">return</span> svec4_f(r);
<a name="l02339"></a>02339 }
<a name="l02340"></a>02340 
<a name="l02341"></a>02341 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_sqrt, sqrt);
<a name="l02342"></a>02342 
<a name="l02343"></a>02343 <span class="comment">//exp</span>
<a name="l02344"></a>02344 <span class="keyword">static</span> FORCEINLINE svec4_f svec_exp(svec4_f v) {
<a name="l02345"></a>02345   <span class="keywordflow">return</span> vec_expte(v.v);
<a name="l02346"></a>02346 }
<a name="l02347"></a>02347 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_exp, exp);
<a name="l02348"></a>02348 
<a name="l02349"></a>02349 
<a name="l02350"></a>02350 <span class="comment">//log</span>
<a name="l02351"></a>02351 <span class="keyword">static</span> FORCEINLINE svec4_f svec_log(svec4_f v) {
<a name="l02352"></a>02352   <span class="keywordflow">return</span> svec4_f(vec_loge(v.v)) * log(2);
<a name="l02353"></a>02353 }
<a name="l02354"></a>02354 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_d, svec_log, log);
<a name="l02355"></a>02355 <span class="comment">//abs - for all types</span>
<a name="l02356"></a>02356 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i8, svec_abs, vec_abs);
<a name="l02357"></a>02357 <span class="keyword">static</span> FORCEINLINE svec4_u8  svec_abs(svec4_u8 v) { <span class="keywordflow">return</span> v;}
<a name="l02358"></a>02358 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i16, svec_abs, vec_abs);
<a name="l02359"></a>02359 <span class="keyword">static</span> FORCEINLINE svec4_u16  svec_abs(svec4_u16 v) { <span class="keywordflow">return</span> v;}
<a name="l02360"></a>02360 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_i32, svec_abs, vec_abs);
<a name="l02361"></a>02361 <span class="keyword">static</span> FORCEINLINE svec4_u32  svec_abs(svec4_u32 v) { <span class="keywordflow">return</span> v;}
<a name="l02362"></a>02362 <a class="code" href="namespacevsx.html#ae72ac702146c6f9e8471b7294e8dcd28">UNARY_OP_L4</a>(svec4_i64, svec_abs, abs&lt;int64_t&gt;);
<a name="l02363"></a>02363 <span class="keyword">static</span> FORCEINLINE svec4_u64  svec_abs(svec4_u64 v) { <span class="keywordflow">return</span> v;}
<a name="l02364"></a>02364 <a class="code" href="power__vsx4_8h.html#aa499f843ab6f4dcc752de57a77b945dc">UNARY_OP_OPT</a>(svec4_f, svec_abs, vec_abs);
<a name="l02365"></a>02365 <a class="code" href="power__vsx4_8h.html#afd55dc60a52198d903168148da20ea62" title="macros for 64bit object, i64/u64/double">UNARY_OP_OPT64</a>(svec4_d, svec_abs, vec_abs);
<a name="l02366"></a>02366 
<a name="l02367"></a>02367 
<a name="l02368"></a>02368 
<a name="l02369"></a>02369 
<a name="l02370"></a>02370 <span class="comment">//  3. Binary</span>
<a name="l02371"></a>02371 
<a name="l02376"></a><a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6">02376</a> <span class="preprocessor">#define BINARY_OP_OPT(TYPE, NAME, OP) \</span>
<a name="l02377"></a>02377 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a, TYPE b) { \</span>
<a name="l02378"></a>02378 <span class="preprocessor">  return TYPE(a.v OP b.v); \</span>
<a name="l02379"></a>02379 <span class="preprocessor">}</span>
<a name="l02380"></a>02380 <span class="preprocessor"></span>
<a name="l02381"></a><a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">02381</a> <span class="preprocessor">#define BINARY_OP_OPT64(TYPE, NAME, OP) \</span>
<a name="l02382"></a>02382 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a, TYPE b) { \</span>
<a name="l02383"></a>02383 <span class="preprocessor">  return TYPE(a.v[0] OP b.v[0], a.v[1] OP b.v[1]); \</span>
<a name="l02384"></a>02384 <span class="preprocessor">}</span>
<a name="l02385"></a>02385 <span class="preprocessor"></span>
<a name="l02386"></a><a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">02386</a> <span class="preprocessor">#define BINARY_OP_OPT_FUNC(TYPE, TYPE_B, NAME, FUNC) \</span>
<a name="l02387"></a>02387 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a, TYPE_B b) { \</span>
<a name="l02388"></a>02388 <span class="preprocessor">  return TYPE(FUNC(a.v, b.v)); \</span>
<a name="l02389"></a>02389 <span class="preprocessor">}</span>
<a name="l02390"></a>02390 <span class="preprocessor"></span>
<a name="l02391"></a><a class="code" href="power__vsx4_8h.html#a3b070581bc6fa34f3b17055969008d7f">02391</a> <span class="preprocessor">#define BINARY_OP_OPT_FUNC64(TYPE, TYPE_B, NAME, FUNC) \</span>
<a name="l02392"></a>02392 <span class="preprocessor">static FORCEINLINE TYPE NAME(TYPE a, TYPE_B b) { \</span>
<a name="l02393"></a>02393 <span class="preprocessor">  return TYPE(FUNC(a.v[0], b.v[0]), FUNC(a.v[1], b.v[1])); \</span>
<a name="l02394"></a>02394 <span class="preprocessor">}</span>
<a name="l02395"></a>02395 <span class="preprocessor"></span>
<a name="l02396"></a>02396 
<a name="l02397"></a>02397 
<a name="l02398"></a>02398 
<a name="l02399"></a>02399 <span class="comment">// add</span>
<a name="l02400"></a>02400 
<a name="l02401"></a>02401 <span class="keyword">static</span> FORCEINLINE svec4_i8 svec_add (svec4_i8 a, svec4_i8 b) {
<a name="l02402"></a>02402   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02403"></a>02403 }
<a name="l02404"></a>02404 
<a name="l02405"></a>02405 <span class="keyword">static</span> FORCEINLINE svec4_u8 svec_add(svec4_u8 a, svec4_u8 b) {
<a name="l02406"></a>02406   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02407"></a>02407 }
<a name="l02408"></a>02408 
<a name="l02409"></a>02409 <span class="keyword">static</span> FORCEINLINE svec4_i16 svec_add (svec4_i16 a, svec4_i16 b) {
<a name="l02410"></a>02410   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02411"></a>02411 }
<a name="l02412"></a>02412 
<a name="l02413"></a>02413 <span class="keyword">static</span> FORCEINLINE svec4_u16 svec_add(svec4_u16 a, svec4_u16 b) {
<a name="l02414"></a>02414   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02415"></a>02415 }
<a name="l02416"></a>02416 
<a name="l02417"></a>02417 <span class="keyword">static</span> FORCEINLINE svec4_i32 svec_add (svec4_i32 a, svec4_i32 b) {
<a name="l02418"></a>02418   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02419"></a>02419 }
<a name="l02420"></a>02420 
<a name="l02421"></a>02421 <span class="keyword">static</span> FORCEINLINE svec4_u32 svec_add(svec4_u32 a, svec4_u32 b) {
<a name="l02422"></a>02422   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02423"></a>02423 }
<a name="l02424"></a>02424 
<a name="l02425"></a>02425 <span class="keyword">static</span> FORCEINLINE svec4_i64 svec_add (svec4_i64 a, svec4_i64 b) {
<a name="l02426"></a>02426 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02427"></a>02427 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_i64(vec_add_p8(a.v[0],b.v[0]),vec_add_p8(a.v[1],b.v[1]) );
<a name="l02428"></a>02428 <span class="preprocessor">#else</span>
<a name="l02429"></a>02429 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_i64(a.v[0] + b.v[0],  a.v[1] + b.v[1]);
<a name="l02430"></a>02430 <span class="preprocessor">#endif</span>
<a name="l02431"></a>02431 <span class="preprocessor"></span>}
<a name="l02432"></a>02432 
<a name="l02433"></a>02433 <span class="keyword">static</span> FORCEINLINE svec4_u64 svec_add(svec4_u64 a, svec4_u64 b) {
<a name="l02434"></a>02434 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02435"></a>02435 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_u64(vec_add_p8(a.v[0],b.v[0]),vec_add_p8(a.v[1],b.v[1]) );
<a name="l02436"></a>02436 <span class="preprocessor">#else</span>
<a name="l02437"></a>02437 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_u64(a.v[0] + b.v[0],  a.v[1] + b.v[1]);
<a name="l02438"></a>02438 <span class="preprocessor">#endif</span>
<a name="l02439"></a>02439 <span class="preprocessor"></span>}
<a name="l02440"></a>02440 
<a name="l02441"></a>02441 <span class="keyword">static</span> FORCEINLINE svec4_f svec_add (svec4_f a, svec4_f b) {
<a name="l02442"></a>02442   <span class="keywordflow">return</span> vec_add(a.v,b.v);
<a name="l02443"></a>02443 }
<a name="l02444"></a>02444 
<a name="l02445"></a>02445 <span class="keyword">static</span> FORCEINLINE svec4_d svec_add(svec4_d a, svec4_d b) {
<a name="l02446"></a>02446     <span class="keywordflow">return</span> svec4_d(a.v[0] + b.v[0],  a.v[1] + b.v[1]);
<a name="l02447"></a>02447 }
<a name="l02448"></a>02448 
<a name="l02449"></a>02449 <span class="comment">//sub</span>
<a name="l02450"></a>02450 <span class="keyword">static</span> FORCEINLINE svec4_i8 svec_sub (svec4_i8 a, svec4_i8 b) {
<a name="l02451"></a>02451   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02452"></a>02452 }
<a name="l02453"></a>02453 
<a name="l02454"></a>02454 <span class="keyword">static</span> FORCEINLINE svec4_u8 svec_sub(svec4_u8 a, svec4_u8 b) {
<a name="l02455"></a>02455   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02456"></a>02456 }
<a name="l02457"></a>02457 
<a name="l02458"></a>02458 <span class="keyword">static</span> FORCEINLINE svec4_i16 svec_sub (svec4_i16 a, svec4_i16 b) {
<a name="l02459"></a>02459   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02460"></a>02460 }
<a name="l02461"></a>02461 
<a name="l02462"></a>02462 <span class="keyword">static</span> FORCEINLINE svec4_u16 svec_sub(svec4_u16 a, svec4_u16 b) {
<a name="l02463"></a>02463   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02464"></a>02464 }
<a name="l02465"></a>02465 
<a name="l02466"></a>02466 <span class="keyword">static</span> FORCEINLINE svec4_i32 svec_sub (svec4_i32 a, svec4_i32 b) {
<a name="l02467"></a>02467   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02468"></a>02468 }
<a name="l02469"></a>02469 
<a name="l02470"></a>02470 <span class="keyword">static</span> FORCEINLINE svec4_u32 svec_sub(svec4_u32 a, svec4_u32 b) {
<a name="l02471"></a>02471   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02472"></a>02472 }
<a name="l02473"></a>02473 
<a name="l02474"></a>02474 <span class="keyword">static</span> FORCEINLINE svec4_i64 svec_sub (svec4_i64 a, svec4_i64 b) {
<a name="l02475"></a>02475 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02476"></a>02476 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_i64(vec_sub_p8(a.v[0],b.v[0]),vec_sub_p8(a.v[1],b.v[1]) );
<a name="l02477"></a>02477 <span class="preprocessor">#else</span>
<a name="l02478"></a>02478 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_i64(a.v[0] - b.v[0],  a.v[1] - b.v[1]);
<a name="l02479"></a>02479 <span class="preprocessor">#endif</span>
<a name="l02480"></a>02480 <span class="preprocessor"></span>}
<a name="l02481"></a>02481 
<a name="l02482"></a>02482 <span class="keyword">static</span> FORCEINLINE svec4_u64 svec_sub(svec4_u64 a, svec4_u64 b) {
<a name="l02483"></a>02483 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02484"></a>02484 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_u64(vec_sub_p8(a.v[0],b.v[0]),vec_sub_p8(a.v[1],b.v[1]) );
<a name="l02485"></a>02485 <span class="preprocessor">#else</span>
<a name="l02486"></a>02486 <span class="preprocessor"></span>  <span class="keywordflow">return</span> svec4_u64(a.v[0] - b.v[0],  a.v[1] - b.v[1]);
<a name="l02487"></a>02487 <span class="preprocessor">#endif</span>
<a name="l02488"></a>02488 <span class="preprocessor"></span>}
<a name="l02489"></a>02489 
<a name="l02490"></a>02490 <span class="keyword">static</span> FORCEINLINE svec4_f svec_sub (svec4_f a, svec4_f b) {
<a name="l02491"></a>02491   <span class="keywordflow">return</span> vec_sub(a.v,b.v);
<a name="l02492"></a>02492 }
<a name="l02493"></a>02493 
<a name="l02494"></a>02494 <span class="keyword">static</span> FORCEINLINE svec4_d svec_sub(svec4_d a, svec4_d b) {
<a name="l02495"></a>02495     <span class="keywordflow">return</span> svec4_d(a.v[0] - b.v[0],  a.v[1] - b.v[1]);
<a name="l02496"></a>02496 }
<a name="l02497"></a>02497 
<a name="l02498"></a>02498 
<a name="l02499"></a>02499 
<a name="l02500"></a>02500 <span class="comment">//mul</span>
<a name="l02501"></a>02501 <span class="keyword">static</span> FORCEINLINE svec4_i8 svec_mul (svec4_i8 a, svec4_i8 b) {
<a name="l02502"></a>02502   <span class="keywordflow">return</span> a.v * b.v;
<a name="l02503"></a>02503 }
<a name="l02504"></a>02504 
<a name="l02505"></a>02505 <span class="keyword">static</span> FORCEINLINE svec4_u8 svec_mul(svec4_u8 a, svec4_u8 b) {
<a name="l02506"></a>02506   <span class="keywordflow">return</span> a.v * b.v;
<a name="l02507"></a>02507 }
<a name="l02508"></a>02508 
<a name="l02509"></a>02509 <span class="keyword">static</span> FORCEINLINE svec4_i16 svec_mul (svec4_i16 a, svec4_i16 b) {
<a name="l02510"></a>02510   <span class="keywordflow">return</span> a.v * b.v;
<a name="l02511"></a>02511 }
<a name="l02512"></a>02512 
<a name="l02513"></a>02513 <span class="keyword">static</span> FORCEINLINE svec4_u16 svec_mul(svec4_u16 a, svec4_u16 b) {
<a name="l02514"></a>02514   <span class="keywordflow">return</span> a.v * b.v;
<a name="l02515"></a>02515 }
<a name="l02516"></a>02516 
<a name="l02517"></a>02517 <span class="keyword">static</span> FORCEINLINE svec4_i32 svec_mul (svec4_i32 a, svec4_i32 b) {
<a name="l02518"></a>02518 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02519"></a>02519 <span class="preprocessor"></span>  <span class="keywordflow">return</span> ((__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span>)vec_mul_p8((vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)a.v,(vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)b.v));
<a name="l02520"></a>02520 <span class="preprocessor">#else</span>
<a name="l02521"></a>02521 <span class="preprocessor"></span>
<a name="l02522"></a>02522   <span class="keywordflow">return</span> vec_mulo((__vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span>)a.v, (__vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span>)(b.v));
<a name="l02523"></a>02523 
<a name="l02524"></a>02524   <span class="comment">//adapted from apple web site</span>
<a name="l02525"></a>02525   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bSwapped, BD, AD_plus_BC;
<a name="l02526"></a>02526   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sixteen = vec_splat_u32(-16 ); <span class="comment">//only low 5 bits important here</span>
<a name="l02527"></a>02527   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zero = vec_splat_u32(0);
<a name="l02528"></a>02528   bSwapped = vec_rl( b.v, sixteen );
<a name="l02529"></a>02529   <span class="comment">//Calculate A*D + B*C, and B*D</span>
<a name="l02530"></a>02530   BD = vec_mulo( (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) a.v, (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) b.v );
<a name="l02531"></a>02531   AD_plus_BC = vec_msum( (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) a.v, (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) bSwapped, zero );
<a name="l02532"></a>02532 
<a name="l02533"></a>02533   <span class="comment">//Left shift the high results by 16 bits</span>
<a name="l02534"></a>02534   AD_plus_BC = vec_sl( AD_plus_BC, sixteen );
<a name="l02535"></a>02535 
<a name="l02536"></a>02536   <span class="comment">//Add in the BD component</span>
<a name="l02537"></a>02537   <span class="keywordflow">return</span> vec_add( AD_plus_BC, BD );
<a name="l02538"></a>02538 <span class="preprocessor">#endif</span>
<a name="l02539"></a>02539 <span class="preprocessor"></span>}
<a name="l02540"></a>02540 
<a name="l02541"></a>02541 <span class="keyword">static</span> FORCEINLINE svec4_u32 svec_mul(svec4_u32 a, svec4_u32 b) {
<a name="l02542"></a>02542 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02543"></a>02543 <span class="preprocessor"></span>  <span class="keywordflow">return</span> ((__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span>)vec_mul_p8((vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)a.v,(vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)b.v));
<a name="l02544"></a>02544 <span class="preprocessor">#else</span>
<a name="l02545"></a>02545 <span class="preprocessor"></span>  <span class="comment">//return vec_mulo((__vector signed short)a.v, (__vector signed short)(b.v));</span>
<a name="l02546"></a>02546   <span class="comment">//adapted from apple web site</span>
<a name="l02547"></a>02547   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bSwapped, BD, AD_plus_BC;
<a name="l02548"></a>02548   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sixteen = vec_splat_u32(-16 ); <span class="comment">//only low 5 bits important here</span>
<a name="l02549"></a>02549   __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zero = vec_splat_u32(0);
<a name="l02550"></a>02550   bSwapped = vec_rl( b.v, sixteen );
<a name="l02551"></a>02551   <span class="comment">//Calculate A*D + B*C, and B*D</span>
<a name="l02552"></a>02552   BD = vec_mulo( (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) a.v, (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) b.v );
<a name="l02553"></a>02553   AD_plus_BC = vec_msum( (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) a.v, (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>) bSwapped, zero );
<a name="l02554"></a>02554 
<a name="l02555"></a>02555   <span class="comment">//Left shift the high results by 16 bits</span>
<a name="l02556"></a>02556   AD_plus_BC = vec_sl( AD_plus_BC, sixteen );
<a name="l02557"></a>02557 
<a name="l02558"></a>02558   <span class="comment">//Add in the BD component</span>
<a name="l02559"></a>02559   <span class="keywordflow">return</span> vec_add( AD_plus_BC, BD );
<a name="l02560"></a>02560 <span class="preprocessor">#endif</span>
<a name="l02561"></a>02561 <span class="preprocessor"></span>}
<a name="l02562"></a>02562 
<a name="l02563"></a>02563 <span class="keyword">static</span> FORCEINLINE svec4_i64 svec_mul (svec4_i64 a, svec4_i64 b) {
<a name="l02564"></a>02564   <span class="keywordflow">return</span> svec4_i64(a.v[0] * b.v[0],  a.v[1] * b.v[1]);
<a name="l02565"></a>02565 }
<a name="l02566"></a>02566 
<a name="l02567"></a>02567 <span class="keyword">static</span> FORCEINLINE svec4_u64 svec_mul(svec4_u64 a, svec4_u64 b) {
<a name="l02568"></a>02568     <span class="keywordflow">return</span> svec4_u64(a.v[0] * b.v[0],  a.v[1] * b.v[1]);
<a name="l02569"></a>02569 }
<a name="l02570"></a>02570 
<a name="l02571"></a>02571 <span class="keyword">static</span> FORCEINLINE svec4_f svec_mul (svec4_f a, svec4_f b) {
<a name="l02572"></a>02572   <span class="keywordflow">return</span> vec_mul(a.v,b.v);
<a name="l02573"></a>02573 }
<a name="l02574"></a>02574 
<a name="l02575"></a>02575 <span class="keyword">static</span> FORCEINLINE svec4_d svec_mul(svec4_d a, svec4_d b) {
<a name="l02576"></a>02576     <span class="keywordflow">return</span> svec4_d(a.v[0] * b.v[0],  a.v[1] * b.v[1]);
<a name="l02577"></a>02577 }
<a name="l02578"></a>02578 
<a name="l02579"></a>02579 <span class="comment">//div</span>
<a name="l02580"></a>02580 
<a name="l02581"></a>02581 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i8, svec_div, /);
<a name="l02582"></a>02582 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u8, svec_div, /);
<a name="l02583"></a>02583 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i16, svec_div, /);
<a name="l02584"></a>02584 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u16, svec_div, /);
<a name="l02585"></a>02585 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i32, svec_div, /);
<a name="l02586"></a>02586 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u32, svec_div, /);
<a name="l02587"></a>02587 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_i64, svec_div, /);
<a name="l02588"></a>02588 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_u64, svec_div, /);
<a name="l02589"></a>02589 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_f, svec_div, /);
<a name="l02590"></a>02590 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_d, svec_div, /);
<a name="l02591"></a>02591 
<a name="l02592"></a>02592 
<a name="l02593"></a>02593 <span class="comment">//power only for float</span>
<a name="l02594"></a>02594 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_f, svec_pow, powf);
<a name="l02595"></a>02595 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_d, svec_pow, pow);
<a name="l02596"></a>02596 
<a name="l02597"></a>02597 <span class="comment">//or</span>
<a name="l02598"></a>02598 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i8, svec_or, |);
<a name="l02599"></a>02599 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u8, svec_or, |);
<a name="l02600"></a>02600 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i16, svec_or, |);
<a name="l02601"></a>02601 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u16, svec_or, |);
<a name="l02602"></a>02602 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i32, svec_or, |);
<a name="l02603"></a>02603 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u32, svec_or, |);
<a name="l02604"></a>02604 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_i64, svec_or, |);
<a name="l02605"></a>02605 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_u64, svec_or, |);
<a name="l02606"></a>02606 <span class="comment">//and</span>
<a name="l02607"></a>02607 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i8, svec_and, &amp;);
<a name="l02608"></a>02608 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u8, svec_and, &amp;);
<a name="l02609"></a>02609 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i16, svec_and, &amp;);
<a name="l02610"></a>02610 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u16, svec_and, &amp;);
<a name="l02611"></a>02611 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i32, svec_and, &amp;);
<a name="l02612"></a>02612 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u32, svec_and, &amp;);
<a name="l02613"></a>02613 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_i64, svec_and, &amp;);
<a name="l02614"></a>02614 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_u64, svec_and, &amp;);
<a name="l02615"></a>02615 
<a name="l02616"></a>02616 <span class="comment">//xor</span>
<a name="l02617"></a>02617 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i8, svec_xor, ^);
<a name="l02618"></a>02618 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u8, svec_xor, ^);
<a name="l02619"></a>02619 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i16, svec_xor, ^);
<a name="l02620"></a>02620 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u16, svec_xor, ^);
<a name="l02621"></a>02621 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_i32, svec_xor, ^);
<a name="l02622"></a>02622 <a class="code" href="power__vsx4_8h.html#aa8bd7ffe4b36f1658c11d608015ec4a6" title="macros based on __vector type&#39;s operator overload">BINARY_OP_OPT</a>(svec4_u32, svec_xor, ^);
<a name="l02623"></a>02623 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_i64, svec_xor, ^);
<a name="l02624"></a>02624 <a class="code" href="power__vsx4_8h.html#a186faabf3b2fde6cd5b12706c6682a85">BINARY_OP_OPT64</a>(svec4_u64, svec_xor, ^);
<a name="l02625"></a>02625 
<a name="l02626"></a><a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">02626</a> <span class="preprocessor">#define BIN_VEC_SCAL(VTYPE, STYPE) \</span>
<a name="l02627"></a>02627 <span class="preprocessor">static FORCEINLINE VTYPE svec_add_scalar(VTYPE a, STYPE s) { \</span>
<a name="l02628"></a>02628 <span class="preprocessor">  return svec_add(a, VTYPE(s)); \</span>
<a name="l02629"></a>02629 <span class="preprocessor">} \</span>
<a name="l02630"></a>02630 <span class="preprocessor">static FORCEINLINE VTYPE svec_scalar_add(STYPE s, VTYPE a) { \</span>
<a name="l02631"></a>02631 <span class="preprocessor">  return svec_add(VTYPE(s), a); \</span>
<a name="l02632"></a>02632 <span class="preprocessor">} \</span>
<a name="l02633"></a>02633 <span class="preprocessor">static FORCEINLINE VTYPE svec_sub_scalar(VTYPE a, STYPE s) { \</span>
<a name="l02634"></a>02634 <span class="preprocessor">  return svec_sub(a, VTYPE(s)); \</span>
<a name="l02635"></a>02635 <span class="preprocessor">} \</span>
<a name="l02636"></a>02636 <span class="preprocessor">static FORCEINLINE VTYPE svec_scalar_sub(STYPE s, VTYPE a) { \</span>
<a name="l02637"></a>02637 <span class="preprocessor">  return svec_sub(VTYPE(s), a); \</span>
<a name="l02638"></a>02638 <span class="preprocessor">} \</span>
<a name="l02639"></a>02639 <span class="preprocessor">static FORCEINLINE VTYPE svec_mul_scalar(VTYPE a, STYPE s) { \</span>
<a name="l02640"></a>02640 <span class="preprocessor">  return svec_mul(a, VTYPE(s)); \</span>
<a name="l02641"></a>02641 <span class="preprocessor">} \</span>
<a name="l02642"></a>02642 <span class="preprocessor">static FORCEINLINE VTYPE svec_scalar_mul(STYPE s, VTYPE a) { \</span>
<a name="l02643"></a>02643 <span class="preprocessor">  return svec_mul(VTYPE(s), a); \</span>
<a name="l02644"></a>02644 <span class="preprocessor">} \</span>
<a name="l02645"></a>02645 <span class="preprocessor">static FORCEINLINE VTYPE svec_div_scalar(VTYPE a, STYPE s) { \</span>
<a name="l02646"></a>02646 <span class="preprocessor">  return svec_div(a, VTYPE(s)); \</span>
<a name="l02647"></a>02647 <span class="preprocessor">} \</span>
<a name="l02648"></a>02648 <span class="preprocessor">static FORCEINLINE VTYPE svec_scalar_div(STYPE s, VTYPE a) { \</span>
<a name="l02649"></a>02649 <span class="preprocessor">  return svec_div(VTYPE(s), a); \</span>
<a name="l02650"></a>02650 <span class="preprocessor">} \</span>
<a name="l02651"></a>02651 <span class="preprocessor"></span>
<a name="l02652"></a>02652 <span class="preprocessor"></span><a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_i8, int8_t);
<a name="l02653"></a>02653 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_u8, uint8_t);
<a name="l02654"></a>02654 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_i16, int16_t);
<a name="l02655"></a>02655 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_u16, uint16_t);
<a name="l02656"></a>02656 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_i32, int32_t);
<a name="l02657"></a>02657 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_u32, uint32_t);
<a name="l02658"></a>02658 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_i64, int64_t);
<a name="l02659"></a>02659 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_u64, uint64_t);
<a name="l02660"></a>02660 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l02661"></a>02661 <a class="code" href="power__vsx4_8h.html#a416f4766dd52463d1258701a2e5c63b2">BIN_VEC_SCAL</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l02662"></a>02662 
<a name="l02663"></a>02663 
<a name="l02664"></a>02664 <span class="comment">//shift left</span>
<a name="l02665"></a>02665 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i8, svec4_u8, svec_shl, vec_sl);
<a name="l02666"></a>02666 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u8, svec4_u8, svec_shl, vec_sl);
<a name="l02667"></a>02667 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i16, svec4_u16, svec_shl, vec_sl);
<a name="l02668"></a>02668 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u16, svec4_u16, svec_shl, vec_sl);
<a name="l02669"></a>02669 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i32, svec4_u32, svec_shl, vec_sl);
<a name="l02670"></a>02670 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u32, svec4_u32, svec_shl, vec_sl);
<a name="l02671"></a>02671 
<a name="l02672"></a>02672 <span class="comment">//BINARY_OP_OPT_FUNC64(svec4_i64, svec4_u64, svec_shl, vec_sl);</span>
<a name="l02673"></a>02673 <span class="keyword">static</span> FORCEINLINE svec4_i64  svec_shl(svec4_i64 a, svec4_u64 b) {
<a name="l02674"></a>02674   INC_STATS_NAME(STATS_BINARY_SLOW,1, <span class="stringliteral">&quot;shl i64&quot;</span>); \
<a name="l02675"></a>02675   return svec4_i64(a[0] &lt;&lt; b[0], a[1] &lt;&lt; b[1], a[2] &lt;&lt; b[2], a[3] &lt;&lt; b[3]);
<a name="l02676"></a>02676 }
<a name="l02677"></a>02677 
<a name="l02678"></a>02678 <span class="comment">//BINARY_OP_OPT_FUNC64(svec4_u64, svec4_u64, svec_shl, vec_sl);</span>
<a name="l02679"></a>02679 <span class="keyword">static</span> FORCEINLINE svec4_u64  svec_shl(svec4_u64 a, svec4_u64 b) {
<a name="l02680"></a>02680   INC_STATS_NAME(STATS_BINARY_SLOW,1, <span class="stringliteral">&quot;shl u64&quot;</span>); \
<a name="l02681"></a>02681   return svec4_u64(a[0] &lt;&lt; b[0], a[1] &lt;&lt; b[1], a[2] &lt;&lt; b[2], a[3] &lt;&lt; b[3]);
<a name="l02682"></a>02682 }
<a name="l02683"></a>02683 <span class="comment">//shift right</span>
<a name="l02684"></a>02684 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i8, svec4_u8, svec_shr, vec_sra);
<a name="l02685"></a>02685 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u8, svec4_u8, svec_shr, vec_sr);
<a name="l02686"></a>02686 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i16, svec4_u16, svec_shr, vec_sra);
<a name="l02687"></a>02687 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u16, svec4_u16, svec_shr, vec_sr);
<a name="l02688"></a>02688 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i32, svec4_u32, svec_shr, vec_sra);
<a name="l02689"></a>02689 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u32, svec4_u32, svec_shr, vec_sr);
<a name="l02690"></a>02690 
<a name="l02691"></a>02691 <span class="comment">//BINARY_OP_OPT_FUNC64(svec4_i64, svec4_u64, svec_shr, vec_sr);</span>
<a name="l02692"></a>02692 <span class="keyword">static</span> FORCEINLINE svec4_i64  svec_shr(svec4_i64 a, svec4_u64 b) {
<a name="l02693"></a>02693   INC_STATS_NAME(STATS_BINARY_SLOW,1, <span class="stringliteral">&quot;shr i64&quot;</span>); \
<a name="l02694"></a>02694   return svec4_i64(a[0] &gt;&gt; b[0], a[1] &gt;&gt; b[1], a[2] &gt;&gt; b[2], a[3] &gt;&gt; b[3]);
<a name="l02695"></a>02695 }
<a name="l02696"></a>02696 
<a name="l02697"></a>02697 <span class="comment">//BINARY_OP_OPT_FUNC64(svec4_u64, svec4_u64, svec_shr, vec_sr);</span>
<a name="l02698"></a>02698 <span class="keyword">static</span> FORCEINLINE svec4_u64  svec_shr(svec4_u64 a, svec4_u64 b) {
<a name="l02699"></a>02699   INC_STATS_NAME(STATS_BINARY_SLOW,1, <span class="stringliteral">&quot;shr u64&quot;</span>); \
<a name="l02700"></a>02700   return svec4_u64(a[0] &gt;&gt; b[0], a[1] &gt;&gt; b[1], a[2] &gt;&gt; b[2], a[3] &gt;&gt; b[3]);
<a name="l02701"></a>02701 }
<a name="l02702"></a>02702 
<a name="l02703"></a>02703 <span class="comment">//uniform shift left</span>
<a name="l02704"></a>02704 
<a name="l02705"></a>02705 <span class="comment">// a better impl may be by smear and vector shift</span>
<a name="l02706"></a>02706 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i8, int32_t, svec_shl, &lt;&lt;);
<a name="l02707"></a>02707 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u8, int32_t, svec_shl, &lt;&lt;);
<a name="l02708"></a>02708 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i16, int32_t, svec_shl, &lt;&lt;);
<a name="l02709"></a>02709 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u16, int32_t, svec_shl, &lt;&lt;);
<a name="l02710"></a>02710 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i32, int32_t, svec_shl, &lt;&lt;);
<a name="l02711"></a>02711 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u32, int32_t, svec_shl, &lt;&lt;);
<a name="l02712"></a>02712 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i64, int32_t, svec_shl, &lt;&lt;);
<a name="l02713"></a>02713 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u64, int32_t, svec_shl, &lt;&lt;);
<a name="l02714"></a>02714 <span class="comment">//shift right</span>
<a name="l02715"></a>02715 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i8, int32_t, svec_shr, &gt;&gt;);
<a name="l02716"></a>02716 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u8, int32_t, svec_shr, &gt;&gt;);
<a name="l02717"></a>02717 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i16, int32_t, svec_shr, &gt;&gt;);
<a name="l02718"></a>02718 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u16, int32_t, svec_shr, &gt;&gt;);
<a name="l02719"></a>02719 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i32, int32_t, svec_shr, &gt;&gt;);
<a name="l02720"></a>02720 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u32, int32_t, svec_shr, &gt;&gt;);
<a name="l02721"></a>02721 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i64, int32_t, svec_shr, &gt;&gt;);
<a name="l02722"></a>02722 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u64, int32_t, svec_shr, &gt;&gt;);
<a name="l02723"></a>02723 
<a name="l02724"></a>02724 <span class="comment">//remainder %</span>
<a name="l02725"></a>02725 
<a name="l02729"></a>02729 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_i8, svec_rem, %);
<a name="l02730"></a>02730 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_u8, svec_rem, %);
<a name="l02731"></a>02731 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_i16, svec_rem, %);
<a name="l02732"></a>02732 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_u16, svec_rem, %);
<a name="l02733"></a>02733 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_i32, svec_rem, %);
<a name="l02734"></a>02734 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_u32, svec_rem, %);
<a name="l02735"></a>02735 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_i64, svec_rem, %);
<a name="l02736"></a>02736 <a class="code" href="namespacevsx.html#a0817240f2321b246c1c794dda2ff98a5" title="remainder impl uses generic one">BINARY_OP_L4</a>(svec4_u64, svec_rem, %);
<a name="l02737"></a>02737 
<a name="l02738"></a>02738 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i8, int8_t, svec_rem, %);
<a name="l02739"></a>02739 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u8, uint8_t, svec_rem, %);
<a name="l02740"></a>02740 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i16, int16_t, svec_rem, %);
<a name="l02741"></a>02741 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u16, uint16_t, svec_rem, %);
<a name="l02742"></a>02742 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i32, int32_t, svec_rem, %);
<a name="l02743"></a>02743 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u32, uint16_t, svec_rem, %);
<a name="l02744"></a>02744 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_i64, int64_t, svec_rem, %);
<a name="l02745"></a>02745 <a class="code" href="namespacevsx.html#acd6c30e298e1e0f13d632fcd732c8684">BINARY_OP_SCALAR_L4</a>(svec4_u64, uint64_t, svec_rem, %);
<a name="l02746"></a>02746 
<a name="l02747"></a>02747 
<a name="l02748"></a>02748 <span class="comment">//  4. Ternary</span>
<a name="l02749"></a>02749 
<a name="l02750"></a>02750 <span class="comment">//madd / msub for only int32/u32/float/double</span>
<a name="l02751"></a>02751 <a class="code" href="namespacevsx.html#adf5180a00f0829bf0fbe4d602d7d4990">TERNERY_L4</a>(svec4_i32);
<a name="l02752"></a>02752 <a class="code" href="namespacevsx.html#adf5180a00f0829bf0fbe4d602d7d4990">TERNERY_L4</a>(svec4_u32);
<a name="l02753"></a>02753 <a class="code" href="namespacevsx.html#adf5180a00f0829bf0fbe4d602d7d4990">TERNERY_L4</a>(svec4_i64);
<a name="l02754"></a>02754 <a class="code" href="namespacevsx.html#adf5180a00f0829bf0fbe4d602d7d4990">TERNERY_L4</a>(svec4_u64);
<a name="l02755"></a>02755 
<a name="l02759"></a><a class="code" href="namespacevsx.html#af9fff4f4e59959f04b27d60933b7dce9">02759</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#af9fff4f4e59959f04b27d60933b7dce9" title="vector multiply and add operation. return a * b + c.">svec_madd</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> a, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> b, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> c) {
<a name="l02760"></a>02760     <span class="keywordflow">return</span> vec_madd(a.v, b.v, c.v);
<a name="l02761"></a>02761 }
<a name="l02765"></a><a class="code" href="namespacevsx.html#ac0059579d7361c7c34cc3a4e18956ddf">02765</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#af9fff4f4e59959f04b27d60933b7dce9" title="vector multiply and add operation. return a * b + c.">svec_madd</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> a, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> b, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> c) {
<a name="l02766"></a>02766     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(vec_madd(a.v[0], b.v[0], c.v[0]), vec_madd(a.v[1], b.v[1], c.v[1]));
<a name="l02767"></a>02767 }
<a name="l02771"></a><a class="code" href="namespacevsx.html#aa511cbaf2d0a2d289865a7003ded46e1">02771</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#aa511cbaf2d0a2d289865a7003ded46e1" title="vector multiply and add operation. return a * b - c.">svec_msub</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> a, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> b, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> c) {
<a name="l02772"></a>02772     <span class="keywordflow">return</span> vec_msub(a.v, b.v, c.v);
<a name="l02773"></a>02773 }
<a name="l02777"></a><a class="code" href="namespacevsx.html#ab6dac656949ce3dad021216b85988555">02777</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#aa511cbaf2d0a2d289865a7003ded46e1" title="vector multiply and add operation. return a * b - c.">svec_msub</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> a, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> b, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> c) {
<a name="l02778"></a>02778     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(vec_msub(a.v[0], b.v[0], c.v[0]), vec_msub(a.v[1], b.v[1], c.v[1]));
<a name="l02779"></a>02779 }
<a name="l02783"></a><a class="code" href="namespacevsx.html#ad0788a56717d6bc3a80a6be1e7bab99c">02783</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> <a class="code" href="namespacevsx.html#ad0788a56717d6bc3a80a6be1e7bab99c" title="vector multiply and add operation. return -(a * b - c).">svec_nmsub</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> a, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> b, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> c) {
<a name="l02784"></a>02784     <span class="keywordflow">return</span> vec_nmsub(a.v, b.v, c.v);
<a name="l02785"></a>02785 }
<a name="l02789"></a><a class="code" href="namespacevsx.html#a78a370f8602575a908273ca347fc76d7">02789</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#ad0788a56717d6bc3a80a6be1e7bab99c" title="vector multiply and add operation. return -(a * b - c).">svec_nmsub</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> a, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> b, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> c) {
<a name="l02790"></a>02790     <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(vec_nmsub(a.v[0], b.v[0], c.v[0]), vec_nmsub(a.v[1], b.v[1], c.v[1]));
<a name="l02791"></a>02791 }
<a name="l02792"></a>02792 
<a name="l02793"></a>02793 <span class="comment">//  5. Max/Min</span>
<a name="l02794"></a>02794 
<a name="l02795"></a>02795 <span class="comment">//add/max/min</span>
<a name="l02796"></a>02796 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i8, svec4_i8, svec_max, vec_max);
<a name="l02797"></a>02797 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u8, svec4_u8, svec_max, vec_max);
<a name="l02798"></a>02798 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i16, svec4_i16, svec_max, vec_max);
<a name="l02799"></a>02799 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u16, svec4_u16, svec_max, vec_max);
<a name="l02800"></a>02800 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i32, svec4_i32, svec_max, vec_max);
<a name="l02801"></a>02801 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u32, svec4_u32, svec_max, vec_max);
<a name="l02802"></a>02802 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_i64, svec_max, max&lt;int64_t&gt;);
<a name="l02803"></a>02803 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_u64, svec_max, max&lt;uint64_t&gt;);
<a name="l02804"></a>02804 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_f, svec4_f, svec_max, vec_max);
<a name="l02805"></a>02805 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_d, svec_max, max&lt;double&gt;);
<a name="l02806"></a>02806 
<a name="l02807"></a>02807 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i8, svec4_i8, svec_min, vec_min);
<a name="l02808"></a>02808 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u8, svec4_u8, svec_min, vec_min);
<a name="l02809"></a>02809 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i16, svec4_i16, svec_min, vec_min);
<a name="l02810"></a>02810 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u16, svec4_u16, svec_min, vec_min);
<a name="l02811"></a>02811 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_i32, svec4_i32, svec_min, vec_min);
<a name="l02812"></a>02812 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_u32, svec4_u32, svec_min, vec_min);
<a name="l02813"></a>02813 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_i64, svec_min, min&lt;int64_t&gt;);
<a name="l02814"></a>02814 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_u64, svec_min, min&lt;uint64_t&gt;);
<a name="l02815"></a>02815 <a class="code" href="power__vsx4_8h.html#a9fdee2c9d983754d61909c2ee071fa35">BINARY_OP_OPT_FUNC</a>(svec4_f, svec4_f, svec_min, vec_min);
<a name="l02816"></a>02816 <a class="code" href="namespacevsx.html#ad24e9a12ebf4e676ea92d818d29d8540">BINARY_OP_FUNC_L4</a>(svec4_d, svec_min, min&lt;double&gt;);
<a name="l02817"></a>02817 
<a name="l02818"></a>02818 <span class="comment">// 6. reduce</span>
<a name="l02819"></a>02819 
<a name="l02820"></a>02820 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i8, int8_t, svec_reduce_add, add&lt;int8_t&gt;);
<a name="l02821"></a>02821 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u8, uint8_t, svec_reduce_add, add&lt;uint8_t&gt;);
<a name="l02822"></a>02822 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i16, int16_t, svec_reduce_add, add&lt;int16_t&gt;);
<a name="l02823"></a>02823 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u16, uint16_t, svec_reduce_add, add&lt;uint16_t&gt;);
<a name="l02824"></a>02824 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i32, int32_t, svec_reduce_add, add&lt;int32_t&gt;);
<a name="l02825"></a>02825 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u32, uint32_t, svec_reduce_add, add&lt;uint32_t&gt;);
<a name="l02826"></a>02826 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i64, int64_t, svec_reduce_add, add&lt;int64_t&gt;);
<a name="l02827"></a>02827 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u64, uint64_t, svec_reduce_add, add&lt;uint64_t&gt;);
<a name="l02828"></a>02828 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_f, <span class="keywordtype">float</span>, svec_reduce_add, add&lt;float&gt;);
<a name="l02829"></a>02829 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_d, <span class="keywordtype">double</span>, svec_reduce_add, add&lt;double&gt;);
<a name="l02830"></a>02830 
<a name="l02831"></a>02831 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i8, int8_t, svec_reduce_max, max&lt;int8_t&gt;);
<a name="l02832"></a>02832 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u8, uint8_t, svec_reduce_max, max&lt;uint8_t&gt;);
<a name="l02833"></a>02833 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i16, int16_t, svec_reduce_max, max&lt;int16_t&gt;);
<a name="l02834"></a>02834 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u16, uint16_t, svec_reduce_max, max&lt;uint16_t&gt;);
<a name="l02835"></a>02835 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i32, int32_t, svec_reduce_max, max&lt;int32_t&gt;);
<a name="l02836"></a>02836 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u32, uint32_t, svec_reduce_max, max&lt;uint32_t&gt;);
<a name="l02837"></a>02837 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i64, int64_t, svec_reduce_max, max&lt;int64_t&gt;);
<a name="l02838"></a>02838 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u64, uint64_t, svec_reduce_max, max&lt;uint64_t&gt;);
<a name="l02839"></a>02839 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_f, <span class="keywordtype">float</span>, svec_reduce_max, max&lt;float&gt;);
<a name="l02840"></a>02840 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_d, <span class="keywordtype">double</span>, svec_reduce_max, max&lt;double&gt;);
<a name="l02841"></a>02841 
<a name="l02842"></a>02842 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i8, int8_t, svec_reduce_min, min&lt;int8_t&gt;);
<a name="l02843"></a>02843 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u8, uint8_t, svec_reduce_min, min&lt;uint8_t&gt;);
<a name="l02844"></a>02844 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i16, int16_t, svec_reduce_min, min&lt;int16_t&gt;);
<a name="l02845"></a>02845 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u16, uint16_t, svec_reduce_min, min&lt;uint16_t&gt;);
<a name="l02846"></a>02846 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i32, int32_t, svec_reduce_min, min&lt;int32_t&gt;);
<a name="l02847"></a>02847 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u32, uint32_t, svec_reduce_min, min&lt;uint32_t&gt;);
<a name="l02848"></a>02848 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_i64, int64_t, svec_reduce_min, min&lt;int64_t&gt;);
<a name="l02849"></a>02849 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_u64, uint64_t, svec_reduce_min, min&lt;uint64_t&gt;);
<a name="l02850"></a>02850 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_f, <span class="keywordtype">float</span>, svec_reduce_min, min&lt;float&gt;);
<a name="l02851"></a>02851 <a class="code" href="namespacevsx.html#ae034513b7a768bbc4e3ddcc75903a8e1">BINARY_OP_REDUCE_FUNC_L4</a>(svec4_d, <span class="keywordtype">double</span>, svec_reduce_min, min&lt;double&gt;);
<a name="l02852"></a>02852 
<a name="l02853"></a>02853 
<a name="l02854"></a><a class="code" href="namespacevsx.html#a161103d6062b485e5ee89b6e1d473f9f">02854</a> FORCEINLINE <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> <a class="code" href="namespacevsx.html#a161103d6062b485e5ee89b6e1d473f9f">svec_preduce_add</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> v0, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> v1, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> v2, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a> v3) {
<a name="l02855"></a>02855   <span class="comment">//parallel reduction using mergeh mergel</span>
<a name="l02856"></a>02856   __vector <span class="keywordtype">double</span> sv0 = v0.v[0] + v0.v[1];
<a name="l02857"></a>02857   __vector <span class="keywordtype">double</span> sv1 = v1.v[0] + v1.v[1];
<a name="l02858"></a>02858   __vector <span class="keywordtype">double</span> sv2 = v2.v[0] + v2.v[1];
<a name="l02859"></a>02859   __vector <span class="keywordtype">double</span> sv3 = v3.v[0] + v3.v[1];
<a name="l02860"></a>02860 
<a name="l02861"></a>02861   __vector <span class="keywordtype">double</span> h0 = vec_mergeh(sv0, sv1);
<a name="l02862"></a>02862   __vector <span class="keywordtype">double</span> l0 = vec_mergel(sv0, sv1);
<a name="l02863"></a>02863   __vector <span class="keywordtype">double</span> h1 = vec_mergeh(sv2, sv3);
<a name="l02864"></a>02864   __vector <span class="keywordtype">double</span> l1 = vec_mergel(sv2, sv3);
<a name="l02865"></a>02865 
<a name="l02866"></a>02866   <span class="comment">//reduction again</span>
<a name="l02867"></a>02867   __vector <span class="keywordtype">double</span> s0 = h0 + l0;
<a name="l02868"></a>02868   __vector <span class="keywordtype">double</span> s1 = h1 + l1;
<a name="l02869"></a>02869   <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>(s0, s1);
<a name="l02870"></a>02870 }
<a name="l02871"></a>02871 
<a name="l02872"></a>02872 <span class="comment">//  7. Compare</span>
<a name="l02873"></a>02873 
<a name="l02880"></a>02880 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_i1 a, svec4_i1 b) {
<a name="l02881"></a>02881   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(vec_cmpeq(a.v, b.v));
<a name="l02882"></a>02882 }
<a name="l02883"></a>02883 
<a name="l02890"></a>02890 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_i1 a, svec4_i1 b) {
<a name="l02891"></a>02891   <span class="keywordflow">return</span> ~(__vector <span class="keywordtype">unsigned</span> int)(vec_cmpeq(a.v, b.v));
<a name="l02892"></a>02892 }
<a name="l02893"></a>02893 
<a name="l02894"></a>02894 
<a name="l02895"></a>02895 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_i8 a, svec4_i8 b) {
<a name="l02896"></a>02896     __vector <span class="keywordtype">bool</span> <span class="keywordtype">char</span> t = vec_cmpeq(a.v,b.v);
<a name="l02897"></a>02897     <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_unpackh(vec_unpackh(t));
<a name="l02898"></a>02898 }
<a name="l02899"></a>02899 
<a name="l02900"></a>02900 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_i8 a, svec4_i8 b) {
<a name="l02901"></a>02901     <span class="keywordflow">return</span> ~ svec_equal(a, b);
<a name="l02902"></a>02902 }
<a name="l02903"></a>02903 
<a name="l02904"></a>02904 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i8, svec4_i1, less_than, &lt;);
<a name="l02905"></a>02905 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i8, svec4_i1, less_equal, &lt;=);
<a name="l02906"></a>02906 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i8, svec4_i1, greater_than, &gt;);
<a name="l02907"></a>02907 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i8, svec4_i1, greater_equal, &gt;=);
<a name="l02908"></a>02908 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_i8, svec4_i1);
<a name="l02909"></a>02909 
<a name="l02910"></a>02910 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_u8 a, svec4_u8 b) {
<a name="l02911"></a>02911     __vector <span class="keywordtype">bool</span> <span class="keywordtype">char</span> t = vec_cmpeq(a.v,b.v);
<a name="l02912"></a>02912     <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_unpackh(vec_unpackh(t));
<a name="l02913"></a>02913 }
<a name="l02914"></a>02914 
<a name="l02915"></a>02915 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_u8 a, svec4_u8 b) {
<a name="l02916"></a>02916     <span class="keywordflow">return</span> ~ svec_equal(a, b);
<a name="l02917"></a>02917 }
<a name="l02918"></a>02918 
<a name="l02919"></a>02919 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u8, svec4_i1, less_than, &lt;);
<a name="l02920"></a>02920 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u8, svec4_i1, less_equal, &lt;=);
<a name="l02921"></a>02921 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u8, svec4_i1, greater_than, &gt;);
<a name="l02922"></a>02922 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u8, svec4_i1, greater_equal, &gt;=);
<a name="l02923"></a>02923 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_u8, svec4_i1);
<a name="l02924"></a>02924 
<a name="l02928"></a>02928 <a class="code" href="namespacevsx.html#a49c9d03d940821ddeef39ac3f02c6431" title="svec4_i16/svec4_u16 have no fast impl of cmp ops">CMP_ALL_NOMASK_OP_L4</a>(svec4_i16, svec4_i1);
<a name="l02929"></a>02929 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_i16, svec4_i1);
<a name="l02930"></a>02930 
<a name="l02931"></a>02931 <a class="code" href="namespacevsx.html#a49c9d03d940821ddeef39ac3f02c6431" title="svec4_i16/svec4_u16 have no fast impl of cmp ops">CMP_ALL_NOMASK_OP_L4</a>(svec4_u16, svec4_i1);
<a name="l02932"></a>02932 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_u16, svec4_i1);
<a name="l02933"></a>02933 
<a name="l02938"></a>02938 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_i32 a, svec4_i32 b) {
<a name="l02939"></a>02939   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpeq(a.v,b.v);
<a name="l02940"></a>02940 }
<a name="l02941"></a>02941 
<a name="l02942"></a>02942 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_i32 a, svec4_i32 b) {
<a name="l02943"></a>02943   <span class="keywordflow">return</span> ~(__vector <span class="keywordtype">unsigned</span> int)vec_cmpeq(a.v,b.v);
<a name="l02944"></a>02944 }
<a name="l02945"></a>02945 
<a name="l02946"></a>02946 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_than(svec4_i32 a, svec4_i32 b) {
<a name="l02947"></a>02947   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmplt(a.v,b.v);
<a name="l02948"></a>02948 }
<a name="l02949"></a>02949 
<a name="l02950"></a>02950 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_equal(svec4_i32 a, svec4_i32 b) {
<a name="l02951"></a>02951   <span class="keywordflow">return</span> svec_less_than(a, b) | svec_equal(a, b);
<a name="l02952"></a>02952 }
<a name="l02953"></a>02953 
<a name="l02954"></a>02954 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_than(svec4_i32 a, svec4_i32 b) {
<a name="l02955"></a>02955   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpgt(a.v,b.v);
<a name="l02956"></a>02956 }
<a name="l02957"></a>02957 
<a name="l02958"></a>02958 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_equal(svec4_i32 a, svec4_i32 b) {
<a name="l02959"></a>02959   <span class="keywordflow">return</span> svec_greater_than(a, b) | svec_equal(a, b);
<a name="l02960"></a>02960 }
<a name="l02961"></a>02961 
<a name="l02962"></a>02962 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_i32, svec4_i1);
<a name="l02963"></a>02963 
<a name="l02964"></a>02964 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_u32 a, svec4_u32 b) {
<a name="l02965"></a>02965   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpeq(a.v,b.v);
<a name="l02966"></a>02966 }
<a name="l02967"></a>02967 
<a name="l02968"></a>02968 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_u32 a, svec4_u32 b) {
<a name="l02969"></a>02969   <span class="keywordflow">return</span> ~(__vector <span class="keywordtype">unsigned</span> int)vec_cmpeq(a.v,b.v);
<a name="l02970"></a>02970 }
<a name="l02971"></a>02971 
<a name="l02972"></a>02972 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_than(svec4_u32 a, svec4_u32 b) {
<a name="l02973"></a>02973   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmplt(a.v,b.v);
<a name="l02974"></a>02974 }
<a name="l02975"></a>02975 
<a name="l02976"></a>02976 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_equal(svec4_u32 a, svec4_u32 b) {
<a name="l02977"></a>02977   <span class="keywordflow">return</span> svec_less_than(a, b) | svec_equal(a, b);
<a name="l02978"></a>02978 }
<a name="l02979"></a>02979 
<a name="l02980"></a>02980 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_than(svec4_u32 a, svec4_u32 b) {
<a name="l02981"></a>02981   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpgt(a.v,b.v);
<a name="l02982"></a>02982 }
<a name="l02983"></a>02983 
<a name="l02984"></a>02984 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_equal(svec4_u32 a, svec4_u32 b) {
<a name="l02985"></a>02985   <span class="keywordflow">return</span> svec_greater_than(a, b) | svec_equal(a, b);
<a name="l02986"></a>02986 }
<a name="l02987"></a>02987 
<a name="l02988"></a>02988 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_u32, svec4_i1);
<a name="l02989"></a>02989 
<a name="l02994"></a>02994 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_i64 a, svec4_i64 b) {
<a name="l02995"></a>02995 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l02996"></a>02996 <span class="preprocessor"></span>  __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr1 = vec_cmpeq_p8(a.v[0], b.v[0]);
<a name="l02997"></a>02997   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr2 = vec_cmpeq_p8(a.v[1], b.v[1]);
<a name="l02998"></a>02998   svec4_i1 res2 = vec_pack_p8(tr1,tr2);
<a name="l02999"></a>02999   <span class="keywordflow">return</span> res2;
<a name="l03000"></a>03000 <span class="preprocessor">#else</span>
<a name="l03001"></a>03001 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;equal_i64&quot;</span>);
<a name="l03002"></a>03002   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r0 = a[0] == b[0];
<a name="l03003"></a>03003   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r1 = a[1] == b[1];
<a name="l03004"></a>03004   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r2 = a[2] == b[2];
<a name="l03005"></a>03005   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r3 = a[3] == b[3];
<a name="l03006"></a>03006   svec4_i1 res =  svec4_i1(r0,r1,r2,r3);
<a name="l03007"></a>03007   <span class="keywordflow">return</span> res;
<a name="l03008"></a>03008 <span class="preprocessor">#endif</span>
<a name="l03009"></a>03009 <span class="preprocessor"></span>}
<a name="l03010"></a>03010 
<a name="l03011"></a>03011 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_i64 a, svec4_i64 b) {
<a name="l03012"></a>03012   <span class="keywordflow">return</span> ~ svec_equal(a, b);
<a name="l03013"></a>03013 }
<a name="l03014"></a>03014 
<a name="l03015"></a>03015 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i64, svec4_i1, less_than, &lt;);
<a name="l03016"></a>03016 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i64, svec4_i1, less_equal, &lt;=);
<a name="l03017"></a>03017 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i64, svec4_i1, greater_than, &gt;);
<a name="l03018"></a>03018 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_i64, svec4_i1, greater_equal, &gt;=);
<a name="l03019"></a>03019 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_i64, svec4_i1);
<a name="l03020"></a>03020 
<a name="l03021"></a>03021 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_u64 a, svec4_u64 b) {
<a name="l03022"></a>03022 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03023"></a>03023 <span class="preprocessor"></span>  __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr1 = vec_cmpeq_p8(a.v[0], b.v[0]);
<a name="l03024"></a>03024   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr2 = vec_cmpeq_p8(a.v[1], b.v[1]);
<a name="l03025"></a>03025   svec4_i1 res2 = vec_pack_p8(tr1,tr2);
<a name="l03026"></a>03026   <span class="keywordflow">return</span> res2;
<a name="l03027"></a>03027 <span class="preprocessor">#else</span>
<a name="l03028"></a>03028 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;equal_u64&quot;</span>);
<a name="l03029"></a>03029   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r0 = a[0] == b[0];
<a name="l03030"></a>03030   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r1 = a[1] == b[1];
<a name="l03031"></a>03031   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r2 = a[2] == b[2];
<a name="l03032"></a>03032   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r3 = a[3] == b[3];
<a name="l03033"></a>03033   svec4_i1 res =  svec4_i1(r0,r1,r2,r3);
<a name="l03034"></a>03034   <span class="keywordflow">return</span> res;
<a name="l03035"></a>03035 <span class="preprocessor">#endif</span>
<a name="l03036"></a>03036 <span class="preprocessor"></span>}
<a name="l03037"></a>03037 
<a name="l03038"></a>03038 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_u64 a, svec4_u64 b) {
<a name="l03039"></a>03039   <span class="keywordflow">return</span> ~ svec_equal(a, b);
<a name="l03040"></a>03040 }
<a name="l03041"></a>03041 
<a name="l03042"></a>03042 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u64, svec4_i1, less_than, &lt;);
<a name="l03043"></a>03043 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u64, svec4_i1, less_equal, &lt;=);
<a name="l03044"></a>03044 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u64, svec4_i1, greater_than, &gt;);
<a name="l03045"></a>03045 <a class="code" href="namespacevsx.html#a88c373beb9509e422cae11dbd10f9562">CMP_OP_L4</a>(svec4_u64, svec4_i1, greater_equal, &gt;=);
<a name="l03046"></a>03046 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_u64, svec4_i1);
<a name="l03047"></a>03047 
<a name="l03052"></a>03052 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_equal(svec4_f a, svec4_f b) {
<a name="l03053"></a>03053   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpeq(a.v,b.v);
<a name="l03054"></a>03054 }
<a name="l03055"></a>03055 
<a name="l03056"></a>03056 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_not_equal(svec4_f a, svec4_f b) {
<a name="l03057"></a>03057   <span class="keywordflow">return</span> ~(__vector <span class="keywordtype">unsigned</span> int)vec_cmpeq(a.v,b.v);
<a name="l03058"></a>03058 }
<a name="l03059"></a>03059 
<a name="l03060"></a>03060 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_than(svec4_f a, svec4_f b) {
<a name="l03061"></a>03061   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmplt(a.v,b.v);
<a name="l03062"></a>03062 }
<a name="l03063"></a>03063 
<a name="l03064"></a>03064 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_equal(svec4_f a, svec4_f b) {
<a name="l03065"></a>03065   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmple(a.v,b.v);
<a name="l03066"></a>03066 }
<a name="l03067"></a>03067 
<a name="l03068"></a>03068 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_than(svec4_f a, svec4_f b) {
<a name="l03069"></a>03069   <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpgt(a.v,b.v);
<a name="l03070"></a>03070 }
<a name="l03071"></a>03071 
<a name="l03072"></a>03072 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_equal(svec4_f a, svec4_f b) {
<a name="l03073"></a>03073     <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_cmpge(a.v,b.v);
<a name="l03074"></a>03074 }
<a name="l03075"></a>03075 
<a name="l03076"></a>03076 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_f, svec4_i1);
<a name="l03077"></a>03077 
<a name="l03082"></a>03082 <a class="code" href="namespacevsx.html#abc940aa360a39f48ed8020a2bdd43435" title="double vec has fast impl for &gt;, &lt; for POWER8 Check why double has not ==, !=">CMP_OP</a>(svec4_d, svec4_i1, equal, ==);
<a name="l03083"></a>03083 <a class="code" href="namespacevsx.html#abc940aa360a39f48ed8020a2bdd43435" title="double vec has fast impl for &gt;, &lt; for POWER8 Check why double has not ==, !=">CMP_OP</a>(svec4_d, svec4_i1, not_equal, !=);
<a name="l03084"></a>03084 
<a name="l03085"></a>03085 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_than(svec4_d a, svec4_d b) {
<a name="l03086"></a>03086 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03087"></a>03087 <span class="preprocessor"></span>  __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr1 = (__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> long)vec_cmplt(a.v[0], b.v[0]);
<a name="l03088"></a>03088   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr2 = (__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> long)vec_cmplt(a.v[1], b.v[1]);
<a name="l03089"></a>03089   <span class="keywordflow">return</span> vec_pack_p8(tr1,tr2);
<a name="l03090"></a>03090 <span class="preprocessor">#else</span>
<a name="l03091"></a>03091 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;less_than_double&quot;</span>);
<a name="l03092"></a>03092   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r0 = a[0] &lt; b[0];
<a name="l03093"></a>03093   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r1 = a[1] &lt; b[1];
<a name="l03094"></a>03094   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r2 = a[2] &lt; b[2];
<a name="l03095"></a>03095   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r3 = a[3] &lt; b[3];
<a name="l03096"></a>03096   <span class="keywordflow">return</span> svec4_i1(r0,r1,r2,r3);
<a name="l03097"></a>03097 <span class="preprocessor">#endif</span>
<a name="l03098"></a>03098 <span class="preprocessor"></span>}
<a name="l03099"></a>03099 
<a name="l03100"></a>03100 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_less_equal(svec4_d a, svec4_d b) {
<a name="l03101"></a>03101     <span class="keywordflow">return</span> svec_less_than(a, b) | svec_equal(a, b);
<a name="l03102"></a>03102 }
<a name="l03103"></a>03103 
<a name="l03104"></a>03104 
<a name="l03105"></a>03105 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_than(svec4_d a, svec4_d b) {
<a name="l03106"></a>03106 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03107"></a>03107 <span class="preprocessor"></span>  __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr1 = (__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> long)vec_cmpgt(a.v[0], b.v[0]);
<a name="l03108"></a>03108   __vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> tr2 = (__vector <span class="keywordtype">signed</span> <span class="keywordtype">long</span> long)vec_cmpgt(a.v[1], b.v[1]);
<a name="l03109"></a>03109   <span class="keywordflow">return</span> vec_pack_p8(tr1,tr2);
<a name="l03110"></a>03110 <span class="preprocessor">#else</span>
<a name="l03111"></a>03111 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;greater_than_double&quot;</span>);
<a name="l03112"></a>03112   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r0 = a[0] &gt; b[0];
<a name="l03113"></a>03113   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r1 = a[1] &gt; b[1];
<a name="l03114"></a>03114   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r2 = a[2] &gt; b[2];
<a name="l03115"></a>03115   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r3 = a[3] &gt; b[3];
<a name="l03116"></a>03116   <span class="keywordflow">return</span> svec4_i1(r0,r1,r2,r3);
<a name="l03117"></a>03117 <span class="preprocessor">#endif</span>
<a name="l03118"></a>03118 <span class="preprocessor"></span>}
<a name="l03119"></a>03119 
<a name="l03120"></a>03120 <span class="keyword">static</span> FORCEINLINE svec4_i1 svec_greater_equal(svec4_d a, svec4_d b) {
<a name="l03121"></a>03121     <span class="keywordflow">return</span> svec_greater_than(a, b) | svec_equal(a, b);
<a name="l03122"></a>03122 }
<a name="l03123"></a>03123 
<a name="l03124"></a>03124 <a class="code" href="namespacevsx.html#a7d046240034bb231a4008a630fb0e960">CMP_ALL_MASKED_OP</a>(svec4_d, svec4_i1);
<a name="l03125"></a>03125 
<a name="l03126"></a>03126 <span class="comment">//  8. Cast</span>
<a name="l03127"></a>03127 
<a name="l03131"></a><a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a">03131</a> <span class="preprocessor">#define CAST_OPT(FROM, TO, STO)        \</span>
<a name="l03132"></a>03132 <span class="preprocessor">template &lt;class T&gt; static T svec_cast(FROM val);     \</span>
<a name="l03133"></a>03133 <span class="preprocessor"> \</span>
<a name="l03136"></a>03136 <span class="preprocessor">template &lt;&gt; FORCEINLINE TO svec_cast&lt;TO&gt;(FROM val) {      \</span>
<a name="l03137"></a>03137 <span class="preprocessor">    return TO((__vector STO)(val.v)); \</span>
<a name="l03138"></a>03138 <span class="preprocessor">}</span>
<a name="l03139"></a>03139 <span class="preprocessor"></span>
<a name="l03143"></a>03143 <span class="preprocessor">#define CAST_OPT64(FROM, TO, STO)        \</span>
<a name="l03144"></a>03144 <span class="preprocessor">template &lt;class T&gt; static T svec_cast(FROM val);     \</span>
<a name="l03145"></a>03145 <span class="preprocessor"> \</span>
<a name="l03148"></a>03148 <span class="preprocessor">template &lt;&gt; FORCEINLINE TO svec_cast&lt;TO&gt;(FROM val) {      \</span>
<a name="l03149"></a>03149 <span class="preprocessor">    return TO((__vector STO)(val.v[0]), (__vector STO)(val.v[1])); \</span>
<a name="l03150"></a>03150 <span class="preprocessor">}</span>
<a name="l03151"></a>03151 <span class="preprocessor"></span>
<a name="l03159"></a>03159 <span class="comment">//i1 -&gt; all</span>
<a name="l03160"></a>03160 <span class="comment">//CAST_L4(svec4_i1, svec4_i1, uint32_t);</span>
<a name="l03161"></a><a class="code" href="namespacevsx.html#a944f3d56167a0a16b8d0dc1f12da73c1">03161</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t);  <span class="comment">//better way: packing</span>
<a name="l03162"></a><a class="code" href="namespacevsx.html#ad4355a1df438c833092a2a5e76d1917d">03162</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);  <span class="comment">//better way: packing</span>
<a name="l03163"></a>03163 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t);  <span class="comment">//better way: packing</span>
<a name="l03164"></a>03164 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t); <span class="comment">//better way: packing</span>
<a name="l03165"></a>03165 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, int32_t);
<a name="l03166"></a>03166 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t);
<a name="l03167"></a>03167 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, int64_t); <span class="comment">//better way: unpack, singed ext</span>
<a name="l03168"></a>03168 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, uint64_t);<span class="comment">//better way: unpack, singed ext</span>
<a name="l03169"></a>03169 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <span class="keywordtype">float</span>); <span class="comment">//si to fp call</span>
<a name="l03170"></a>03170 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>);
<a name="l03171"></a><a class="code" href="namespacevsx.html#a46ef9007e1b6c7c8739ac235b44fb805">03171</a> 
<a name="l03172"></a>03172 <span class="comment">//i8 -&gt; all</span>
<a name="l03173"></a>03173 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l03174"></a>03174 <span class="comment">//CAST_L4(svec4_i8, svec4_i8, int8_t);</span>
<a name="l03175"></a>03175 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l03176"></a>03176 <span class="comment">//CAST_L4(svec4_i8, svec4_i16, int16_t); //better way, use vec_unpackh</span>
<a name="l03177"></a><a class="code" href="namespacevsx.html#a1ac50595b23df8b97c6ffe5479b72fd7">03177</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val);
<a name="l03181"></a>03181 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>&gt;(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val) {
<a name="l03182"></a>03182     <span class="keywordflow">return</span> vec_unpackh(val.v);
<a name="l03183"></a>03183 }
<a name="l03184"></a>03184 <span class="comment">//CAST_L4(svec4_i8, svec4_u16, uint16_t); //better way, sext + zero mask and</span>
<a name="l03185"></a><a class="code" href="namespacevsx.html#a027d35ab47250f97ed6c3a23a25636ec">03185</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val);
<a name="l03189"></a>03189 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>&gt;(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val) {
<a name="l03190"></a>03190     __vector uint16_t v = vec_unpackh(val.v);
<a name="l03191"></a>03191     <span class="keywordflow">return</span> (v);
<a name="l03192"></a>03192 }
<a name="l03193"></a>03193 <span class="comment">//CAST_L4(svec4_i8, svec4_i32, int32_t); //better way, use twice vec_unpack</span>
<a name="l03194"></a><a class="code" href="namespacevsx.html#acc0279d1e42ca073eeecde044c974e18">03194</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val);
<a name="l03198"></a>03198 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val) {
<a name="l03199"></a>03199     <span class="keywordflow">return</span> vec_unpackh(vec_unpackh(val.v));
<a name="l03200"></a>03200 }
<a name="l03201"></a>03201 <span class="comment">//CAST_L4(svec4_i8, svec4_u32, uint32_t); //better way, use unpack + zero mask</span>
<a name="l03202"></a><a class="code" href="namespacevsx.html#a8a5073f7cf4e8a549e3d19f2024ad667">03202</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val);
<a name="l03206"></a>03206 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> val) {
<a name="l03207"></a>03207     __vector uint32_t v = vec_unpackh(vec_unpackh(val.v));
<a name="l03208"></a>03208     <span class="keywordflow">return</span> (v);
<a name="l03209"></a>03209 }
<a name="l03210"></a>03210 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i8, svec4_i64, int64_t);
<a name="l03211"></a>03211 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i8, svec4_u64, uint64_t);
<a name="l03212"></a>03212 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i8, svec4_f, <span class="keywordtype">float</span>);
<a name="l03213"></a><a class="code" href="namespacevsx.html#a4d3ddc94a38a48bd67f6dd606e252d6d">03213</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>);
<a name="l03214"></a>03214 
<a name="l03215"></a>03215 <span class="comment">//u8 -&gt; all</span>
<a name="l03216"></a>03216 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l03217"></a>03217 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t);
<a name="l03218"></a>03218 <span class="comment">//CAST_L4(svec4_u8, svec4_u8, uint8_t);</span>
<a name="l03219"></a>03219 <span class="comment">//CAST_L4(svec4_u8, svec4_i16, int16_t); //better way, use unpack + zero mask</span>
<a name="l03220"></a><a class="code" href="namespacevsx.html#a13408d4867b8d18cad02d3da38542391">03220</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val);
<a name="l03224"></a>03224 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>&gt;(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val) {
<a name="l03225"></a>03225     __vector int16_t v = vec_unpackh((__vector int8_t)val.v);
<a name="l03226"></a>03226     __vector int16_t mask = {0xFF, 0xFF, 0xFF, 0xFF, 0, 0, 0, 0};
<a name="l03227"></a>03227     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03228"></a>03228 }
<a name="l03229"></a>03229 <span class="comment">//CAST_L4(svec4_u8, svec4_u16, uint16_t); //better way use unpack + zero mask</span>
<a name="l03230"></a><a class="code" href="namespacevsx.html#aa3e32bdfa64c339ab0231e2427f2e2db">03230</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val);
<a name="l03234"></a>03234 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>&gt;(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val) {
<a name="l03235"></a>03235     __vector uint16_t v = vec_unpackh((__vector int8_t)val.v);
<a name="l03236"></a>03236     __vector uint16_t mask = {0xFF, 0xFF, 0xFF, 0xFF, 0, 0, 0, 0};
<a name="l03237"></a>03237     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03238"></a>03238 }
<a name="l03239"></a>03239 <span class="comment">//CAST_L4(svec4_u8, svec4_i32, int32_t);</span>
<a name="l03240"></a><a class="code" href="namespacevsx.html#ab87307f244df8f6a1d03c242531c3bc1">03240</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val); <span class="comment">//better way use unpack + zero mask</span>
<a name="l03244"></a>03244 <span class="comment"></span><span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val) {
<a name="l03245"></a>03245     __vector int32_t v = vec_unpackh(vec_unpackh((__vector int8_t)val.v));
<a name="l03246"></a>03246     __vector int32_t mask = {0xFF, 0xFF, 0xFF, 0xFF};
<a name="l03247"></a>03247     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03248"></a>03248 }
<a name="l03249"></a>03249 <span class="comment">//CAST_L4(svec4_u8, svec4_u32, uint32_t);</span>
<a name="l03250"></a><a class="code" href="namespacevsx.html#ab30bde43006fbdc699c349bf7d55a7f4">03250</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val); <span class="comment">//better way use unpack + zero mask</span>
<a name="l03254"></a>03254 <span class="comment"></span><span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> val) {
<a name="l03255"></a>03255     __vector uint32_t v = vec_unpackh(vec_unpackh((__vector int8_t)val.v));
<a name="l03256"></a>03256     __vector uint32_t mask = {0xFF, 0xFF, 0xFF, 0xFF};
<a name="l03257"></a>03257     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03258"></a>03258 }
<a name="l03259"></a>03259 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u8, svec4_i64, int64_t);
<a name="l03260"></a>03260 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u8, svec4_u64, uint64_t);
<a name="l03261"></a>03261 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u8, svec4_f, <span class="keywordtype">float</span>);
<a name="l03262"></a>03262 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u8, svec4_d, <span class="keywordtype">double</span>);
<a name="l03263"></a>03263 
<a name="l03264"></a>03264 <span class="comment">//i16 -&gt; all</span>
<a name="l03265"></a><a class="code" href="namespacevsx.html#a0378f11c27c43e2703ca6ee47e3951a4">03265</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l03266"></a>03266 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t); <span class="comment">//could use pack</span>
<a name="l03267"></a>03267 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t); <span class="comment">//could use pack</span>
<a name="l03268"></a>03268 <span class="comment">//CAST_L4(svec4_i16, svec4_i16, int16_t);</span>
<a name="l03269"></a>03269 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t);
<a name="l03270"></a>03270 <span class="comment">//CAST_L4(svec4_i16, svec4_i32, int32_t); //use unpack</span>
<a name="l03271"></a><a class="code" href="namespacevsx.html#ad0a88193b7468f58d56eafe7a607cd51">03271</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> val);
<a name="l03275"></a>03275 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> val) {
<a name="l03276"></a>03276     <span class="keywordflow">return</span> vec_unpackh(val.v);
<a name="l03277"></a>03277 }
<a name="l03278"></a>03278 <span class="comment">//CAST_L4(svec4_i16, svec4_u32, uint32_t); //use unpack and zeromaskout</span>
<a name="l03279"></a><a class="code" href="namespacevsx.html#a05375381b5768132c86f8ea7ae64a4d1">03279</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> val);
<a name="l03283"></a>03283 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> val) {
<a name="l03284"></a>03284     __vector uint32_t v = vec_unpackh(val.v);
<a name="l03285"></a>03285     <span class="keywordflow">return</span> (v);
<a name="l03286"></a>03286 }
<a name="l03287"></a>03287 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i16, svec4_i64, int64_t);
<a name="l03288"></a>03288 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i16, svec4_u64, uint64_t);
<a name="l03289"></a>03289 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i16, svec4_f, <span class="keywordtype">float</span>);
<a name="l03290"></a>03290 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i16, svec4_d, <span class="keywordtype">double</span>);
<a name="l03291"></a>03291 
<a name="l03292"></a><a class="code" href="namespacevsx.html#a0bd855285e2b0c6f9dab5008dbb33fec">03292</a> <span class="comment">//u16 -&gt; all</span>
<a name="l03293"></a>03293 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="structvsx_1_1svec4__i1.html" title="Data representation and operations on a vector of 4 boolean values. This is used in predicated vector...">svec4_i1</a>, uint32_t);
<a name="l03294"></a>03294 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t);
<a name="l03295"></a>03295 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l03296"></a>03296 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t);
<a name="l03297"></a>03297 <span class="comment">//CAST_L4(svec4_u16, svec4_u16, uint16_t);</span>
<a name="l03298"></a>03298 <span class="comment">//CAST_L4(svec4_u16, svec4_i32, int32_t); //use unpack +mask</span>
<a name="l03299"></a><a class="code" href="namespacevsx.html#a0e40e7f26975e800bbe0ead772acc912">03299</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> val);
<a name="l03303"></a>03303 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> val) {
<a name="l03304"></a>03304     __vector int32_t v = vec_unpackh((__vector int16_t)val.v);
<a name="l03305"></a>03305     __vector int32_t mask = {0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF};
<a name="l03306"></a>03306     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03307"></a>03307 }
<a name="l03308"></a>03308 <span class="comment">//CAST_L4(svec4_u16, svec4_u32, uint32_t); //use unpack + mask</span>
<a name="l03309"></a><a class="code" href="namespacevsx.html#a9fbd420ce47c0d9c020baf3cc790411a">03309</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> val);
<a name="l03313"></a>03313 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> val) {
<a name="l03314"></a>03314     __vector uint32_t v = vec_unpackh((__vector int16_t)val.v);
<a name="l03315"></a>03315     __vector uint32_t mask = {0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF};
<a name="l03316"></a>03316     <span class="keywordflow">return</span> (v &amp; mask);
<a name="l03317"></a>03317 }
<a name="l03318"></a>03318 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u16, svec4_i64, int64_t);
<a name="l03319"></a>03319 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u16, svec4_u64, uint64_t);
<a name="l03320"></a>03320 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u16, svec4_f, <span class="keywordtype">float</span>);
<a name="l03321"></a>03321 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u16, svec4_d, <span class="keywordtype">double</span>);
<a name="l03322"></a>03322 
<a name="l03323"></a>03323 <span class="comment">//i32 -&gt; all</span>
<a name="l03324"></a>03324 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i32, svec4_i1, uint32_t);
<a name="l03325"></a>03325 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i32, svec4_i8, int8_t);
<a name="l03326"></a><a class="code" href="namespacevsx.html#a62060ca4a6c4e80ff72e982b93c1a256">03326</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l03327"></a>03327 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t);
<a name="l03328"></a>03328 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t);
<a name="l03329"></a>03329 <span class="comment">//CAST_L4(svec4_i32, svec4_i32, int32_t);</span>
<a name="l03330"></a>03330 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t);
<a name="l03331"></a>03331 <span class="comment">//CAST_L4(svec4_i32, svec4_i64, int64_t); //use p8 unpack</span>
<a name="l03332"></a><a class="code" href="namespacevsx.html#a8fcd560e3685173b8c66162e3b47df77">03332</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val);
<a name="l03336"></a>03336 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>&gt;(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val) {
<a name="l03337"></a>03337 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03338"></a>03338 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(vec_unpackh_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v),vec_unpackl_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v));
<a name="l03339"></a>03339 <span class="preprocessor">#else</span>
<a name="l03340"></a>03340 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast i32 to i64&quot;</span>);
<a name="l03341"></a>03341   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>((int64_t)val[0], (int64_t)val[1], (int64_t)val[2], (int64_t)val[3]);
<a name="l03342"></a>03342 <span class="preprocessor">#endif</span>
<a name="l03343"></a>03343 <span class="preprocessor"></span>}
<a name="l03344"></a>03344 <span class="comment">//CAST_L4(svec4_i32, svec4_u64, uint64_t); //use p8 unpack</span>
<a name="l03345"></a><a class="code" href="namespacevsx.html#ab1dfb24e0fa099ea73d854a6a03498b4">03345</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val);
<a name="l03349"></a>03349 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>&gt;(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val) {
<a name="l03350"></a>03350 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03351"></a>03351 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(vec_unpackh_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v),vec_unpackl_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v));
<a name="l03352"></a>03352 <span class="preprocessor">#else</span>
<a name="l03353"></a>03353 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast i32 to u64&quot;</span>);
<a name="l03354"></a>03354   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>((uint64_t)val[0], (uint64_t)val[1], (uint64_t)val[2], (uint64_t)val[3]);
<a name="l03355"></a>03355 <span class="preprocessor">#endif</span>
<a name="l03356"></a>03356 <span class="preprocessor"></span>}
<a name="l03357"></a>03357 <span class="comment">//CAST_L4(svec4_i32, svec4_f, float); //use ctf</span>
<a name="l03358"></a><a class="code" href="namespacevsx.html#a60d8e57f83c2c3607f6b0de816e60c35">03358</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val);
<a name="l03362"></a>03362 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>&gt; (<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> val) {
<a name="l03363"></a>03363   <span class="keywordflow">return</span> vec_ctf(val.v,0);
<a name="l03364"></a>03364 }
<a name="l03365"></a>03365 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i32, svec4_d, <span class="keywordtype">double</span>);
<a name="l03366"></a>03366 
<a name="l03367"></a>03367 <span class="comment">//u32 -&gt; all</span>
<a name="l03368"></a>03368 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u32, svec4_i1, uint32_t);
<a name="l03369"></a><a class="code" href="namespacevsx.html#a03eda737fe8767873e5f5a0f5fb7a9e2">03369</a> <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>, int8_t);
<a name="l03370"></a>03370 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>, uint8_t);
<a name="l03371"></a>03371 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>, int16_t);
<a name="l03372"></a>03372 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>, uint16_t);
<a name="l03373"></a>03373 <a class="code" href="power__vsx4_8h.html#af1fa29d793f3c4d5500855ecb3d86d6a" title="cast based on directly change the __vector type">CAST_OPT</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, int32_t);
<a name="l03374"></a>03374 <span class="comment">//CAST_L4(svec4_u32, svec4_u32, uint32_t);</span>
<a name="l03375"></a>03375 <span class="comment">//CAST_L4(svec4_u32, svec4_i64, int64_t); //use p8 unpack</span>
<a name="l03376"></a><a class="code" href="namespacevsx.html#a404f256db6e2ecaf96b16b849a7aa2b5">03376</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> val);
<a name="l03380"></a>03380 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>&gt;(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> val) {
<a name="l03381"></a>03381 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03382"></a>03382 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>(vec_unpackh_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v),vec_unpackl_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v));
<a name="l03383"></a>03383 <span class="preprocessor">#else</span>
<a name="l03384"></a>03384 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast u32 to i64&quot;</span>);
<a name="l03385"></a>03385   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>((int64_t)val[0], (int64_t)val[1], (int64_t)val[2], (int64_t)val[3]);
<a name="l03386"></a>03386 <span class="preprocessor">#endif</span>
<a name="l03387"></a>03387 <span class="preprocessor"></span>}
<a name="l03388"></a>03388 <span class="comment">//CAST_L4(svec4_u32, svec4_u64, uint64_t); //use p8 unpack</span>
<a name="l03389"></a><a class="code" href="namespacevsx.html#a16bc2f54aa0775d2794ce5a85c400121">03389</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> val);
<a name="l03393"></a>03393 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>&gt;(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> val) {
<a name="l03394"></a>03394 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03395"></a>03395 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>(vec_unpackh_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v),vec_unpackl_p8((__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)val.v));
<a name="l03396"></a>03396 <span class="preprocessor">#else</span>
<a name="l03397"></a>03397 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast u32 to u64&quot;</span>);
<a name="l03398"></a>03398   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>((uint64_t)val[0], (uint64_t)val[1], (uint64_t)val[2], (uint64_t)val[3]);
<a name="l03399"></a>03399 <span class="preprocessor">#endif</span>
<a name="l03400"></a>03400 <span class="preprocessor"></span>}
<a name="l03401"></a>03401 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u32, svec4_f, <span class="keywordtype">float</span>);
<a name="l03402"></a>03402 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u32, svec4_d, <span class="keywordtype">double</span>);
<a name="l03403"></a>03403 
<a name="l03404"></a>03404 <span class="comment">//i64-&gt; all</span>
<a name="l03405"></a>03405 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_i1, uint32_t);
<a name="l03406"></a>03406 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_i8, int8_t);
<a name="l03407"></a>03407 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_u8, uint8_t);
<a name="l03408"></a>03408 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_i16, int16_t);
<a name="l03409"></a>03409 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_u16, uint16_t);
<a name="l03410"></a>03410 <span class="comment">//CAST_L4(svec4_i64, svec4_i32, int32_t); //use p8 trunk</span>
<a name="l03411"></a><a class="code" href="namespacevsx.html#a11a8b4931729f74d9c5837c9cd9d65c8">03411</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> val);
<a name="l03415"></a>03415 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> val) {
<a name="l03416"></a>03416 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03417"></a>03417 <span class="preprocessor"></span>  <span class="keywordflow">return</span> (__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span>)vec_pack_p8(val.v[0],val.v[1]);
<a name="l03418"></a>03418 <span class="preprocessor">#else</span>
<a name="l03419"></a>03419 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast i64 to i32&quot;</span>);
<a name="l03420"></a>03420   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>((int32_t)val[0], (int32_t)val[1], (int32_t)val[2], (int32_t)val[3]);
<a name="l03421"></a>03421 <span class="preprocessor">#endif</span>
<a name="l03422"></a>03422 <span class="preprocessor"></span>}
<a name="l03423"></a>03423 <span class="comment">//CAST_L4(svec4_i64, svec4_u32, uint32_t); //use p8 trunk</span>
<a name="l03424"></a><a class="code" href="namespacevsx.html#a95f30a454f20ebd0ecb328e9b7907d97">03424</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> val);
<a name="l03428"></a>03428 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a> val) {
<a name="l03429"></a>03429 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03430"></a>03430 <span class="preprocessor"></span>  <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_pack_p8(val.v[0],val.v[1]);
<a name="l03431"></a>03431 <span class="preprocessor">#else</span>
<a name="l03432"></a>03432 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast i64 to u32&quot;</span>);
<a name="l03433"></a><a class="code" href="namespacevsx.html#affbbf38af2402344e775d8b032d08797">03433</a>   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>((uint32_t)val[0], (uint32_t)val[1], (uint32_t)val[2], (uint32_t)val[3]);
<a name="l03434"></a>03434 <span class="preprocessor">#endif</span>
<a name="l03435"></a>03435 <span class="preprocessor"></span>}
<a name="l03436"></a>03436 <span class="comment">//CAST_L4(svec4_i64, svec4_i64, int64_t);</span>
<a name="l03437"></a>03437 <a class="code" href="power__vsx4_8h.html#ad83252c9f29629485e1c6a9821423335" title="cast based on directly change the __vector type">CAST_OPT64</a>(svec4_i64, svec4_u64, uint64_t);
<a name="l03438"></a>03438 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_f, <span class="keywordtype">float</span>);
<a name="l03439"></a>03439 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_i64, svec4_d, <span class="keywordtype">double</span>);
<a name="l03440"></a>03440 
<a name="l03441"></a>03441 <span class="comment">//u64 -&gt; all</span>
<a name="l03442"></a>03442 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_i1, uint32_t);
<a name="l03443"></a>03443 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_i8, int8_t);
<a name="l03444"></a>03444 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_u8, uint8_t);
<a name="l03445"></a>03445 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_i16, int16_t);
<a name="l03446"></a>03446 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_u16, uint16_t);
<a name="l03447"></a>03447 <span class="comment">//CAST_L4(svec4_u64, svec4_i32, int32_t); //use p8 pack</span>
<a name="l03448"></a><a class="code" href="namespacevsx.html#afd9af20e860366a88c39a1574906792c">03448</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> val);
<a name="l03452"></a>03452 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> val) {
<a name="l03453"></a>03453 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03454"></a>03454 <span class="preprocessor"></span>  <span class="keywordflow">return</span> (__vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span>)vec_pack_p8(val.v[0],val.v[1]);
<a name="l03455"></a>03455 <span class="preprocessor">#else</span>
<a name="l03456"></a>03456 <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast u64 to i32&quot;</span>);
<a name="l03457"></a>03457   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>((int32_t)val[0], (int32_t)val[1], (int32_t)val[2], (int32_t)val[3]);
<a name="l03458"></a>03458 <span class="preprocessor">#endif</span>
<a name="l03459"></a>03459 <span class="preprocessor"></span>}
<a name="l03460"></a>03460 <span class="comment">//CAST_L4(svec4_u64, svec4_u32, uint32_t); //use p8 pack</span>
<a name="l03461"></a><a class="code" href="namespacevsx.html#a33e6a73d687893af652b7445f38b6295">03461</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> val);
<a name="l03465"></a>03465 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a> val) {
<a name="l03466"></a>03466 <span class="preprocessor">#ifdef __POWER8</span>
<a name="l03467"></a>03467 <span class="preprocessor"></span>  <span class="keywordflow">return</span> (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)vec_pack_p8(val.v[0],val.v[1]);
<a name="l03468"></a>03468 <span class="preprocessor">#else</span>
<a name="l03469"></a><a class="code" href="namespacevsx.html#a52e1a5cacbcfb8a6cd265c5fb2598ee9">03469</a> <span class="preprocessor"></span>  INC_STATS_NAME(STATS_OTHER_SLOW, 1, <span class="stringliteral">&quot;cast u64 to u32&quot;</span>);
<a name="l03470"></a>03470   <span class="keywordflow">return</span>  <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>((uint32_t)val[0], (uint32_t)val[1], (uint32_t)val[2], (uint32_t)val[3]);
<a name="l03471"></a>03471 <span class="preprocessor">#endif</span>
<a name="l03472"></a>03472 <span class="preprocessor"></span>}
<a name="l03473"></a>03473 <a class="code" href="power__vsx4_8h.html#ad83252c9f29629485e1c6a9821423335" title="cast based on directly change the __vector type">CAST_OPT64</a>(svec4_u64, svec4_i64, int64_t);
<a name="l03474"></a>03474 <span class="comment">//CAST_L4(svec4_u64, svec4_u64, uint64_t);</span>
<a name="l03475"></a>03475 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_f, <span class="keywordtype">float</span>);
<a name="l03476"></a>03476 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_u64, svec4_d, <span class="keywordtype">double</span>);
<a name="l03477"></a>03477 
<a name="l03478"></a>03478 <span class="comment">//float -&gt; all</span>
<a name="l03479"></a>03479 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_f, svec4_i1, uint32_t);
<a name="l03480"></a>03480 <span class="comment">//CAST_L4(svec4_f, svec4_i8, int8_t); //use cts + pack+pack</span>
<a name="l03481"></a><a class="code" href="namespacevsx.html#a8f32bf3f8ffa9e32d48a5b42e8fdf700">03481</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03485"></a>03485 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i8.html" title="data representation and operations on a vector of 4 signed chars.">svec4_i8</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03486"></a>03486     __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> tsi=vec_splat_s32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l03487"></a>03487     <span class="keywordflow">return</span> vec_pack(vec_pack(vec_cts(val.v, 0), tsi), (__vector <span class="keywordtype">signed</span> <span class="keywordtype">short</span>)tsi);
<a name="l03488"></a>03488 }
<a name="l03489"></a>03489 <span class="comment">//CAST_L4(svec4_f, svec4_u8, uint8_t); //use ctu + pack + pack</span>
<a name="l03490"></a><a class="code" href="namespacevsx.html#aacba69c82dec35d7e102e75e2cb92778">03490</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03494"></a>03494 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u8.html" title="data representation and operations on a vector of 4 unsigned chars.">svec4_u8</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03495"></a>03495     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tsi=vec_splat_s32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l03496"></a>03496     <span class="keywordflow">return</span> vec_pack(vec_pack(vec_ctu(val.v, 0), tsi), (__vector <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)tsi);
<a name="l03497"></a>03497 
<a name="l03498"></a>03498 }
<a name="l03499"></a>03499 <span class="comment">//CAST_L4(svec4_f, svec4_i16, int16_t); //use cts + pack</span>
<a name="l03500"></a><a class="code" href="namespacevsx.html#aaa13eda1d03c7759bffa3761bc8eb5b2">03500</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03504"></a>03504 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i16.html" title="data representation and operations on a vector of 4 signed short.">svec4_i16</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03505"></a>03505     __vector <span class="keywordtype">signed</span> <span class="keywordtype">int</span> tsi=vec_splat_s32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l03506"></a>03506     <span class="keywordflow">return</span> vec_pack(vec_cts(val.v, 0), tsi);
<a name="l03507"></a>03507 }
<a name="l03508"></a>03508 <span class="comment">//CAST_L4(svec4_f, svec4_u16, uint16_t); //use ctu + pack</span>
<a name="l03509"></a><a class="code" href="namespacevsx.html#a211db01dc2274c5711e7578e94f0f2dc">03509</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03513"></a>03513 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u16.html" title="data representation and operations on a vector of 4 unsigned short.">svec4_u16</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03514"></a>03514     __vector <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tsi=vec_splat_s32(0);<span class="comment">//{0,0,0,0};</span>
<a name="l03515"></a>03515     <span class="keywordflow">return</span> vec_pack(vec_ctu(val.v, 0), tsi);
<a name="l03516"></a>03516 }
<a name="l03517"></a>03517 <span class="comment">//CAST_L4(svec4_f, svec4_i32, int32_t);//use cts</span>
<a name="l03518"></a><a class="code" href="namespacevsx.html#a8f26b9b56418d0079ea4c59f995f4574">03518</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03522"></a>03522 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03523"></a>03523     <span class="keywordflow">return</span> vec_cts(val.v, 0);
<a name="l03524"></a>03524 }
<a name="l03525"></a>03525 <span class="comment">//CAST_L4(svec4_f, svec4_u32, uint32_t); //use ctu</span>
<a name="l03526"></a><a class="code" href="namespacevsx.html#a8efed6c4b5d44e06cdac86e9a6c9848c">03526</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">static</span> T svec_cast(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val);
<a name="l03530"></a>03530 <span class="keyword">template</span> &lt;&gt; FORCEINLINE <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a> svec_cast&lt;<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>&gt;(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a> val) {
<a name="l03531"></a>03531     <span class="keywordflow">return</span> vec_ctu(val.v, 0);
<a name="l03532"></a>03532 }
<a name="l03533"></a>03533 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_f, svec4_i64, int64_t);
<a name="l03534"></a>03534 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_f, svec4_u64, uint64_t);
<a name="l03535"></a>03535 <span class="comment">//CAST_L4(svec4_f, svec4_f, float);</span>
<a name="l03536"></a>03536 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_f, svec4_d, <span class="keywordtype">double</span>);
<a name="l03537"></a>03537 
<a name="l03538"></a>03538 <span class="comment">//double -&gt; all</span>
<a name="l03539"></a>03539 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_i1, uint32_t);
<a name="l03540"></a>03540 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_i8, int8_t);
<a name="l03541"></a>03541 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_u8, uint8_t);
<a name="l03542"></a>03542 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_i16, int16_t);
<a name="l03543"></a>03543 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_u16, uint16_t);
<a name="l03544"></a>03544 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_i32, int32_t);
<a name="l03545"></a>03545 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_u32, uint32_t);
<a name="l03546"></a>03546 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_i64, int64_t);
<a name="l03547"></a>03547 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_u64, uint64_t);
<a name="l03548"></a>03548 <a class="code" href="namespacevsx.html#a7638c085b774634f9966c69815b8d9dc">CAST_L4</a>(svec4_d, svec4_f, <span class="keywordtype">float</span>);
<a name="l03549"></a>03549 <span class="comment">//CAST_L4(svec4_d, svec4_d, double);</span>
<a name="l03550"></a>03550 
<a name="l03552"></a>03552 <span class="comment">//typedef union {</span>
<a name="l03553"></a>03553 <span class="comment">//    int32_t i32;</span>
<a name="l03554"></a>03554 <span class="comment">//    uint32_t u32;</span>
<a name="l03555"></a>03555 <span class="comment">//    float f;</span>
<a name="l03556"></a>03556 <span class="comment">//    int64_t i64;</span>
<a name="l03557"></a>03557 <span class="comment">//    uint64_t u64;</span>
<a name="l03558"></a>03558 <span class="comment">//    double d;</span>
<a name="l03559"></a>03559 <span class="comment">//} BitcastUnion;</span>
<a name="l03560"></a>03560 <span class="comment">//</span>
<a name="l03561"></a>03561 <span class="comment">//#define CAST_BITS(FROM, FROM_F, TO, TO_F)        \</span>
<a name="l03562"></a>03562 <span class="comment">//template &lt;class T&gt; static T svec_cast_bits(FROM val);     \</span>
<a name="l03563"></a>03563 <span class="comment">//template &lt;&gt; FORCEINLINE TO svec_cast_bits&lt;TO&gt;(FROM val) {      \</span>
<a name="l03564"></a>03564 <span class="comment">//    INC_STATS_NAME(STATS_CAST_SLOW, 1, #FROME&quot;-&quot;#TO);          \</span>
<a name="l03565"></a>03565 <span class="comment">//    BitcastUnion u[4]; \</span>
<a name="l03566"></a>03566 <span class="comment">//    u[0].FROM_F = val[0]; \</span>
<a name="l03567"></a>03567 <span class="comment">//    u[1].FROM_F = val[1]; \</span>
<a name="l03568"></a>03568 <span class="comment">//    u[2].FROM_F = val[2]; \</span>
<a name="l03569"></a>03569 <span class="comment">//    u[3].FROM_F = val[3]; \</span>
<a name="l03570"></a>03570 <span class="comment">//    return TO(u[0].TO_F, u[1].TO_F, u[2].TO_F, u[3].TO_F); \</span>
<a name="l03571"></a>03571 <span class="comment">//}</span>
<a name="l03572"></a><a class="code" href="power__vsx4_8h.html#ac9f0907f36b8e1e39e0eb8e8f5bde0e3">03572</a> 
<a name="l03576"></a>03576 <span class="preprocessor">#define CAST_BITS_OPT(FROM, TO, STO)        \</span>
<a name="l03577"></a>03577 <span class="preprocessor">template &lt;class T&gt; static T svec_cast_bits(FROM val);     \</span>
<a name="l03578"></a>03578 <span class="preprocessor"> \</span>
<a name="l03581"></a>03581 <span class="preprocessor">template &lt;&gt; FORCEINLINE TO svec_cast_bits&lt;TO&gt;(FROM val) {      \</span>
<a name="l03582"></a><a class="code" href="power__vsx4_8h.html#a44dd753da26ca71c731c2c6039fadfbf">03582</a> <span class="preprocessor">    return TO((__vector STO)(val.v)); \</span>
<a name="l03583"></a>03583 <span class="preprocessor">}</span>
<a name="l03584"></a>03584 <span class="preprocessor"></span>
<a name="l03588"></a>03588 <span class="preprocessor">#define CAST_BITS_OPT64(FROM, TO, STO)        \</span>
<a name="l03589"></a><a class="code" href="namespacevsx.html#a386874b28fe30cb2317c4b82bc8d45e4">03589</a> <span class="preprocessor">template &lt;class T&gt; static T svec_cast_bits(FROM val);     \</span>
<a name="l03590"></a><a class="code" href="namespacevsx.html#a64cc838cdb544fde07f5ac56a269bc21">03590</a> <span class="preprocessor"> \</span>
<a name="l03593"></a>03593 <span class="preprocessor">template &lt;&gt; FORCEINLINE TO svec_cast_bits&lt;TO&gt;(FROM val) {      \</span>
<a name="l03594"></a><a class="code" href="namespacevsx.html#af4ea2e75f8fbaf4102a45b4ccc0f4fd7">03594</a> <span class="preprocessor">    return TO((__vector STO)(val.v[0]), (__vector STO)(val.v[1])); \</span>
<a name="l03595"></a><a class="code" href="namespacevsx.html#aa965ab0886752574fa69e7435743659a">03595</a> <span class="preprocessor">}</span>
<a name="l03596"></a><a class="code" href="namespacevsx.html#ad5fa0c90526768d0aa84795b515aa258">03596</a> <span class="preprocessor"></span>
<a name="l03597"></a><a class="code" href="namespacevsx.html#a2aaa28f11576d3fae909ce7d2bb16843">03597</a> <a class="code" href="power__vsx4_8h.html#ac9f0907f36b8e1e39e0eb8e8f5bde0e3" title="cast based on directly change the __vector type">CAST_BITS_OPT</a>(<a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <span class="keywordtype">float</span>);
<a name="l03598"></a>03598 <a class="code" href="power__vsx4_8h.html#ac9f0907f36b8e1e39e0eb8e8f5bde0e3" title="cast based on directly change the __vector type">CAST_BITS_OPT</a>(<a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, <a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <span class="keywordtype">float</span>);
<a name="l03599"></a>03599 <a class="code" href="power__vsx4_8h.html#ac9f0907f36b8e1e39e0eb8e8f5bde0e3" title="cast based on directly change the __vector type">CAST_BITS_OPT</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <a class="code" href="structvsx_1_1svec4__i32.html" title="data representation and operations on a vector of 4 signed int.">svec4_i32</a>, int32_t);
<a name="l03600"></a>03600 <a class="code" href="power__vsx4_8h.html#ac9f0907f36b8e1e39e0eb8e8f5bde0e3" title="cast based on directly change the __vector type">CAST_BITS_OPT</a>(<a class="code" href="structvsx_1_1svec4__f.html" title="data representation and operations on a vector of 4 float.">svec4_f</a>, <a class="code" href="structvsx_1_1svec4__u32.html" title="data representation and operations on a vector of 4 unsigned int.">svec4_u32</a>, uint32_t);
<a name="l03601"></a>03601 
<a name="l03602"></a>03602 <a class="code" href="power__vsx4_8h.html#a44dd753da26ca71c731c2c6039fadfbf" title="cast based on directly change the __vector type">CAST_BITS_OPT64</a>(<a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>);
<a name="l03603"></a>03603 <a class="code" href="power__vsx4_8h.html#a44dd753da26ca71c731c2c6039fadfbf" title="cast based on directly change the __vector type">CAST_BITS_OPT64</a>(<a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, <a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <span class="keywordtype">double</span>);
<a name="l03604"></a>03604 <a class="code" href="power__vsx4_8h.html#a44dd753da26ca71c731c2c6039fadfbf" title="cast based on directly change the __vector type">CAST_BITS_OPT64</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <a class="code" href="structvsx_1_1svec4__i64.html" title="data representation and operations on a vector of 4 signed long long.">svec4_i64</a>, int64_t);
<a name="l03605"></a>03605 <a class="code" href="power__vsx4_8h.html#a44dd753da26ca71c731c2c6039fadfbf" title="cast based on directly change the __vector type">CAST_BITS_OPT64</a>(<a class="code" href="structvsx_1_1svec4__d.html" title="data representation and operations on a vector of 4 double.">svec4_d</a>, <a class="code" href="structvsx_1_1svec4__u64.html" title="data representation and operations on a vector of 4 unsigned long long.">svec4_u64</a>, uint64_t);
<a name="l03606"></a>03606 
<a name="l03607"></a>03607 
<a name="l03608"></a>03608 
<a name="l03610"></a><a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95">03610</a> <span class="comment">//</span>
<a name="l03611"></a>03611 <span class="comment">// Class operations based on the above interfaces</span>
<a name="l03612"></a>03612 <span class="comment">//</span>
<a name="l03614"></a>03614 <span class="comment"></span>
<a name="l03618"></a>03618 <span class="preprocessor">#define SUBSCRIPT_FUNC_IMPL_VSX(VTYPE, STYPE) \</span>
<a name="l03619"></a><a class="code" href="power__vsx4_8h.html#a73dbc42392411412de3ccdd5cce64331">03619</a> <span class="preprocessor">FORCEINLINE STYPE&amp; VTYPE::operator[](int index) { \</span>
<a name="l03620"></a>03620 <span class="preprocessor">  INC_STATS_NAME(STATS_INSERT, 1, &quot;insert &quot;#STYPE);   \</span>
<a name="l03621"></a>03621 <span class="preprocessor">  return ((STYPE *)&amp;v)[index];   \</span>
<a name="l03622"></a>03622 <span class="preprocessor">} \</span>
<a name="l03623"></a>03623 <span class="preprocessor">const FORCEINLINE STYPE  VTYPE::operator[](int index) const { \</span>
<a name="l03624"></a>03624 <span class="preprocessor">  return svec_extract(*this, index); \</span>
<a name="l03625"></a>03625 <span class="preprocessor">}</span>
<a name="l03626"></a>03626 <span class="preprocessor"></span>
<a name="l03627"></a>03627 <span class="preprocessor">#define SUBSCRIPT_FUNC_OPT_IMPL(VTYPE, STYPE) \</span>
<a name="l03628"></a>03628 <span class="preprocessor">FORCEINLINE void VTYPE::Helper::operator=(STYPE value) { \</span>
<a name="l03629"></a>03629 <span class="preprocessor">  svec_insert(m_self, m_index, value); \</span>
<a name="l03630"></a>03630 <span class="preprocessor">} \</span>
<a name="l03631"></a>03631 <span class="preprocessor">FORCEINLINE void VTYPE::Helper::operator=(VTYPE::Helper helper) { \</span>
<a name="l03632"></a>03632 <span class="preprocessor">  svec_insert(m_self, m_index, helper.operator STYPE()); \</span>
<a name="l03633"></a>03633 <span class="preprocessor">} \</span>
<a name="l03634"></a>03634 <span class="preprocessor">FORCEINLINE VTYPE::Helper::operator STYPE() const { \</span>
<a name="l03635"></a>03635 <span class="preprocessor">  return svec_extract(*m_self, m_index);\</span>
<a name="l03636"></a>03636 <span class="preprocessor">} \</span>
<a name="l03637"></a>03637 <span class="preprocessor">const FORCEINLINE STYPE  VTYPE::operator[](int index) const { \</span>
<a name="l03638"></a>03638 <span class="preprocessor">  return svec_extract(*this, index); \</span>
<a name="l03639"></a>03639 <span class="preprocessor">}</span>
<a name="l03640"></a>03640 <span class="preprocessor"></span>
<a name="l03641"></a>03641 <a class="code" href="power__vsx4_8h.html#a73dbc42392411412de3ccdd5cce64331">SUBSCRIPT_FUNC_OPT_IMPL</a>(svec4_i1, uint32_t);
<a name="l03642"></a>03642 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_i8, int8_t);
<a name="l03643"></a>03643 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_u8, uint8_t);
<a name="l03644"></a>03644 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_i16, int16_t);
<a name="l03645"></a>03645 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_u16, uint16_t);
<a name="l03646"></a>03646 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_i32, int32_t);
<a name="l03647"></a>03647 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_u32, uint32_t);
<a name="l03648"></a>03648 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_i64, int64_t);
<a name="l03649"></a>03649 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_u64, uint64_t);
<a name="l03650"></a>03650 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_f, <span class="keywordtype">float</span>);
<a name="l03651"></a>03651 <a class="code" href="power__vsx4_8h.html#ad158a8eaffe8501f34d363bfe398fa95" title="this macro uses vsx specific intrinsics to do extract, insert">SUBSCRIPT_FUNC_IMPL_VSX</a>(svec4_d, <span class="keywordtype">double</span>);
<a name="l03652"></a>03652 
<a name="l03653"></a>03653 
<a name="l03654"></a>03654 
<a name="l03661"></a>03661 <span class="keyword">static</span> FORCEINLINE uint64_t svec_movmsk(svec4_i1 mask) {
<a name="l03662"></a>03662   uint64_t res;
<a name="l03663"></a>03663   res = ((mask[0]&gt;&gt;31) &amp; 0x1) |
<a name="l03664"></a>03664         ((mask[1]&gt;&gt;30) &amp; 0x2) |
<a name="l03665"></a>03665         ((mask[2]&gt;&gt;29) &amp; 0x4) |
<a name="l03666"></a>03666         ((mask[3]&gt;&gt;28) &amp; 0x8);
<a name="l03667"></a>03667   INC_STATS_NAME(STATS_OTHER_SLOW,1, <span class="stringliteral">&quot;svec_movmsk&quot;</span>);
<a name="l03668"></a>03668   <span class="keywordflow">return</span> res;
<a name="l03669"></a>03669 }
<a name="l03670"></a>03670 
<a name="l03676"></a>03676 FORCEINLINE <span class="keywordtype">bool</span> svec4_i1::any_true() { <span class="keywordflow">return</span> svec_any_true(*<span class="keyword">this</span>); }
<a name="l03677"></a>03677 
<a name="l03683"></a>03683 FORCEINLINE <span class="keywordtype">bool</span> svec4_i1::all_true() { <span class="keywordflow">return</span> svec_all_true(*<span class="keyword">this</span>); }
<a name="l03684"></a>03684 
<a name="l03690"></a>03690 FORCEINLINE <span class="keywordtype">bool</span> svec4_i1::none_true() { <span class="keywordflow">return</span> svec_none_true(*<span class="keyword">this</span>); }
<a name="l03691"></a>03691 
<a name="l03696"></a>03696 FORCEINLINE svec4_i1 svec4_i1::operator~() { <span class="keywordflow">return</span> svec_not(*<span class="keyword">this</span>); }
<a name="l03697"></a>03697 
<a name="l03703"></a>03703 FORCEINLINE svec4_i1 svec4_i1::operator|(svec4_i1 a) { <span class="keywordflow">return</span> svec_or(*<span class="keyword">this</span>, a); }
<a name="l03709"></a>03709 FORCEINLINE svec4_i1 svec4_i1::operator&amp;(svec4_i1 a) { <span class="keywordflow">return</span> svec_and(*<span class="keyword">this</span>, a); }
<a name="l03715"></a>03715 FORCEINLINE svec4_i1 svec4_i1::operator^(svec4_i1 a) { <span class="keywordflow">return</span> svec_xor(*<span class="keyword">this</span>, a); }
<a name="l03720"></a>03720 FORCEINLINE svec4_i1 svec4_i1::operator!() { <span class="keywordflow">return</span> svec_not(*<span class="keyword">this</span>); }
<a name="l03721"></a>03721 
<a name="l03727"></a>03727 FORCEINLINE svec4_i1 svec4_i1::operator&amp;&amp;(svec4_i1 a) { <span class="keywordflow">return</span> svec_and(*<span class="keyword">this</span>, a); }
<a name="l03733"></a>03733 FORCEINLINE svec4_i1 svec4_i1::operator||(svec4_i1 a) { <span class="keywordflow">return</span> svec_or(*<span class="keyword">this</span>, a); }
<a name="l03734"></a>03734 
<a name="l03740"></a>03740 FORCEINLINE svec4_i1 svec4_i1::operator ==(svec4_i1 a) {
<a name="l03741"></a>03741     <span class="keywordflow">return</span> svec_equal(*<span class="keyword">this</span>, a);
<a name="l03742"></a>03742 }
<a name="l03743"></a>03743 
<a name="l03749"></a>03749 FORCEINLINE svec4_i1 svec4_i1::operator !=(svec4_i1 a) {
<a name="l03750"></a>03750     <span class="keywordflow">return</span> svec_not_equal(*<span class="keyword">this</span>, a);
<a name="l03751"></a>03751 }
<a name="l03752"></a>03752 
<a name="l03758"></a>03758 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_i8, svec4_i1);
<a name="l03759"></a>03759 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_u8, svec4_i1);
<a name="l03760"></a>03760 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_i16, svec4_i1);
<a name="l03761"></a>03761 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_u16, svec4_i1);
<a name="l03762"></a>03762 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_i32, svec4_i1);
<a name="l03763"></a>03763 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_u32, svec4_i1);
<a name="l03764"></a>03764 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_i64, svec4_i1);
<a name="l03765"></a>03765 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_u64, svec4_i1);
<a name="l03766"></a>03766 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_f, svec4_i1);
<a name="l03767"></a>03767 <a class="code" href="namespacevsx.html#a793986d8639ac4b263d65fd58951aa00">VEC_CMP_IMPL</a>(svec4_d, svec4_i1);
<a name="l03768"></a>03768 
<a name="l03769"></a>03769 <a class="code" href="namespacevsx.html#a242f0e4ad573db3a997c4f6e1ad671c8">MVEC_CLASS_METHOD_IMPL</a>(svec4_i1, uint32_t);
<a name="l03770"></a>03770 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_i8, int8_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03771"></a>03771 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_u8, uint8_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03772"></a>03772 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_i16, int16_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03773"></a>03773 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_u16, uint16_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03774"></a>03774 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_i32, int32_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03775"></a>03775 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_u32, uint32_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03776"></a>03776 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_i64, int64_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03777"></a>03777 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_u64, uint64_t, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03778"></a>03778 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_f, <span class="keywordtype">float</span>, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03779"></a>03779 <a class="code" href="namespacevsx.html#ad0fd534496b5a3f088067ba1b6b9d059">VEC_CLASS_METHOD_IMPL</a>(svec4_d, <span class="keywordtype">double</span>, svec4_i1, svec4_ptr, svec4_i32, svec4_i64);
<a name="l03780"></a>03780 
<a name="l03781"></a>03781 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_i8, svec4_u8, int8_t);
<a name="l03782"></a>03782 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_u8, svec4_u8, uint8_t);
<a name="l03783"></a>03783 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_i16, svec4_u16, int16_t);
<a name="l03784"></a>03784 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_u16, svec4_u16, uint16_t);
<a name="l03785"></a>03785 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_i32, svec4_u32, int32_t);
<a name="l03786"></a>03786 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_u32, svec4_u32, uint32_t);
<a name="l03787"></a>03787 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_i64, svec4_u64, int64_t);
<a name="l03788"></a>03788 <a class="code" href="namespacevsx.html#a4ab45524453a8471c13b66488955d488">VEC_INT_CLASS_METHOD_IMPL</a>(svec4_u64, svec4_u64, uint64_t);
<a name="l03789"></a>03789 
<a name="l03790"></a>03790 <a class="code" href="namespacevsx.html#a286e8ac04341e32820c7a6c99dc67329">VEC_FLOAT_CLASS_METHOD_IMPL</a>(svec4_f);
<a name="l03791"></a>03791 <a class="code" href="namespacevsx.html#a286e8ac04341e32820c7a6c99dc67329">VEC_FLOAT_CLASS_METHOD_IMPL</a>(svec4_d);
<a name="l03792"></a>03792 
<a name="l03793"></a>03793 <span class="preprocessor">#undef LANES</span>
<a name="l03794"></a>03794 <span class="preprocessor"></span>} <span class="comment">//end of namespace vsx4</span>
<a name="l03795"></a>03795 <span class="preprocessor">#endif </span><span class="comment">/* POWER_VSX4_H_ */</span>
<a name="l03796"></a>03796 
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 18 2013 12:08:45 for Generic SIMD Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5
</small></address>

</body>
</html>
